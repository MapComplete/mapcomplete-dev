var S=Object.defineProperty;var l=(s,n,e)=>n in s?S(s,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[n]=e;var t=(s,n,e)=>(l(s,typeof n!="symbol"?n+"":n,e),e);import{U as f}from"./LocalStorageSource-4f66d5e4.js";import{Q as r}from"./Tr-4eb3155c.js";import{C as w}from"./Constants-8c03dcc4.js";import{U as m}from"./Utils-498bb79d.js";class i{static initSwitch(n,e,c){const a=e;return r.GetQueryParameter(n,""+a,c,{stackOffset:-1}).sync(h=>h===void 0?a:h!=="false",[],h=>h==a?void 0:""+h)}}class d{constructor(){t(this,"featureSwitchFakeUser");this.featureSwitchFakeUser=r.GetBooleanQueryParameter("fake-user",!1,"If true, 'dryrun' mode is activated and a fake user account is loaded")}}class E extends d{constructor(e){super();t(this,"layoutToUse");t(this,"featureSwitchEnableLogin");t(this,"featureSwitchSearch");t(this,"featureSwitchBackgroundSelection");t(this,"featureSwitchWelcomeMessage");t(this,"featureSwitchCommunityIndex");t(this,"featureSwitchExtraLinkEnabled");t(this,"featureSwitchMoreQuests");t(this,"featureSwitchShareScreen");t(this,"featureSwitchGeolocation");t(this,"featureSwitchIsTesting");t(this,"featureSwitchIsDebugging");t(this,"featureSwitchShowAllQuestions");t(this,"featureSwitchFilter");t(this,"featureSwitchEnableExport");t(this,"overpassUrl");t(this,"overpassTimeout");t(this,"overpassMaxZoom");t(this,"osmApiTileSize");t(this,"backgroundLayerId");this.layoutToUse=e,this.featureSwitchEnableLogin=i.initSwitch("fs-enable-login",(e==null?void 0:e.enableUserBadge)??!0,"Disables/Enables logging in and thus disables editing all together. This effectively puts MapComplete into read-only mode."),r.wasInitialized("fs-userbadge")&&this.featureSwitchEnableLogin.setData(r.GetBooleanQueryParameter("fs-userbadge",void 0,"Legacy").data),this.featureSwitchSearch=i.initSwitch("fs-search",(e==null?void 0:e.enableSearch)??!0,"Disables/Enables the search bar"),this.featureSwitchBackgroundSelection=i.initSwitch("fs-background",(e==null?void 0:e.enableBackgroundLayerSelection)??!0,"Disables/Enables the background layer control"),this.featureSwitchFilter=i.initSwitch("fs-filter",(e==null?void 0:e.enableLayers)??!0,"Disables/Enables the filter view"),this.featureSwitchWelcomeMessage=i.initSwitch("fs-welcome-message",!0,"Disables/enables the help menu or welcome message"),this.featureSwitchCommunityIndex=i.initSwitch("fs-community-index",this.featureSwitchEnableLogin.data,"Disables/enables the button to get in touch with the community"),this.featureSwitchExtraLinkEnabled=i.initSwitch("fs-iframe-popout",!0,"Disables/Enables the extraLink button. By default, if in iframe mode and the welcome message is hidden, a popout button to the full mapcomplete instance is shown instead (unless disabled with this switch or another extraLink button is enabled)"),this.featureSwitchMoreQuests=i.initSwitch("fs-more-quests",(e==null?void 0:e.enableMoreQuests)??!0,"Disables/Enables the 'More Quests'-tab in the welcome message"),this.featureSwitchShareScreen=i.initSwitch("fs-share-screen",(e==null?void 0:e.enableShareScreen)??!0,"Disables/Enables the 'Share-screen'-tab in the welcome message"),this.featureSwitchGeolocation=i.initSwitch("fs-geolocation",(e==null?void 0:e.enableGeolocation)??!0,"Disables/Enables the geolocation button"),this.featureSwitchShowAllQuestions=i.initSwitch("fs-all-questions",(e==null?void 0:e.enableShowAllQuestions)??!1,"Always show all questions"),this.featureSwitchEnableExport=i.initSwitch("fs-export",(e==null?void 0:e.enableExportButton)??!0,"Enable the export as GeoJSON and CSV button");let c=!1;!m.runningFromConsole&&(location.hostname==="localhost"||location.hostname==="127.0.0.1")&&(c=!0),this.featureSwitchIsTesting=r.GetBooleanQueryParameter("test",c,"If true, 'dryrun' mode is activated. The app will behave as normal, except that changes to OSM will be printed onto the console instead of actually uploaded to osm.org"),this.featureSwitchIsDebugging=r.GetBooleanQueryParameter("debug",!1,"If true, shows some extra debugging help such as all the available tags on every object"),this.overpassUrl=r.GetQueryParameter("overpassUrl",((e==null?void 0:e.overpassUrl)??w.defaultOverpassUrls).join(","),"Point mapcomplete to a different overpass-instance. Example: https://overpass-api.de/api/interpreter").sync(a=>a==null?void 0:a.split(","),[],a=>a==null?void 0:a.join(",")),this.overpassTimeout=f.asInt(r.GetQueryParameter("overpassTimeout",""+(e==null?void 0:e.overpassTimeout),"Set a different timeout (in seconds) for queries in overpass")),this.overpassMaxZoom=f.asFloat(r.GetQueryParameter("overpassMaxZoom",""+(e==null?void 0:e.overpassMaxZoom)," point to switch between OSM-api and overpass")),this.osmApiTileSize=f.asInt(r.GetQueryParameter("osmApiTileSize",""+(e==null?void 0:e.osmApiTileSize),"Tilesize when the OSM-API is used to fetch data within a BBOX")),this.backgroundLayerId=r.GetQueryParameter("background",e==null?void 0:e.defaultBackgroundId,"The id of the background layer to start with")}}export{E as F,d as O};
//# sourceMappingURL=FeatureSwitchState-35e16486.js.map
