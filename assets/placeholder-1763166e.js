var Qc=Object.defineProperty;var ef=(t,e,r)=>e in t?Qc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var G=(t,e,r)=>(ef(t,typeof e!="symbol"?e+"":e,r),r);import{S as Jo,i as jo,s as Go,G as Zr,l as qi,o as no,b as ln,q as io,d as Bn,f as Vo,r as Wr,H as Qr,I as en,J as tn,u as tf,t as ct,g as vt,h as In,v as rf,w as ao,x as nf,y as $r,z as Yo,A as Xo,C as Zo,D as xi,e as af,c as Fi,a as of,m as Wi,j as $i}from"./index-74d29504.js";import{U as hr,I as Ar,S as sf}from"./UIEventSource-14eb915f.js";import{c as Mr,a as cf,C as oo}from"./Constants-cc5bb13a.js";import{J as Qo,G as Ai,L as ff,I as df}from"./FixImages-3b4dcdb8.js";import{U as $t}from"./Utils-e0968e8e.js";import{d as Ft,Q as so,k as co,a as uf,T as lf}from"./tw-merge-49ed286c.js";import{L as hf}from"./Loading-9adc37fc.js";import"./OsmConnection-3ef05cf5.js";function pf(t){let e,r,n,i,a;const o=t[2].default,s=Zr(o,t,t[1],null);let h=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 20 20"},{fill:"currentColor"},{"aria-hidden":"true"},t[0]],b={};for(let l=0;l<h.length;l+=1)b=qi(b,h[l]);return{c(){e=no("svg"),s&&s.c(),r=no("path"),ln(r,"fill-rule","evenodd"),ln(r,"d","M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z"),ln(r,"clip-rule","evenodd"),io(e,b)},m(l,w){Bn(l,e,w),s&&s.m(e,null),Vo(e,r),n=!0,i||(a=[Wr(e,"click",t[3]),Wr(e,"mouseover",t[4]),Wr(e,"mouseenter",t[5]),Wr(e,"mouseleave",t[6]),Wr(e,"keydown",t[7])],i=!0)},p(l,[w]){s&&s.p&&(!n||w&2)&&Qr(s,o,l,l[1],n?tn(o,l[1],w,null):en(l[1]),null),io(e,b=tf(h,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 20 20"},{fill:"currentColor"},{"aria-hidden":"true"},w&1&&l[0]]))},i(l){n||(ct(s,l),n=!0)},o(l){vt(s,l),n=!1},d(l){l&&In(e),s&&s.d(l),i=!1,rf(a)}}}function bf(t,e,r){const n=[];let i=ao(e,n),{$$slots:a={},$$scope:o}=e;function s(k){$r.call(this,t,k)}function h(k){$r.call(this,t,k)}function b(k){$r.call(this,t,k)}function l(k){$r.call(this,t,k)}function w(k){$r.call(this,t,k)}return t.$$set=k=>{e=qi(qi({},e),nf(k)),r(0,i=ao(e,n)),"$$scope"in k&&r(1,o=k.$$scope)},[i,o,a,s,h,b,l,w]}class Qp extends Jo{constructor(e){super(),jo(this,e,bf,pf,Go,{})}}var pt={},Pn={},sr={},la={exports:{}};la.exports;(function(t){(function(e,r){function n(S,c){if(!S)throw new Error(c||"Assertion failed")}function i(S,c){S.super_=c;var p=function(){};p.prototype=c.prototype,S.prototype=new p,S.prototype.constructor=S}function a(S,c,p){if(a.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((c==="le"||c==="be")&&(p=c,c=10),this._init(S||0,c||10,p||"be"))}typeof e=="object"?e.exports=a:r.BN=a,a.BN=a,a.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Qo.Buffer}catch{}a.isBN=function(c){return c instanceof a?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===a.wordSize&&Array.isArray(c.words)},a.max=function(c,p){return c.cmp(p)>0?c:p},a.min=function(c,p){return c.cmp(p)<0?c:p},a.prototype._init=function(c,p,g){if(typeof c=="number")return this._initNumber(c,p,g);if(typeof c=="object")return this._initArray(c,p,g);p==="hex"&&(p=16),n(p===(p|0)&&p>=2&&p<=36),c=c.toString().replace(/\s+/g,"");var v=0;c[0]==="-"&&(v++,this.negative=1),v<c.length&&(p===16?this._parseHex(c,v,g):(this._parseBase(c,p,v),g==="le"&&this._initArray(this.toArray(),p,g)))},a.prototype._initNumber=function(c,p,g){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(n(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),p,g)},a.prototype._initArray=function(c,p,g){if(n(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var A,M,R=0;if(g==="be")for(v=c.length-1,A=0;v>=0;v-=3)M=c[v]|c[v-1]<<8|c[v-2]<<16,this.words[A]|=M<<R&67108863,this.words[A+1]=M>>>26-R&67108863,R+=24,R>=26&&(R-=26,A++);else if(g==="le")for(v=0,A=0;v<c.length;v+=3)M=c[v]|c[v+1]<<8|c[v+2]<<16,this.words[A]|=M<<R&67108863,this.words[A+1]=M>>>26-R&67108863,R+=24,R>=26&&(R-=26,A++);return this.strip()};function s(S,c){var p=S.charCodeAt(c);return p>=65&&p<=70?p-55:p>=97&&p<=102?p-87:p-48&15}function h(S,c,p){var g=s(S,p);return p-1>=c&&(g|=s(S,p-1)<<4),g}a.prototype._parseHex=function(c,p,g){this.length=Math.ceil((c.length-p)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var A=0,M=0,R;if(g==="be")for(v=c.length-1;v>=p;v-=2)R=h(c,p,v)<<A,this.words[M]|=R&67108863,A>=18?(A-=18,M+=1,this.words[M]|=R>>>26):A+=8;else{var x=c.length-p;for(v=x%2===0?p+1:p;v<c.length;v+=2)R=h(c,p,v)<<A,this.words[M]|=R&67108863,A>=18?(A-=18,M+=1,this.words[M]|=R>>>26):A+=8}this.strip()};function b(S,c,p,g){for(var v=0,A=Math.min(S.length,p),M=c;M<A;M++){var R=S.charCodeAt(M)-48;v*=g,R>=49?v+=R-49+10:R>=17?v+=R-17+10:v+=R}return v}a.prototype._parseBase=function(c,p,g){this.words=[0],this.length=1;for(var v=0,A=1;A<=67108863;A*=p)v++;v--,A=A/p|0;for(var M=c.length-g,R=M%v,x=Math.min(M,M-R)+g,u=0,_=g;_<x;_+=v)u=b(c,_,_+v,p),this.imuln(A),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(R!==0){var H=1;for(u=b(c,_,c.length,p),_=0;_<R;_++)H*=p;this.imuln(H),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},a.prototype.copy=function(c){c.words=new Array(this.length);for(var p=0;p<this.length;p++)c.words[p]=this.words[p];c.length=this.length,c.negative=this.negative,c.red=this.red},a.prototype.clone=function(){var c=new a(null);return this.copy(c),c},a.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],k=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(c,p){c=c||10,p=p|0||1;var g;if(c===16||c==="hex"){g="";for(var v=0,A=0,M=0;M<this.length;M++){var R=this.words[M],x=((R<<v|A)&16777215).toString(16);A=R>>>24-v&16777215,A!==0||M!==this.length-1?g=l[6-x.length]+x+g:g=x+g,v+=2,v>=26&&(v-=26,M--)}for(A!==0&&(g=A.toString(16)+g);g.length%p!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(c===(c|0)&&c>=2&&c<=36){var u=w[c],_=k[c];g="";var H=this.clone();for(H.negative=0;!H.isZero();){var N=H.modn(_).toString(c);H=H.idivn(_),H.isZero()?g=N+g:g=l[u-N.length]+N+g}for(this.isZero()&&(g="0"+g);g.length%p!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}n(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(c,p){return n(typeof o<"u"),this.toArrayLike(o,c,p)},a.prototype.toArray=function(c,p){return this.toArrayLike(Array,c,p)},a.prototype.toArrayLike=function(c,p,g){var v=this.byteLength(),A=g||Math.max(1,v);n(v<=A,"byte array longer than desired length"),n(A>0,"Requested array length <= 0"),this.strip();var M=p==="le",R=new c(A),x,u,_=this.clone();if(M){for(u=0;!_.isZero();u++)x=_.andln(255),_.iushrn(8),R[u]=x;for(;u<A;u++)R[u]=0}else{for(u=0;u<A-v;u++)R[u]=0;for(u=0;!_.isZero();u++)x=_.andln(255),_.iushrn(8),R[A-u-1]=x}return R},Math.clz32?a.prototype._countBits=function(c){return 32-Math.clz32(c)}:a.prototype._countBits=function(c){var p=c,g=0;return p>=4096&&(g+=13,p>>>=13),p>=64&&(g+=7,p>>>=7),p>=8&&(g+=4,p>>>=4),p>=2&&(g+=2,p>>>=2),g+p},a.prototype._zeroBits=function(c){if(c===0)return 26;var p=c,g=0;return p&8191||(g+=13,p>>>=13),p&127||(g+=7,p>>>=7),p&15||(g+=4,p>>>=4),p&3||(g+=2,p>>>=2),p&1||g++,g},a.prototype.bitLength=function(){var c=this.words[this.length-1],p=this._countBits(c);return(this.length-1)*26+p};function B(S){for(var c=new Array(S.bitLength()),p=0;p<c.length;p++){var g=p/26|0,v=p%26;c[p]=(S.words[g]&1<<v)>>>v}return c}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,p=0;p<this.length;p++){var g=this._zeroBits(this.words[p]);if(c+=g,g!==26)break}return c},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},a.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var p=0;p<c.length;p++)this.words[p]=this.words[p]|c.words[p];return this.strip()},a.prototype.ior=function(c){return n((this.negative|c.negative)===0),this.iuor(c)},a.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},a.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},a.prototype.iuand=function(c){var p;this.length>c.length?p=c:p=this;for(var g=0;g<p.length;g++)this.words[g]=this.words[g]&c.words[g];return this.length=p.length,this.strip()},a.prototype.iand=function(c){return n((this.negative|c.negative)===0),this.iuand(c)},a.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},a.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},a.prototype.iuxor=function(c){var p,g;this.length>c.length?(p=this,g=c):(p=c,g=this);for(var v=0;v<g.length;v++)this.words[v]=p.words[v]^g.words[v];if(this!==p)for(;v<p.length;v++)this.words[v]=p.words[v];return this.length=p.length,this.strip()},a.prototype.ixor=function(c){return n((this.negative|c.negative)===0),this.iuxor(c)},a.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},a.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},a.prototype.inotn=function(c){n(typeof c=="number"&&c>=0);var p=Math.ceil(c/26)|0,g=c%26;this._expand(p),g>0&&p--;for(var v=0;v<p;v++)this.words[v]=~this.words[v]&67108863;return g>0&&(this.words[v]=~this.words[v]&67108863>>26-g),this.strip()},a.prototype.notn=function(c){return this.clone().inotn(c)},a.prototype.setn=function(c,p){n(typeof c=="number"&&c>=0);var g=c/26|0,v=c%26;return this._expand(g+1),p?this.words[g]=this.words[g]|1<<v:this.words[g]=this.words[g]&~(1<<v),this.strip()},a.prototype.iadd=function(c){var p;if(this.negative!==0&&c.negative===0)return this.negative=0,p=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,p=this.isub(c),c.negative=1,p._normSign();var g,v;this.length>c.length?(g=this,v=c):(g=c,v=this);for(var A=0,M=0;M<v.length;M++)p=(g.words[M]|0)+(v.words[M]|0)+A,this.words[M]=p&67108863,A=p>>>26;for(;A!==0&&M<g.length;M++)p=(g.words[M]|0)+A,this.words[M]=p&67108863,A=p>>>26;if(this.length=g.length,A!==0)this.words[this.length]=A,this.length++;else if(g!==this)for(;M<g.length;M++)this.words[M]=g.words[M];return this},a.prototype.add=function(c){var p;return c.negative!==0&&this.negative===0?(c.negative=0,p=this.sub(c),c.negative^=1,p):c.negative===0&&this.negative!==0?(this.negative=0,p=c.sub(this),this.negative=1,p):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},a.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var p=this.iadd(c);return c.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var g=this.cmp(c);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,A;g>0?(v=this,A=c):(v=c,A=this);for(var M=0,R=0;R<A.length;R++)p=(v.words[R]|0)-(A.words[R]|0)+M,M=p>>26,this.words[R]=p&67108863;for(;M!==0&&R<v.length;R++)p=(v.words[R]|0)+M,M=p>>26,this.words[R]=p&67108863;if(M===0&&R<v.length&&v!==this)for(;R<v.length;R++)this.words[R]=v.words[R];return this.length=Math.max(this.length,R),v!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(c){return this.clone().isub(c)};function C(S,c,p){p.negative=c.negative^S.negative;var g=S.length+c.length|0;p.length=g,g=g-1|0;var v=S.words[0]|0,A=c.words[0]|0,M=v*A,R=M&67108863,x=M/67108864|0;p.words[0]=R;for(var u=1;u<g;u++){for(var _=x>>>26,H=x&67108863,N=Math.min(u,c.length-1),L=Math.max(0,u-S.length+1);L<=N;L++){var $=u-L|0;v=S.words[$]|0,A=c.words[L]|0,M=v*A+H,_+=M/67108864|0,H=M&67108863}p.words[u]=H|0,x=_|0}return x!==0?p.words[u]=x|0:p.length--,p.strip()}var I=function(c,p,g){var v=c.words,A=p.words,M=g.words,R=0,x,u,_,H=v[0]|0,N=H&8191,L=H>>>13,$=v[1]|0,Z=$&8191,ie=$>>>13,et=v[2]|0,te=et&8191,ce=et>>>13,fn=v[3]|0,pe=fn&8191,fe=fn>>>13,Zt=v[4]|0,be=Zt&8191,me=Zt>>>13,yr=v[5]|0,ge=yr&8191,ve=yr>>>13,Fr=v[6]|0,le=Fr&8191,ee=Fr>>>13,wr=v[7]|0,ye=wr&8191,ae=wr>>>13,dn=v[8]|0,m=dn&8191,f=dn>>>13,d=v[9]|0,y=d&8191,E=d>>>13,P=A[0]|0,T=P&8191,K=P>>>13,he=A[1]|0,W=he&8191,J=he>>>13,re=A[2]|0,Ae=re&8191,Se=re>>>13,Ya=A[3]|0,Ee=Ya&8191,Me=Ya>>>13,Xa=A[4]|0,Ce=Xa&8191,ke=Xa>>>13,Za=A[5]|0,Re=Za&8191,Be=Za>>>13,Qa=A[6]|0,Ie=Qa&8191,Pe=Qa>>>13,eo=A[7]|0,Te=eo&8191,Oe=eo>>>13,to=A[8]|0,De=to&8191,He=to>>>13,ro=A[9]|0,ze=ro&8191,Ue=ro>>>13;g.negative=c.negative^p.negative,g.length=19,x=Math.imul(N,T),u=Math.imul(N,K),u=u+Math.imul(L,T)|0,_=Math.imul(L,K);var ni=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(ni>>>26)|0,ni&=67108863,x=Math.imul(Z,T),u=Math.imul(Z,K),u=u+Math.imul(ie,T)|0,_=Math.imul(ie,K),x=x+Math.imul(N,W)|0,u=u+Math.imul(N,J)|0,u=u+Math.imul(L,W)|0,_=_+Math.imul(L,J)|0;var ii=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(ii>>>26)|0,ii&=67108863,x=Math.imul(te,T),u=Math.imul(te,K),u=u+Math.imul(ce,T)|0,_=Math.imul(ce,K),x=x+Math.imul(Z,W)|0,u=u+Math.imul(Z,J)|0,u=u+Math.imul(ie,W)|0,_=_+Math.imul(ie,J)|0,x=x+Math.imul(N,Ae)|0,u=u+Math.imul(N,Se)|0,u=u+Math.imul(L,Ae)|0,_=_+Math.imul(L,Se)|0;var ai=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(ai>>>26)|0,ai&=67108863,x=Math.imul(pe,T),u=Math.imul(pe,K),u=u+Math.imul(fe,T)|0,_=Math.imul(fe,K),x=x+Math.imul(te,W)|0,u=u+Math.imul(te,J)|0,u=u+Math.imul(ce,W)|0,_=_+Math.imul(ce,J)|0,x=x+Math.imul(Z,Ae)|0,u=u+Math.imul(Z,Se)|0,u=u+Math.imul(ie,Ae)|0,_=_+Math.imul(ie,Se)|0,x=x+Math.imul(N,Ee)|0,u=u+Math.imul(N,Me)|0,u=u+Math.imul(L,Ee)|0,_=_+Math.imul(L,Me)|0;var oi=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(oi>>>26)|0,oi&=67108863,x=Math.imul(be,T),u=Math.imul(be,K),u=u+Math.imul(me,T)|0,_=Math.imul(me,K),x=x+Math.imul(pe,W)|0,u=u+Math.imul(pe,J)|0,u=u+Math.imul(fe,W)|0,_=_+Math.imul(fe,J)|0,x=x+Math.imul(te,Ae)|0,u=u+Math.imul(te,Se)|0,u=u+Math.imul(ce,Ae)|0,_=_+Math.imul(ce,Se)|0,x=x+Math.imul(Z,Ee)|0,u=u+Math.imul(Z,Me)|0,u=u+Math.imul(ie,Ee)|0,_=_+Math.imul(ie,Me)|0,x=x+Math.imul(N,Ce)|0,u=u+Math.imul(N,ke)|0,u=u+Math.imul(L,Ce)|0,_=_+Math.imul(L,ke)|0;var si=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(si>>>26)|0,si&=67108863,x=Math.imul(ge,T),u=Math.imul(ge,K),u=u+Math.imul(ve,T)|0,_=Math.imul(ve,K),x=x+Math.imul(be,W)|0,u=u+Math.imul(be,J)|0,u=u+Math.imul(me,W)|0,_=_+Math.imul(me,J)|0,x=x+Math.imul(pe,Ae)|0,u=u+Math.imul(pe,Se)|0,u=u+Math.imul(fe,Ae)|0,_=_+Math.imul(fe,Se)|0,x=x+Math.imul(te,Ee)|0,u=u+Math.imul(te,Me)|0,u=u+Math.imul(ce,Ee)|0,_=_+Math.imul(ce,Me)|0,x=x+Math.imul(Z,Ce)|0,u=u+Math.imul(Z,ke)|0,u=u+Math.imul(ie,Ce)|0,_=_+Math.imul(ie,ke)|0,x=x+Math.imul(N,Re)|0,u=u+Math.imul(N,Be)|0,u=u+Math.imul(L,Re)|0,_=_+Math.imul(L,Be)|0;var ci=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(ci>>>26)|0,ci&=67108863,x=Math.imul(le,T),u=Math.imul(le,K),u=u+Math.imul(ee,T)|0,_=Math.imul(ee,K),x=x+Math.imul(ge,W)|0,u=u+Math.imul(ge,J)|0,u=u+Math.imul(ve,W)|0,_=_+Math.imul(ve,J)|0,x=x+Math.imul(be,Ae)|0,u=u+Math.imul(be,Se)|0,u=u+Math.imul(me,Ae)|0,_=_+Math.imul(me,Se)|0,x=x+Math.imul(pe,Ee)|0,u=u+Math.imul(pe,Me)|0,u=u+Math.imul(fe,Ee)|0,_=_+Math.imul(fe,Me)|0,x=x+Math.imul(te,Ce)|0,u=u+Math.imul(te,ke)|0,u=u+Math.imul(ce,Ce)|0,_=_+Math.imul(ce,ke)|0,x=x+Math.imul(Z,Re)|0,u=u+Math.imul(Z,Be)|0,u=u+Math.imul(ie,Re)|0,_=_+Math.imul(ie,Be)|0,x=x+Math.imul(N,Ie)|0,u=u+Math.imul(N,Pe)|0,u=u+Math.imul(L,Ie)|0,_=_+Math.imul(L,Pe)|0;var fi=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(fi>>>26)|0,fi&=67108863,x=Math.imul(ye,T),u=Math.imul(ye,K),u=u+Math.imul(ae,T)|0,_=Math.imul(ae,K),x=x+Math.imul(le,W)|0,u=u+Math.imul(le,J)|0,u=u+Math.imul(ee,W)|0,_=_+Math.imul(ee,J)|0,x=x+Math.imul(ge,Ae)|0,u=u+Math.imul(ge,Se)|0,u=u+Math.imul(ve,Ae)|0,_=_+Math.imul(ve,Se)|0,x=x+Math.imul(be,Ee)|0,u=u+Math.imul(be,Me)|0,u=u+Math.imul(me,Ee)|0,_=_+Math.imul(me,Me)|0,x=x+Math.imul(pe,Ce)|0,u=u+Math.imul(pe,ke)|0,u=u+Math.imul(fe,Ce)|0,_=_+Math.imul(fe,ke)|0,x=x+Math.imul(te,Re)|0,u=u+Math.imul(te,Be)|0,u=u+Math.imul(ce,Re)|0,_=_+Math.imul(ce,Be)|0,x=x+Math.imul(Z,Ie)|0,u=u+Math.imul(Z,Pe)|0,u=u+Math.imul(ie,Ie)|0,_=_+Math.imul(ie,Pe)|0,x=x+Math.imul(N,Te)|0,u=u+Math.imul(N,Oe)|0,u=u+Math.imul(L,Te)|0,_=_+Math.imul(L,Oe)|0;var di=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(di>>>26)|0,di&=67108863,x=Math.imul(m,T),u=Math.imul(m,K),u=u+Math.imul(f,T)|0,_=Math.imul(f,K),x=x+Math.imul(ye,W)|0,u=u+Math.imul(ye,J)|0,u=u+Math.imul(ae,W)|0,_=_+Math.imul(ae,J)|0,x=x+Math.imul(le,Ae)|0,u=u+Math.imul(le,Se)|0,u=u+Math.imul(ee,Ae)|0,_=_+Math.imul(ee,Se)|0,x=x+Math.imul(ge,Ee)|0,u=u+Math.imul(ge,Me)|0,u=u+Math.imul(ve,Ee)|0,_=_+Math.imul(ve,Me)|0,x=x+Math.imul(be,Ce)|0,u=u+Math.imul(be,ke)|0,u=u+Math.imul(me,Ce)|0,_=_+Math.imul(me,ke)|0,x=x+Math.imul(pe,Re)|0,u=u+Math.imul(pe,Be)|0,u=u+Math.imul(fe,Re)|0,_=_+Math.imul(fe,Be)|0,x=x+Math.imul(te,Ie)|0,u=u+Math.imul(te,Pe)|0,u=u+Math.imul(ce,Ie)|0,_=_+Math.imul(ce,Pe)|0,x=x+Math.imul(Z,Te)|0,u=u+Math.imul(Z,Oe)|0,u=u+Math.imul(ie,Te)|0,_=_+Math.imul(ie,Oe)|0,x=x+Math.imul(N,De)|0,u=u+Math.imul(N,He)|0,u=u+Math.imul(L,De)|0,_=_+Math.imul(L,He)|0;var ui=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(ui>>>26)|0,ui&=67108863,x=Math.imul(y,T),u=Math.imul(y,K),u=u+Math.imul(E,T)|0,_=Math.imul(E,K),x=x+Math.imul(m,W)|0,u=u+Math.imul(m,J)|0,u=u+Math.imul(f,W)|0,_=_+Math.imul(f,J)|0,x=x+Math.imul(ye,Ae)|0,u=u+Math.imul(ye,Se)|0,u=u+Math.imul(ae,Ae)|0,_=_+Math.imul(ae,Se)|0,x=x+Math.imul(le,Ee)|0,u=u+Math.imul(le,Me)|0,u=u+Math.imul(ee,Ee)|0,_=_+Math.imul(ee,Me)|0,x=x+Math.imul(ge,Ce)|0,u=u+Math.imul(ge,ke)|0,u=u+Math.imul(ve,Ce)|0,_=_+Math.imul(ve,ke)|0,x=x+Math.imul(be,Re)|0,u=u+Math.imul(be,Be)|0,u=u+Math.imul(me,Re)|0,_=_+Math.imul(me,Be)|0,x=x+Math.imul(pe,Ie)|0,u=u+Math.imul(pe,Pe)|0,u=u+Math.imul(fe,Ie)|0,_=_+Math.imul(fe,Pe)|0,x=x+Math.imul(te,Te)|0,u=u+Math.imul(te,Oe)|0,u=u+Math.imul(ce,Te)|0,_=_+Math.imul(ce,Oe)|0,x=x+Math.imul(Z,De)|0,u=u+Math.imul(Z,He)|0,u=u+Math.imul(ie,De)|0,_=_+Math.imul(ie,He)|0,x=x+Math.imul(N,ze)|0,u=u+Math.imul(N,Ue)|0,u=u+Math.imul(L,ze)|0,_=_+Math.imul(L,Ue)|0;var li=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(li>>>26)|0,li&=67108863,x=Math.imul(y,W),u=Math.imul(y,J),u=u+Math.imul(E,W)|0,_=Math.imul(E,J),x=x+Math.imul(m,Ae)|0,u=u+Math.imul(m,Se)|0,u=u+Math.imul(f,Ae)|0,_=_+Math.imul(f,Se)|0,x=x+Math.imul(ye,Ee)|0,u=u+Math.imul(ye,Me)|0,u=u+Math.imul(ae,Ee)|0,_=_+Math.imul(ae,Me)|0,x=x+Math.imul(le,Ce)|0,u=u+Math.imul(le,ke)|0,u=u+Math.imul(ee,Ce)|0,_=_+Math.imul(ee,ke)|0,x=x+Math.imul(ge,Re)|0,u=u+Math.imul(ge,Be)|0,u=u+Math.imul(ve,Re)|0,_=_+Math.imul(ve,Be)|0,x=x+Math.imul(be,Ie)|0,u=u+Math.imul(be,Pe)|0,u=u+Math.imul(me,Ie)|0,_=_+Math.imul(me,Pe)|0,x=x+Math.imul(pe,Te)|0,u=u+Math.imul(pe,Oe)|0,u=u+Math.imul(fe,Te)|0,_=_+Math.imul(fe,Oe)|0,x=x+Math.imul(te,De)|0,u=u+Math.imul(te,He)|0,u=u+Math.imul(ce,De)|0,_=_+Math.imul(ce,He)|0,x=x+Math.imul(Z,ze)|0,u=u+Math.imul(Z,Ue)|0,u=u+Math.imul(ie,ze)|0,_=_+Math.imul(ie,Ue)|0;var hi=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(hi>>>26)|0,hi&=67108863,x=Math.imul(y,Ae),u=Math.imul(y,Se),u=u+Math.imul(E,Ae)|0,_=Math.imul(E,Se),x=x+Math.imul(m,Ee)|0,u=u+Math.imul(m,Me)|0,u=u+Math.imul(f,Ee)|0,_=_+Math.imul(f,Me)|0,x=x+Math.imul(ye,Ce)|0,u=u+Math.imul(ye,ke)|0,u=u+Math.imul(ae,Ce)|0,_=_+Math.imul(ae,ke)|0,x=x+Math.imul(le,Re)|0,u=u+Math.imul(le,Be)|0,u=u+Math.imul(ee,Re)|0,_=_+Math.imul(ee,Be)|0,x=x+Math.imul(ge,Ie)|0,u=u+Math.imul(ge,Pe)|0,u=u+Math.imul(ve,Ie)|0,_=_+Math.imul(ve,Pe)|0,x=x+Math.imul(be,Te)|0,u=u+Math.imul(be,Oe)|0,u=u+Math.imul(me,Te)|0,_=_+Math.imul(me,Oe)|0,x=x+Math.imul(pe,De)|0,u=u+Math.imul(pe,He)|0,u=u+Math.imul(fe,De)|0,_=_+Math.imul(fe,He)|0,x=x+Math.imul(te,ze)|0,u=u+Math.imul(te,Ue)|0,u=u+Math.imul(ce,ze)|0,_=_+Math.imul(ce,Ue)|0;var pi=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(pi>>>26)|0,pi&=67108863,x=Math.imul(y,Ee),u=Math.imul(y,Me),u=u+Math.imul(E,Ee)|0,_=Math.imul(E,Me),x=x+Math.imul(m,Ce)|0,u=u+Math.imul(m,ke)|0,u=u+Math.imul(f,Ce)|0,_=_+Math.imul(f,ke)|0,x=x+Math.imul(ye,Re)|0,u=u+Math.imul(ye,Be)|0,u=u+Math.imul(ae,Re)|0,_=_+Math.imul(ae,Be)|0,x=x+Math.imul(le,Ie)|0,u=u+Math.imul(le,Pe)|0,u=u+Math.imul(ee,Ie)|0,_=_+Math.imul(ee,Pe)|0,x=x+Math.imul(ge,Te)|0,u=u+Math.imul(ge,Oe)|0,u=u+Math.imul(ve,Te)|0,_=_+Math.imul(ve,Oe)|0,x=x+Math.imul(be,De)|0,u=u+Math.imul(be,He)|0,u=u+Math.imul(me,De)|0,_=_+Math.imul(me,He)|0,x=x+Math.imul(pe,ze)|0,u=u+Math.imul(pe,Ue)|0,u=u+Math.imul(fe,ze)|0,_=_+Math.imul(fe,Ue)|0;var bi=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(bi>>>26)|0,bi&=67108863,x=Math.imul(y,Ce),u=Math.imul(y,ke),u=u+Math.imul(E,Ce)|0,_=Math.imul(E,ke),x=x+Math.imul(m,Re)|0,u=u+Math.imul(m,Be)|0,u=u+Math.imul(f,Re)|0,_=_+Math.imul(f,Be)|0,x=x+Math.imul(ye,Ie)|0,u=u+Math.imul(ye,Pe)|0,u=u+Math.imul(ae,Ie)|0,_=_+Math.imul(ae,Pe)|0,x=x+Math.imul(le,Te)|0,u=u+Math.imul(le,Oe)|0,u=u+Math.imul(ee,Te)|0,_=_+Math.imul(ee,Oe)|0,x=x+Math.imul(ge,De)|0,u=u+Math.imul(ge,He)|0,u=u+Math.imul(ve,De)|0,_=_+Math.imul(ve,He)|0,x=x+Math.imul(be,ze)|0,u=u+Math.imul(be,Ue)|0,u=u+Math.imul(me,ze)|0,_=_+Math.imul(me,Ue)|0;var mi=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(mi>>>26)|0,mi&=67108863,x=Math.imul(y,Re),u=Math.imul(y,Be),u=u+Math.imul(E,Re)|0,_=Math.imul(E,Be),x=x+Math.imul(m,Ie)|0,u=u+Math.imul(m,Pe)|0,u=u+Math.imul(f,Ie)|0,_=_+Math.imul(f,Pe)|0,x=x+Math.imul(ye,Te)|0,u=u+Math.imul(ye,Oe)|0,u=u+Math.imul(ae,Te)|0,_=_+Math.imul(ae,Oe)|0,x=x+Math.imul(le,De)|0,u=u+Math.imul(le,He)|0,u=u+Math.imul(ee,De)|0,_=_+Math.imul(ee,He)|0,x=x+Math.imul(ge,ze)|0,u=u+Math.imul(ge,Ue)|0,u=u+Math.imul(ve,ze)|0,_=_+Math.imul(ve,Ue)|0;var gi=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(gi>>>26)|0,gi&=67108863,x=Math.imul(y,Ie),u=Math.imul(y,Pe),u=u+Math.imul(E,Ie)|0,_=Math.imul(E,Pe),x=x+Math.imul(m,Te)|0,u=u+Math.imul(m,Oe)|0,u=u+Math.imul(f,Te)|0,_=_+Math.imul(f,Oe)|0,x=x+Math.imul(ye,De)|0,u=u+Math.imul(ye,He)|0,u=u+Math.imul(ae,De)|0,_=_+Math.imul(ae,He)|0,x=x+Math.imul(le,ze)|0,u=u+Math.imul(le,Ue)|0,u=u+Math.imul(ee,ze)|0,_=_+Math.imul(ee,Ue)|0;var vi=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(vi>>>26)|0,vi&=67108863,x=Math.imul(y,Te),u=Math.imul(y,Oe),u=u+Math.imul(E,Te)|0,_=Math.imul(E,Oe),x=x+Math.imul(m,De)|0,u=u+Math.imul(m,He)|0,u=u+Math.imul(f,De)|0,_=_+Math.imul(f,He)|0,x=x+Math.imul(ye,ze)|0,u=u+Math.imul(ye,Ue)|0,u=u+Math.imul(ae,ze)|0,_=_+Math.imul(ae,Ue)|0;var yi=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(yi>>>26)|0,yi&=67108863,x=Math.imul(y,De),u=Math.imul(y,He),u=u+Math.imul(E,De)|0,_=Math.imul(E,He),x=x+Math.imul(m,ze)|0,u=u+Math.imul(m,Ue)|0,u=u+Math.imul(f,ze)|0,_=_+Math.imul(f,Ue)|0;var wi=(R+x|0)+((u&8191)<<13)|0;R=(_+(u>>>13)|0)+(wi>>>26)|0,wi&=67108863,x=Math.imul(y,ze),u=Math.imul(y,Ue),u=u+Math.imul(E,ze)|0,_=Math.imul(E,Ue);var _i=(R+x|0)+((u&8191)<<13)|0;return R=(_+(u>>>13)|0)+(_i>>>26)|0,_i&=67108863,M[0]=ni,M[1]=ii,M[2]=ai,M[3]=oi,M[4]=si,M[5]=ci,M[6]=fi,M[7]=di,M[8]=ui,M[9]=li,M[10]=hi,M[11]=pi,M[12]=bi,M[13]=mi,M[14]=gi,M[15]=vi,M[16]=yi,M[17]=wi,M[18]=_i,R!==0&&(M[19]=R,g.length++),g};Math.imul||(I=C);function U(S,c,p){p.negative=c.negative^S.negative,p.length=S.length+c.length;for(var g=0,v=0,A=0;A<p.length-1;A++){var M=v;v=0;for(var R=g&67108863,x=Math.min(A,c.length-1),u=Math.max(0,A-S.length+1);u<=x;u++){var _=A-u,H=S.words[_]|0,N=c.words[u]|0,L=H*N,$=L&67108863;M=M+(L/67108864|0)|0,$=$+R|0,R=$&67108863,M=M+($>>>26)|0,v+=M>>>26,M&=67108863}p.words[A]=R,g=M,M=v}return g!==0?p.words[A]=g:p.length--,p.strip()}function z(S,c,p){var g=new D;return g.mulp(S,c,p)}a.prototype.mulTo=function(c,p){var g,v=this.length+c.length;return this.length===10&&c.length===10?g=I(this,c,p):v<63?g=C(this,c,p):v<1024?g=U(this,c,p):g=z(this,c,p),g};function D(S,c){this.x=S,this.y=c}D.prototype.makeRBT=function(c){for(var p=new Array(c),g=a.prototype._countBits(c)-1,v=0;v<c;v++)p[v]=this.revBin(v,g,c);return p},D.prototype.revBin=function(c,p,g){if(c===0||c===g-1)return c;for(var v=0,A=0;A<p;A++)v|=(c&1)<<p-A-1,c>>=1;return v},D.prototype.permute=function(c,p,g,v,A,M){for(var R=0;R<M;R++)v[R]=p[c[R]],A[R]=g[c[R]]},D.prototype.transform=function(c,p,g,v,A,M){this.permute(M,c,p,g,v,A);for(var R=1;R<A;R<<=1)for(var x=R<<1,u=Math.cos(2*Math.PI/x),_=Math.sin(2*Math.PI/x),H=0;H<A;H+=x)for(var N=u,L=_,$=0;$<R;$++){var Z=g[H+$],ie=v[H+$],et=g[H+$+R],te=v[H+$+R],ce=N*et-L*te;te=N*te+L*et,et=ce,g[H+$]=Z+et,v[H+$]=ie+te,g[H+$+R]=Z-et,v[H+$+R]=ie-te,$!==x&&(ce=u*N-_*L,L=u*L+_*N,N=ce)}},D.prototype.guessLen13b=function(c,p){var g=Math.max(p,c)|1,v=g&1,A=0;for(g=g/2|0;g;g=g>>>1)A++;return 1<<A+1+v},D.prototype.conjugate=function(c,p,g){if(!(g<=1))for(var v=0;v<g/2;v++){var A=c[v];c[v]=c[g-v-1],c[g-v-1]=A,A=p[v],p[v]=-p[g-v-1],p[g-v-1]=-A}},D.prototype.normalize13b=function(c,p){for(var g=0,v=0;v<p/2;v++){var A=Math.round(c[2*v+1]/p)*8192+Math.round(c[2*v]/p)+g;c[v]=A&67108863,A<67108864?g=0:g=A/67108864|0}return c},D.prototype.convert13b=function(c,p,g,v){for(var A=0,M=0;M<p;M++)A=A+(c[M]|0),g[2*M]=A&8191,A=A>>>13,g[2*M+1]=A&8191,A=A>>>13;for(M=2*p;M<v;++M)g[M]=0;n(A===0),n((A&-8192)===0)},D.prototype.stub=function(c){for(var p=new Array(c),g=0;g<c;g++)p[g]=0;return p},D.prototype.mulp=function(c,p,g){var v=2*this.guessLen13b(c.length,p.length),A=this.makeRBT(v),M=this.stub(v),R=new Array(v),x=new Array(v),u=new Array(v),_=new Array(v),H=new Array(v),N=new Array(v),L=g.words;L.length=v,this.convert13b(c.words,c.length,R,v),this.convert13b(p.words,p.length,_,v),this.transform(R,M,x,u,v,A),this.transform(_,M,H,N,v,A);for(var $=0;$<v;$++){var Z=x[$]*H[$]-u[$]*N[$];u[$]=x[$]*N[$]+u[$]*H[$],x[$]=Z}return this.conjugate(x,u,v),this.transform(x,u,L,M,v,A),this.conjugate(L,M,v),this.normalize13b(L,v),g.negative=c.negative^p.negative,g.length=c.length+p.length,g.strip()},a.prototype.mul=function(c){var p=new a(null);return p.words=new Array(this.length+c.length),this.mulTo(c,p)},a.prototype.mulf=function(c){var p=new a(null);return p.words=new Array(this.length+c.length),z(this,c,p)},a.prototype.imul=function(c){return this.clone().mulTo(c,this)},a.prototype.imuln=function(c){n(typeof c=="number"),n(c<67108864);for(var p=0,g=0;g<this.length;g++){var v=(this.words[g]|0)*c,A=(v&67108863)+(p&67108863);p>>=26,p+=v/67108864|0,p+=A>>>26,this.words[g]=A&67108863}return p!==0&&(this.words[g]=p,this.length++),this},a.prototype.muln=function(c){return this.clone().imuln(c)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(c){var p=B(c);if(p.length===0)return new a(1);for(var g=this,v=0;v<p.length&&p[v]===0;v++,g=g.sqr());if(++v<p.length)for(var A=g.sqr();v<p.length;v++,A=A.sqr())p[v]!==0&&(g=g.mul(A));return g},a.prototype.iushln=function(c){n(typeof c=="number"&&c>=0);var p=c%26,g=(c-p)/26,v=67108863>>>26-p<<26-p,A;if(p!==0){var M=0;for(A=0;A<this.length;A++){var R=this.words[A]&v,x=(this.words[A]|0)-R<<p;this.words[A]=x|M,M=R>>>26-p}M&&(this.words[A]=M,this.length++)}if(g!==0){for(A=this.length-1;A>=0;A--)this.words[A+g]=this.words[A];for(A=0;A<g;A++)this.words[A]=0;this.length+=g}return this.strip()},a.prototype.ishln=function(c){return n(this.negative===0),this.iushln(c)},a.prototype.iushrn=function(c,p,g){n(typeof c=="number"&&c>=0);var v;p?v=(p-p%26)/26:v=0;var A=c%26,M=Math.min((c-A)/26,this.length),R=67108863^67108863>>>A<<A,x=g;if(v-=M,v=Math.max(0,v),x){for(var u=0;u<M;u++)x.words[u]=this.words[u];x.length=M}if(M!==0)if(this.length>M)for(this.length-=M,u=0;u<this.length;u++)this.words[u]=this.words[u+M];else this.words[0]=0,this.length=1;var _=0;for(u=this.length-1;u>=0&&(_!==0||u>=v);u--){var H=this.words[u]|0;this.words[u]=_<<26-A|H>>>A,_=H&R}return x&&_!==0&&(x.words[x.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(c,p,g){return n(this.negative===0),this.iushrn(c,p,g)},a.prototype.shln=function(c){return this.clone().ishln(c)},a.prototype.ushln=function(c){return this.clone().iushln(c)},a.prototype.shrn=function(c){return this.clone().ishrn(c)},a.prototype.ushrn=function(c){return this.clone().iushrn(c)},a.prototype.testn=function(c){n(typeof c=="number"&&c>=0);var p=c%26,g=(c-p)/26,v=1<<p;if(this.length<=g)return!1;var A=this.words[g];return!!(A&v)},a.prototype.imaskn=function(c){n(typeof c=="number"&&c>=0);var p=c%26,g=(c-p)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(p!==0&&g++,this.length=Math.min(g,this.length),p!==0){var v=67108863^67108863>>>p<<p;this.words[this.length-1]&=v}return this.strip()},a.prototype.maskn=function(c){return this.clone().imaskn(c)},a.prototype.iaddn=function(c){return n(typeof c=="number"),n(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},a.prototype._iaddn=function(c){this.words[0]+=c;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},a.prototype.isubn=function(c){if(n(typeof c=="number"),n(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},a.prototype.addn=function(c){return this.clone().iaddn(c)},a.prototype.subn=function(c){return this.clone().isubn(c)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(c,p,g){var v=c.length+g,A;this._expand(v);var M,R=0;for(A=0;A<c.length;A++){M=(this.words[A+g]|0)+R;var x=(c.words[A]|0)*p;M-=x&67108863,R=(M>>26)-(x/67108864|0),this.words[A+g]=M&67108863}for(;A<this.length-g;A++)M=(this.words[A+g]|0)+R,R=M>>26,this.words[A+g]=M&67108863;if(R===0)return this.strip();for(n(R===-1),R=0,A=0;A<this.length;A++)M=-(this.words[A]|0)+R,R=M>>26,this.words[A]=M&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(c,p){var g=this.length-c.length,v=this.clone(),A=c,M=A.words[A.length-1]|0,R=this._countBits(M);g=26-R,g!==0&&(A=A.ushln(g),v.iushln(g),M=A.words[A.length-1]|0);var x=v.length-A.length,u;if(p!=="mod"){u=new a(null),u.length=x+1,u.words=new Array(u.length);for(var _=0;_<u.length;_++)u.words[_]=0}var H=v.clone()._ishlnsubmul(A,1,x);H.negative===0&&(v=H,u&&(u.words[x]=1));for(var N=x-1;N>=0;N--){var L=(v.words[A.length+N]|0)*67108864+(v.words[A.length+N-1]|0);for(L=Math.min(L/M|0,67108863),v._ishlnsubmul(A,L,N);v.negative!==0;)L--,v.negative=0,v._ishlnsubmul(A,1,N),v.isZero()||(v.negative^=1);u&&(u.words[N]=L)}return u&&u.strip(),v.strip(),p!=="div"&&g!==0&&v.iushrn(g),{div:u||null,mod:v}},a.prototype.divmod=function(c,p,g){if(n(!c.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var v,A,M;return this.negative!==0&&c.negative===0?(M=this.neg().divmod(c,p),p!=="mod"&&(v=M.div.neg()),p!=="div"&&(A=M.mod.neg(),g&&A.negative!==0&&A.iadd(c)),{div:v,mod:A}):this.negative===0&&c.negative!==0?(M=this.divmod(c.neg(),p),p!=="mod"&&(v=M.div.neg()),{div:v,mod:M.mod}):this.negative&c.negative?(M=this.neg().divmod(c.neg(),p),p!=="div"&&(A=M.mod.neg(),g&&A.negative!==0&&A.isub(c)),{div:M.div,mod:A}):c.length>this.length||this.cmp(c)<0?{div:new a(0),mod:this}:c.length===1?p==="div"?{div:this.divn(c.words[0]),mod:null}:p==="mod"?{div:null,mod:new a(this.modn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new a(this.modn(c.words[0]))}:this._wordDiv(c,p)},a.prototype.div=function(c){return this.divmod(c,"div",!1).div},a.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},a.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},a.prototype.divRound=function(c){var p=this.divmod(c);if(p.mod.isZero())return p.div;var g=p.div.negative!==0?p.mod.isub(c):p.mod,v=c.ushrn(1),A=c.andln(1),M=g.cmp(v);return M<0||A===1&&M===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},a.prototype.modn=function(c){n(c<=67108863);for(var p=(1<<26)%c,g=0,v=this.length-1;v>=0;v--)g=(p*g+(this.words[v]|0))%c;return g},a.prototype.idivn=function(c){n(c<=67108863);for(var p=0,g=this.length-1;g>=0;g--){var v=(this.words[g]|0)+p*67108864;this.words[g]=v/c|0,p=v%c}return this.strip()},a.prototype.divn=function(c){return this.clone().idivn(c)},a.prototype.egcd=function(c){n(c.negative===0),n(!c.isZero());var p=this,g=c.clone();p.negative!==0?p=p.umod(c):p=p.clone();for(var v=new a(1),A=new a(0),M=new a(0),R=new a(1),x=0;p.isEven()&&g.isEven();)p.iushrn(1),g.iushrn(1),++x;for(var u=g.clone(),_=p.clone();!p.isZero();){for(var H=0,N=1;!(p.words[0]&N)&&H<26;++H,N<<=1);if(H>0)for(p.iushrn(H);H-- >0;)(v.isOdd()||A.isOdd())&&(v.iadd(u),A.isub(_)),v.iushrn(1),A.iushrn(1);for(var L=0,$=1;!(g.words[0]&$)&&L<26;++L,$<<=1);if(L>0)for(g.iushrn(L);L-- >0;)(M.isOdd()||R.isOdd())&&(M.iadd(u),R.isub(_)),M.iushrn(1),R.iushrn(1);p.cmp(g)>=0?(p.isub(g),v.isub(M),A.isub(R)):(g.isub(p),M.isub(v),R.isub(A))}return{a:M,b:R,gcd:g.iushln(x)}},a.prototype._invmp=function(c){n(c.negative===0),n(!c.isZero());var p=this,g=c.clone();p.negative!==0?p=p.umod(c):p=p.clone();for(var v=new a(1),A=new a(0),M=g.clone();p.cmpn(1)>0&&g.cmpn(1)>0;){for(var R=0,x=1;!(p.words[0]&x)&&R<26;++R,x<<=1);if(R>0)for(p.iushrn(R);R-- >0;)v.isOdd()&&v.iadd(M),v.iushrn(1);for(var u=0,_=1;!(g.words[0]&_)&&u<26;++u,_<<=1);if(u>0)for(g.iushrn(u);u-- >0;)A.isOdd()&&A.iadd(M),A.iushrn(1);p.cmp(g)>=0?(p.isub(g),v.isub(A)):(g.isub(p),A.isub(v))}var H;return p.cmpn(1)===0?H=v:H=A,H.cmpn(0)<0&&H.iadd(c),H},a.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var p=this.clone(),g=c.clone();p.negative=0,g.negative=0;for(var v=0;p.isEven()&&g.isEven();v++)p.iushrn(1),g.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;g.isEven();)g.iushrn(1);var A=p.cmp(g);if(A<0){var M=p;p=g,g=M}else if(A===0||g.cmpn(1)===0)break;p.isub(g)}while(!0);return g.iushln(v)},a.prototype.invm=function(c){return this.egcd(c).a.umod(c)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(c){return this.words[0]&c},a.prototype.bincn=function(c){n(typeof c=="number");var p=c%26,g=(c-p)/26,v=1<<p;if(this.length<=g)return this._expand(g+1),this.words[g]|=v,this;for(var A=v,M=g;A!==0&&M<this.length;M++){var R=this.words[M]|0;R+=A,A=R>>>26,R&=67108863,this.words[M]=R}return A!==0&&(this.words[M]=A,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(c){var p=c<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var g;if(this.length>1)g=1;else{p&&(c=-c),n(c<=67108863,"Number is too big");var v=this.words[0]|0;g=v===c?0:v<c?-1:1}return this.negative!==0?-g|0:g},a.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var p=this.ucmp(c);return this.negative!==0?-p|0:p},a.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var p=0,g=this.length-1;g>=0;g--){var v=this.words[g]|0,A=c.words[g]|0;if(v!==A){v<A?p=-1:v>A&&(p=1);break}}return p},a.prototype.gtn=function(c){return this.cmpn(c)===1},a.prototype.gt=function(c){return this.cmp(c)===1},a.prototype.gten=function(c){return this.cmpn(c)>=0},a.prototype.gte=function(c){return this.cmp(c)>=0},a.prototype.ltn=function(c){return this.cmpn(c)===-1},a.prototype.lt=function(c){return this.cmp(c)===-1},a.prototype.lten=function(c){return this.cmpn(c)<=0},a.prototype.lte=function(c){return this.cmp(c)<=0},a.prototype.eqn=function(c){return this.cmpn(c)===0},a.prototype.eq=function(c){return this.cmp(c)===0},a.red=function(c){return new Q(c)},a.prototype.toRed=function(c){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},a.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(c){return this.red=c,this},a.prototype.forceRed=function(c){return n(!this.red,"Already a number in reduction context"),this._forceRed(c)},a.prototype.redAdd=function(c){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},a.prototype.redIAdd=function(c){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},a.prototype.redSub=function(c){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},a.prototype.redISub=function(c){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},a.prototype.redShl=function(c){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},a.prototype.redMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},a.prototype.redIMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},a.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(c){return n(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var F={k256:null,p224:null,p192:null,p25519:null};function se(S,c){this.name=S,this.p=new a(c,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}se.prototype._tmp=function(){var c=new a(null);return c.words=new Array(Math.ceil(this.n/13)),c},se.prototype.ireduce=function(c){var p=c,g;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),g=p.bitLength();while(g>this.n);var v=g<this.n?-1:p.ucmp(this.p);return v===0?(p.words[0]=0,p.length=1):v>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},se.prototype.split=function(c,p){c.iushrn(this.n,0,p)},se.prototype.imulK=function(c){return c.imul(this.k)};function ne(){se.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(ne,se),ne.prototype.split=function(c,p){for(var g=4194303,v=Math.min(c.length,9),A=0;A<v;A++)p.words[A]=c.words[A];if(p.length=v,c.length<=9){c.words[0]=0,c.length=1;return}var M=c.words[9];for(p.words[p.length++]=M&g,A=10;A<c.length;A++){var R=c.words[A]|0;c.words[A-10]=(R&g)<<4|M>>>22,M=R}M>>>=22,c.words[A-10]=M,M===0&&c.length>10?c.length-=10:c.length-=9},ne.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var p=0,g=0;g<c.length;g++){var v=c.words[g]|0;p+=v*977,c.words[g]=p&67108863,p=v*64+(p/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function je(){se.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(je,se);function Qe(){se.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Qe,se);function rt(){se.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(rt,se),rt.prototype.imulK=function(c){for(var p=0,g=0;g<c.length;g++){var v=(c.words[g]|0)*19+p,A=v&67108863;v>>>=26,c.words[g]=A,p=v}return p!==0&&(c.words[c.length++]=p),c},a._prime=function(c){if(F[c])return F[c];var p;if(c==="k256")p=new ne;else if(c==="p224")p=new je;else if(c==="p192")p=new Qe;else if(c==="p25519")p=new rt;else throw new Error("Unknown prime "+c);return F[c]=p,p};function Q(S){if(typeof S=="string"){var c=a._prime(S);this.m=c.p,this.prime=c}else n(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}Q.prototype._verify1=function(c){n(c.negative===0,"red works only with positives"),n(c.red,"red works only with red numbers")},Q.prototype._verify2=function(c,p){n((c.negative|p.negative)===0,"red works only with positives"),n(c.red&&c.red===p.red,"red works only with red numbers")},Q.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):c.umod(this.m)._forceRed(this)},Q.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},Q.prototype.add=function(c,p){this._verify2(c,p);var g=c.add(p);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},Q.prototype.iadd=function(c,p){this._verify2(c,p);var g=c.iadd(p);return g.cmp(this.m)>=0&&g.isub(this.m),g},Q.prototype.sub=function(c,p){this._verify2(c,p);var g=c.sub(p);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},Q.prototype.isub=function(c,p){this._verify2(c,p);var g=c.isub(p);return g.cmpn(0)<0&&g.iadd(this.m),g},Q.prototype.shl=function(c,p){return this._verify1(c),this.imod(c.ushln(p))},Q.prototype.imul=function(c,p){return this._verify2(c,p),this.imod(c.imul(p))},Q.prototype.mul=function(c,p){return this._verify2(c,p),this.imod(c.mul(p))},Q.prototype.isqr=function(c){return this.imul(c,c.clone())},Q.prototype.sqr=function(c){return this.mul(c,c)},Q.prototype.sqrt=function(c){if(c.isZero())return c.clone();var p=this.m.andln(3);if(n(p%2===1),p===3){var g=this.m.add(new a(1)).iushrn(2);return this.pow(c,g)}for(var v=this.m.subn(1),A=0;!v.isZero()&&v.andln(1)===0;)A++,v.iushrn(1);n(!v.isZero());var M=new a(1).toRed(this),R=M.redNeg(),x=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new a(2*u*u).toRed(this);this.pow(u,x).cmp(R)!==0;)u.redIAdd(R);for(var _=this.pow(u,v),H=this.pow(c,v.addn(1).iushrn(1)),N=this.pow(c,v),L=A;N.cmp(M)!==0;){for(var $=N,Z=0;$.cmp(M)!==0;Z++)$=$.redSqr();n(Z<L);var ie=this.pow(_,new a(1).iushln(L-Z-1));H=H.redMul(ie),_=ie.redSqr(),N=N.redMul(_),L=Z}return H},Q.prototype.invm=function(c){var p=c._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},Q.prototype.pow=function(c,p){if(p.isZero())return new a(1).toRed(this);if(p.cmpn(1)===0)return c.clone();var g=4,v=new Array(1<<g);v[0]=new a(1).toRed(this),v[1]=c;for(var A=2;A<v.length;A++)v[A]=this.mul(v[A-1],c);var M=v[0],R=0,x=0,u=p.bitLength()%26;for(u===0&&(u=26),A=p.length-1;A>=0;A--){for(var _=p.words[A],H=u-1;H>=0;H--){var N=_>>H&1;if(M!==v[0]&&(M=this.sqr(M)),N===0&&R===0){x=0;continue}R<<=1,R|=N,x++,!(x!==g&&(A!==0||H!==0))&&(M=this.mul(M,v[R]),x=0,R=0)}u=26}return M},Q.prototype.convertTo=function(c){var p=c.umod(this.m);return p===c?p.clone():p},Q.prototype.convertFrom=function(c){var p=c.clone();return p.red=null,p},a.mont=function(c){return new ut(c)};function ut(S){Q.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(ut,Q),ut.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},ut.prototype.convertFrom=function(c){var p=this.imod(c.mul(this.rinv));return p.red=null,p},ut.prototype.imul=function(c,p){if(c.isZero()||p.isZero())return c.words[0]=0,c.length=1,c;var g=c.imul(p),v=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=g.isub(v).iushrn(this.shift),M=A;return A.cmp(this.m)>=0?M=A.isub(this.m):A.cmpn(0)<0&&(M=A.iadd(this.m)),M._forceRed(this)},ut.prototype.mul=function(c,p){if(c.isZero()||p.isZero())return new a(0)._forceRed(this);var g=c.mul(p),v=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=g.isub(v).iushrn(this.shift),M=A;return A.cmp(this.m)>=0?M=A.isub(this.m):A.cmpn(0)<0&&(M=A.iadd(this.m)),M._forceRed(this)},ut.prototype.invm=function(c){var p=this.imod(c._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(t,Mr)})(la);var Ct=la.exports,es={},ha={},Ji={exports:{}};typeof Object.create=="function"?Ji.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Ji.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var kt=Ji.exports,pa={},Tn={};Tn.byteLength=vf;Tn.toByteArray=wf;Tn.fromByteArray=Af;var It=[],ht=[],mf=typeof Uint8Array<"u"?Uint8Array:Array,Si="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var _r=0,gf=Si.length;_r<gf;++_r)It[_r]=Si[_r],ht[Si.charCodeAt(_r)]=_r;ht["-".charCodeAt(0)]=62;ht["_".charCodeAt(0)]=63;function ts(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function vf(t){var e=ts(t),r=e[0],n=e[1];return(r+n)*3/4-n}function yf(t,e,r){return(e+r)*3/4-r}function wf(t){var e,r=ts(t),n=r[0],i=r[1],a=new mf(yf(t,n,i)),o=0,s=i>0?n-4:n,h;for(h=0;h<s;h+=4)e=ht[t.charCodeAt(h)]<<18|ht[t.charCodeAt(h+1)]<<12|ht[t.charCodeAt(h+2)]<<6|ht[t.charCodeAt(h+3)],a[o++]=e>>16&255,a[o++]=e>>8&255,a[o++]=e&255;return i===2&&(e=ht[t.charCodeAt(h)]<<2|ht[t.charCodeAt(h+1)]>>4,a[o++]=e&255),i===1&&(e=ht[t.charCodeAt(h)]<<10|ht[t.charCodeAt(h+1)]<<4|ht[t.charCodeAt(h+2)]>>2,a[o++]=e>>8&255,a[o++]=e&255),a}function _f(t){return It[t>>18&63]+It[t>>12&63]+It[t>>6&63]+It[t&63]}function xf(t,e,r){for(var n,i=[],a=e;a<r;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(t[a+2]&255),i.push(_f(n));return i.join("")}function Af(t){for(var e,r=t.length,n=r%3,i=[],a=16383,o=0,s=r-n;o<s;o+=a)i.push(xf(t,o,o+a>s?s:o+a));return n===1?(e=t[r-1],i.push(It[e>>2]+It[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(It[e>>10]+It[e>>4&63]+It[e<<2&63]+"=")),i.join("")}var ba={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ba.read=function(t,e,r,n,i){var a,o,s=i*8-n-1,h=(1<<s)-1,b=h>>1,l=-7,w=r?i-1:0,k=r?-1:1,B=t[e+w];for(w+=k,a=B&(1<<-l)-1,B>>=-l,l+=s;l>0;a=a*256+t[e+w],w+=k,l-=8);for(o=a&(1<<-l)-1,a>>=-l,l+=n;l>0;o=o*256+t[e+w],w+=k,l-=8);if(a===0)a=1-b;else{if(a===h)return o?NaN:(B?-1:1)*(1/0);o=o+Math.pow(2,n),a=a-b}return(B?-1:1)*o*Math.pow(2,a-n)};ba.write=function(t,e,r,n,i,a){var o,s,h,b=a*8-i-1,l=(1<<b)-1,w=l>>1,k=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,B=n?0:a-1,C=n?1:-1,I=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-o))<1&&(o--,h*=2),o+w>=1?e+=k/h:e+=k*Math.pow(2,1-w),e*h>=2&&(o++,h/=2),o+w>=l?(s=0,o=l):o+w>=1?(s=(e*h-1)*Math.pow(2,i),o=o+w):(s=e*Math.pow(2,w-1)*Math.pow(2,i),o=0));i>=8;t[r+B]=s&255,B+=C,s/=256,i-=8);for(o=o<<i|s,b+=i;b>0;t[r+B]=o&255,B+=C,o/=256,b-=8);t[r+B-C]|=I*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Tn,r=ba,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=s,t.SlowBuffer=D,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=a(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const m=new Uint8Array(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,Uint8Array.prototype),Object.setPrototypeOf(m,f),m.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function o(m){if(m>i)throw new RangeError('The value "'+m+'" is invalid for option "size"');const f=new Uint8Array(m);return Object.setPrototypeOf(f,s.prototype),f}function s(m,f,d){if(typeof m=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(m)}return h(m,f,d)}s.poolSize=8192;function h(m,f,d){if(typeof m=="string")return k(m,f);if(ArrayBuffer.isView(m))return C(m);if(m==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m);if(ee(m,ArrayBuffer)||m&&ee(m.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ee(m,SharedArrayBuffer)||m&&ee(m.buffer,SharedArrayBuffer)))return I(m,f,d);if(typeof m=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const y=m.valueOf&&m.valueOf();if(y!=null&&y!==m)return s.from(y,f,d);const E=U(m);if(E)return E;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof m[Symbol.toPrimitive]=="function")return s.from(m[Symbol.toPrimitive]("string"),f,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m)}s.from=function(m,f,d){return h(m,f,d)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function b(m){if(typeof m!="number")throw new TypeError('"size" argument must be of type number');if(m<0)throw new RangeError('The value "'+m+'" is invalid for option "size"')}function l(m,f,d){return b(m),m<=0?o(m):f!==void 0?typeof d=="string"?o(m).fill(f,d):o(m).fill(f):o(m)}s.alloc=function(m,f,d){return l(m,f,d)};function w(m){return b(m),o(m<0?0:z(m)|0)}s.allocUnsafe=function(m){return w(m)},s.allocUnsafeSlow=function(m){return w(m)};function k(m,f){if((typeof f!="string"||f==="")&&(f="utf8"),!s.isEncoding(f))throw new TypeError("Unknown encoding: "+f);const d=F(m,f)|0;let y=o(d);const E=y.write(m,f);return E!==d&&(y=y.slice(0,E)),y}function B(m){const f=m.length<0?0:z(m.length)|0,d=o(f);for(let y=0;y<f;y+=1)d[y]=m[y]&255;return d}function C(m){if(ee(m,Uint8Array)){const f=new Uint8Array(m);return I(f.buffer,f.byteOffset,f.byteLength)}return B(m)}function I(m,f,d){if(f<0||m.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(m.byteLength<f+(d||0))throw new RangeError('"length" is outside of buffer bounds');let y;return f===void 0&&d===void 0?y=new Uint8Array(m):d===void 0?y=new Uint8Array(m,f):y=new Uint8Array(m,f,d),Object.setPrototypeOf(y,s.prototype),y}function U(m){if(s.isBuffer(m)){const f=z(m.length)|0,d=o(f);return d.length===0||m.copy(d,0,0,f),d}if(m.length!==void 0)return typeof m.length!="number"||wr(m.length)?o(0):B(m);if(m.type==="Buffer"&&Array.isArray(m.data))return B(m.data)}function z(m){if(m>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return m|0}function D(m){return+m!=m&&(m=0),s.alloc(+m)}s.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==s.prototype},s.compare=function(f,d){if(ee(f,Uint8Array)&&(f=s.from(f,f.offset,f.byteLength)),ee(d,Uint8Array)&&(d=s.from(d,d.offset,d.byteLength)),!s.isBuffer(f)||!s.isBuffer(d))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===d)return 0;let y=f.length,E=d.length;for(let P=0,T=Math.min(y,E);P<T;++P)if(f[P]!==d[P]){y=f[P],E=d[P];break}return y<E?-1:E<y?1:0},s.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(f,d){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return s.alloc(0);let y;if(d===void 0)for(d=0,y=0;y<f.length;++y)d+=f[y].length;const E=s.allocUnsafe(d);let P=0;for(y=0;y<f.length;++y){let T=f[y];if(ee(T,Uint8Array))P+T.length>E.length?(s.isBuffer(T)||(T=s.from(T)),T.copy(E,P)):Uint8Array.prototype.set.call(E,T,P);else if(s.isBuffer(T))T.copy(E,P);else throw new TypeError('"list" argument must be an Array of Buffers');P+=T.length}return E};function F(m,f){if(s.isBuffer(m))return m.length;if(ArrayBuffer.isView(m)||ee(m,ArrayBuffer))return m.byteLength;if(typeof m!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof m);const d=m.length,y=arguments.length>2&&arguments[2]===!0;if(!y&&d===0)return 0;let E=!1;for(;;)switch(f){case"ascii":case"latin1":case"binary":return d;case"utf8":case"utf-8":return yr(m).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d*2;case"hex":return d>>>1;case"base64":return Fr(m).length;default:if(E)return y?-1:yr(m).length;f=(""+f).toLowerCase(),E=!0}}s.byteLength=F;function se(m,f,d){let y=!1;if((f===void 0||f<0)&&(f=0),f>this.length||((d===void 0||d>this.length)&&(d=this.length),d<=0)||(d>>>=0,f>>>=0,d<=f))return"";for(m||(m="utf8");;)switch(m){case"hex":return x(this,f,d);case"utf8":case"utf-8":return g(this,f,d);case"ascii":return M(this,f,d);case"latin1":case"binary":return R(this,f,d);case"base64":return p(this,f,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u(this,f,d);default:if(y)throw new TypeError("Unknown encoding: "+m);m=(m+"").toLowerCase(),y=!0}}s.prototype._isBuffer=!0;function ne(m,f,d){const y=m[f];m[f]=m[d],m[d]=y}s.prototype.swap16=function(){const f=this.length;if(f%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let d=0;d<f;d+=2)ne(this,d,d+1);return this},s.prototype.swap32=function(){const f=this.length;if(f%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let d=0;d<f;d+=4)ne(this,d,d+3),ne(this,d+1,d+2);return this},s.prototype.swap64=function(){const f=this.length;if(f%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let d=0;d<f;d+=8)ne(this,d,d+7),ne(this,d+1,d+6),ne(this,d+2,d+5),ne(this,d+3,d+4);return this},s.prototype.toString=function(){const f=this.length;return f===0?"":arguments.length===0?g(this,0,f):se.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(f){if(!s.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:s.compare(this,f)===0},s.prototype.inspect=function(){let f="";const d=t.INSPECT_MAX_BYTES;return f=this.toString("hex",0,d).replace(/(.{2})/g,"$1 ").trim(),this.length>d&&(f+=" ... "),"<Buffer "+f+">"},n&&(s.prototype[n]=s.prototype.inspect),s.prototype.compare=function(f,d,y,E,P){if(ee(f,Uint8Array)&&(f=s.from(f,f.offset,f.byteLength)),!s.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(d===void 0&&(d=0),y===void 0&&(y=f?f.length:0),E===void 0&&(E=0),P===void 0&&(P=this.length),d<0||y>f.length||E<0||P>this.length)throw new RangeError("out of range index");if(E>=P&&d>=y)return 0;if(E>=P)return-1;if(d>=y)return 1;if(d>>>=0,y>>>=0,E>>>=0,P>>>=0,this===f)return 0;let T=P-E,K=y-d;const he=Math.min(T,K),W=this.slice(E,P),J=f.slice(d,y);for(let re=0;re<he;++re)if(W[re]!==J[re]){T=W[re],K=J[re];break}return T<K?-1:K<T?1:0};function je(m,f,d,y,E){if(m.length===0)return-1;if(typeof d=="string"?(y=d,d=0):d>2147483647?d=2147483647:d<-2147483648&&(d=-2147483648),d=+d,wr(d)&&(d=E?0:m.length-1),d<0&&(d=m.length+d),d>=m.length){if(E)return-1;d=m.length-1}else if(d<0)if(E)d=0;else return-1;if(typeof f=="string"&&(f=s.from(f,y)),s.isBuffer(f))return f.length===0?-1:Qe(m,f,d,y,E);if(typeof f=="number")return f=f&255,typeof Uint8Array.prototype.indexOf=="function"?E?Uint8Array.prototype.indexOf.call(m,f,d):Uint8Array.prototype.lastIndexOf.call(m,f,d):Qe(m,[f],d,y,E);throw new TypeError("val must be string, number or Buffer")}function Qe(m,f,d,y,E){let P=1,T=m.length,K=f.length;if(y!==void 0&&(y=String(y).toLowerCase(),y==="ucs2"||y==="ucs-2"||y==="utf16le"||y==="utf-16le")){if(m.length<2||f.length<2)return-1;P=2,T/=2,K/=2,d/=2}function he(J,re){return P===1?J[re]:J.readUInt16BE(re*P)}let W;if(E){let J=-1;for(W=d;W<T;W++)if(he(m,W)===he(f,J===-1?0:W-J)){if(J===-1&&(J=W),W-J+1===K)return J*P}else J!==-1&&(W-=W-J),J=-1}else for(d+K>T&&(d=T-K),W=d;W>=0;W--){let J=!0;for(let re=0;re<K;re++)if(he(m,W+re)!==he(f,re)){J=!1;break}if(J)return W}return-1}s.prototype.includes=function(f,d,y){return this.indexOf(f,d,y)!==-1},s.prototype.indexOf=function(f,d,y){return je(this,f,d,y,!0)},s.prototype.lastIndexOf=function(f,d,y){return je(this,f,d,y,!1)};function rt(m,f,d,y){d=Number(d)||0;const E=m.length-d;y?(y=Number(y),y>E&&(y=E)):y=E;const P=f.length;y>P/2&&(y=P/2);let T;for(T=0;T<y;++T){const K=parseInt(f.substr(T*2,2),16);if(wr(K))return T;m[d+T]=K}return T}function Q(m,f,d,y){return le(yr(f,m.length-d),m,d,y)}function ut(m,f,d,y){return le(ge(f),m,d,y)}function S(m,f,d,y){return le(Fr(f),m,d,y)}function c(m,f,d,y){return le(ve(f,m.length-d),m,d,y)}s.prototype.write=function(f,d,y,E){if(d===void 0)E="utf8",y=this.length,d=0;else if(y===void 0&&typeof d=="string")E=d,y=this.length,d=0;else if(isFinite(d))d=d>>>0,isFinite(y)?(y=y>>>0,E===void 0&&(E="utf8")):(E=y,y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const P=this.length-d;if((y===void 0||y>P)&&(y=P),f.length>0&&(y<0||d<0)||d>this.length)throw new RangeError("Attempt to write outside buffer bounds");E||(E="utf8");let T=!1;for(;;)switch(E){case"hex":return rt(this,f,d,y);case"utf8":case"utf-8":return Q(this,f,d,y);case"ascii":case"latin1":case"binary":return ut(this,f,d,y);case"base64":return S(this,f,d,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c(this,f,d,y);default:if(T)throw new TypeError("Unknown encoding: "+E);E=(""+E).toLowerCase(),T=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function p(m,f,d){return f===0&&d===m.length?e.fromByteArray(m):e.fromByteArray(m.slice(f,d))}function g(m,f,d){d=Math.min(m.length,d);const y=[];let E=f;for(;E<d;){const P=m[E];let T=null,K=P>239?4:P>223?3:P>191?2:1;if(E+K<=d){let he,W,J,re;switch(K){case 1:P<128&&(T=P);break;case 2:he=m[E+1],(he&192)===128&&(re=(P&31)<<6|he&63,re>127&&(T=re));break;case 3:he=m[E+1],W=m[E+2],(he&192)===128&&(W&192)===128&&(re=(P&15)<<12|(he&63)<<6|W&63,re>2047&&(re<55296||re>57343)&&(T=re));break;case 4:he=m[E+1],W=m[E+2],J=m[E+3],(he&192)===128&&(W&192)===128&&(J&192)===128&&(re=(P&15)<<18|(he&63)<<12|(W&63)<<6|J&63,re>65535&&re<1114112&&(T=re))}}T===null?(T=65533,K=1):T>65535&&(T-=65536,y.push(T>>>10&1023|55296),T=56320|T&1023),y.push(T),E+=K}return A(y)}const v=4096;function A(m){const f=m.length;if(f<=v)return String.fromCharCode.apply(String,m);let d="",y=0;for(;y<f;)d+=String.fromCharCode.apply(String,m.slice(y,y+=v));return d}function M(m,f,d){let y="";d=Math.min(m.length,d);for(let E=f;E<d;++E)y+=String.fromCharCode(m[E]&127);return y}function R(m,f,d){let y="";d=Math.min(m.length,d);for(let E=f;E<d;++E)y+=String.fromCharCode(m[E]);return y}function x(m,f,d){const y=m.length;(!f||f<0)&&(f=0),(!d||d<0||d>y)&&(d=y);let E="";for(let P=f;P<d;++P)E+=ye[m[P]];return E}function u(m,f,d){const y=m.slice(f,d);let E="";for(let P=0;P<y.length-1;P+=2)E+=String.fromCharCode(y[P]+y[P+1]*256);return E}s.prototype.slice=function(f,d){const y=this.length;f=~~f,d=d===void 0?y:~~d,f<0?(f+=y,f<0&&(f=0)):f>y&&(f=y),d<0?(d+=y,d<0&&(d=0)):d>y&&(d=y),d<f&&(d=f);const E=this.subarray(f,d);return Object.setPrototypeOf(E,s.prototype),E};function _(m,f,d){if(m%1!==0||m<0)throw new RangeError("offset is not uint");if(m+f>d)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(f,d,y){f=f>>>0,d=d>>>0,y||_(f,d,this.length);let E=this[f],P=1,T=0;for(;++T<d&&(P*=256);)E+=this[f+T]*P;return E},s.prototype.readUintBE=s.prototype.readUIntBE=function(f,d,y){f=f>>>0,d=d>>>0,y||_(f,d,this.length);let E=this[f+--d],P=1;for(;d>0&&(P*=256);)E+=this[f+--d]*P;return E},s.prototype.readUint8=s.prototype.readUInt8=function(f,d){return f=f>>>0,d||_(f,1,this.length),this[f]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(f,d){return f=f>>>0,d||_(f,2,this.length),this[f]|this[f+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(f,d){return f=f>>>0,d||_(f,2,this.length),this[f]<<8|this[f+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(f,d){return f=f>>>0,d||_(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(f,d){return f=f>>>0,d||_(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},s.prototype.readBigUInt64LE=ae(function(f){f=f>>>0,fe(f,"offset");const d=this[f],y=this[f+7];(d===void 0||y===void 0)&&Zt(f,this.length-8);const E=d+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24,P=this[++f]+this[++f]*2**8+this[++f]*2**16+y*2**24;return BigInt(E)+(BigInt(P)<<BigInt(32))}),s.prototype.readBigUInt64BE=ae(function(f){f=f>>>0,fe(f,"offset");const d=this[f],y=this[f+7];(d===void 0||y===void 0)&&Zt(f,this.length-8);const E=d*2**24+this[++f]*2**16+this[++f]*2**8+this[++f],P=this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+y;return(BigInt(E)<<BigInt(32))+BigInt(P)}),s.prototype.readIntLE=function(f,d,y){f=f>>>0,d=d>>>0,y||_(f,d,this.length);let E=this[f],P=1,T=0;for(;++T<d&&(P*=256);)E+=this[f+T]*P;return P*=128,E>=P&&(E-=Math.pow(2,8*d)),E},s.prototype.readIntBE=function(f,d,y){f=f>>>0,d=d>>>0,y||_(f,d,this.length);let E=d,P=1,T=this[f+--E];for(;E>0&&(P*=256);)T+=this[f+--E]*P;return P*=128,T>=P&&(T-=Math.pow(2,8*d)),T},s.prototype.readInt8=function(f,d){return f=f>>>0,d||_(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},s.prototype.readInt16LE=function(f,d){f=f>>>0,d||_(f,2,this.length);const y=this[f]|this[f+1]<<8;return y&32768?y|4294901760:y},s.prototype.readInt16BE=function(f,d){f=f>>>0,d||_(f,2,this.length);const y=this[f+1]|this[f]<<8;return y&32768?y|4294901760:y},s.prototype.readInt32LE=function(f,d){return f=f>>>0,d||_(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},s.prototype.readInt32BE=function(f,d){return f=f>>>0,d||_(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},s.prototype.readBigInt64LE=ae(function(f){f=f>>>0,fe(f,"offset");const d=this[f],y=this[f+7];(d===void 0||y===void 0)&&Zt(f,this.length-8);const E=this[f+4]+this[f+5]*2**8+this[f+6]*2**16+(y<<24);return(BigInt(E)<<BigInt(32))+BigInt(d+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24)}),s.prototype.readBigInt64BE=ae(function(f){f=f>>>0,fe(f,"offset");const d=this[f],y=this[f+7];(d===void 0||y===void 0)&&Zt(f,this.length-8);const E=(d<<24)+this[++f]*2**16+this[++f]*2**8+this[++f];return(BigInt(E)<<BigInt(32))+BigInt(this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+y)}),s.prototype.readFloatLE=function(f,d){return f=f>>>0,d||_(f,4,this.length),r.read(this,f,!0,23,4)},s.prototype.readFloatBE=function(f,d){return f=f>>>0,d||_(f,4,this.length),r.read(this,f,!1,23,4)},s.prototype.readDoubleLE=function(f,d){return f=f>>>0,d||_(f,8,this.length),r.read(this,f,!0,52,8)},s.prototype.readDoubleBE=function(f,d){return f=f>>>0,d||_(f,8,this.length),r.read(this,f,!1,52,8)};function H(m,f,d,y,E,P){if(!s.isBuffer(m))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>E||f<P)throw new RangeError('"value" argument is out of bounds');if(d+y>m.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(f,d,y,E){if(f=+f,d=d>>>0,y=y>>>0,!E){const K=Math.pow(2,8*y)-1;H(this,f,d,y,K,0)}let P=1,T=0;for(this[d]=f&255;++T<y&&(P*=256);)this[d+T]=f/P&255;return d+y},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(f,d,y,E){if(f=+f,d=d>>>0,y=y>>>0,!E){const K=Math.pow(2,8*y)-1;H(this,f,d,y,K,0)}let P=y-1,T=1;for(this[d+P]=f&255;--P>=0&&(T*=256);)this[d+P]=f/T&255;return d+y},s.prototype.writeUint8=s.prototype.writeUInt8=function(f,d,y){return f=+f,d=d>>>0,y||H(this,f,d,1,255,0),this[d]=f&255,d+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(f,d,y){return f=+f,d=d>>>0,y||H(this,f,d,2,65535,0),this[d]=f&255,this[d+1]=f>>>8,d+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(f,d,y){return f=+f,d=d>>>0,y||H(this,f,d,2,65535,0),this[d]=f>>>8,this[d+1]=f&255,d+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(f,d,y){return f=+f,d=d>>>0,y||H(this,f,d,4,4294967295,0),this[d+3]=f>>>24,this[d+2]=f>>>16,this[d+1]=f>>>8,this[d]=f&255,d+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(f,d,y){return f=+f,d=d>>>0,y||H(this,f,d,4,4294967295,0),this[d]=f>>>24,this[d+1]=f>>>16,this[d+2]=f>>>8,this[d+3]=f&255,d+4};function N(m,f,d,y,E){pe(f,y,E,m,d,7);let P=Number(f&BigInt(4294967295));m[d++]=P,P=P>>8,m[d++]=P,P=P>>8,m[d++]=P,P=P>>8,m[d++]=P;let T=Number(f>>BigInt(32)&BigInt(4294967295));return m[d++]=T,T=T>>8,m[d++]=T,T=T>>8,m[d++]=T,T=T>>8,m[d++]=T,d}function L(m,f,d,y,E){pe(f,y,E,m,d,7);let P=Number(f&BigInt(4294967295));m[d+7]=P,P=P>>8,m[d+6]=P,P=P>>8,m[d+5]=P,P=P>>8,m[d+4]=P;let T=Number(f>>BigInt(32)&BigInt(4294967295));return m[d+3]=T,T=T>>8,m[d+2]=T,T=T>>8,m[d+1]=T,T=T>>8,m[d]=T,d+8}s.prototype.writeBigUInt64LE=ae(function(f,d=0){return N(this,f,d,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=ae(function(f,d=0){return L(this,f,d,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(f,d,y,E){if(f=+f,d=d>>>0,!E){const he=Math.pow(2,8*y-1);H(this,f,d,y,he-1,-he)}let P=0,T=1,K=0;for(this[d]=f&255;++P<y&&(T*=256);)f<0&&K===0&&this[d+P-1]!==0&&(K=1),this[d+P]=(f/T>>0)-K&255;return d+y},s.prototype.writeIntBE=function(f,d,y,E){if(f=+f,d=d>>>0,!E){const he=Math.pow(2,8*y-1);H(this,f,d,y,he-1,-he)}let P=y-1,T=1,K=0;for(this[d+P]=f&255;--P>=0&&(T*=256);)f<0&&K===0&&this[d+P+1]!==0&&(K=1),this[d+P]=(f/T>>0)-K&255;return d+y},s.prototype.writeInt8=function(f,d,y){return f=+f,d=d>>>0,y||H(this,f,d,1,127,-128),f<0&&(f=255+f+1),this[d]=f&255,d+1},s.prototype.writeInt16LE=function(f,d,y){return f=+f,d=d>>>0,y||H(this,f,d,2,32767,-32768),this[d]=f&255,this[d+1]=f>>>8,d+2},s.prototype.writeInt16BE=function(f,d,y){return f=+f,d=d>>>0,y||H(this,f,d,2,32767,-32768),this[d]=f>>>8,this[d+1]=f&255,d+2},s.prototype.writeInt32LE=function(f,d,y){return f=+f,d=d>>>0,y||H(this,f,d,4,2147483647,-2147483648),this[d]=f&255,this[d+1]=f>>>8,this[d+2]=f>>>16,this[d+3]=f>>>24,d+4},s.prototype.writeInt32BE=function(f,d,y){return f=+f,d=d>>>0,y||H(this,f,d,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[d]=f>>>24,this[d+1]=f>>>16,this[d+2]=f>>>8,this[d+3]=f&255,d+4},s.prototype.writeBigInt64LE=ae(function(f,d=0){return N(this,f,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=ae(function(f,d=0){return L(this,f,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function $(m,f,d,y,E,P){if(d+y>m.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("Index out of range")}function Z(m,f,d,y,E){return f=+f,d=d>>>0,E||$(m,f,d,4),r.write(m,f,d,y,23,4),d+4}s.prototype.writeFloatLE=function(f,d,y){return Z(this,f,d,!0,y)},s.prototype.writeFloatBE=function(f,d,y){return Z(this,f,d,!1,y)};function ie(m,f,d,y,E){return f=+f,d=d>>>0,E||$(m,f,d,8),r.write(m,f,d,y,52,8),d+8}s.prototype.writeDoubleLE=function(f,d,y){return ie(this,f,d,!0,y)},s.prototype.writeDoubleBE=function(f,d,y){return ie(this,f,d,!1,y)},s.prototype.copy=function(f,d,y,E){if(!s.isBuffer(f))throw new TypeError("argument should be a Buffer");if(y||(y=0),!E&&E!==0&&(E=this.length),d>=f.length&&(d=f.length),d||(d=0),E>0&&E<y&&(E=y),E===y||f.length===0||this.length===0)return 0;if(d<0)throw new RangeError("targetStart out of bounds");if(y<0||y>=this.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("sourceEnd out of bounds");E>this.length&&(E=this.length),f.length-d<E-y&&(E=f.length-d+y);const P=E-y;return this===f&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(d,y,E):Uint8Array.prototype.set.call(f,this.subarray(y,E),d),P},s.prototype.fill=function(f,d,y,E){if(typeof f=="string"){if(typeof d=="string"?(E=d,d=0,y=this.length):typeof y=="string"&&(E=y,y=this.length),E!==void 0&&typeof E!="string")throw new TypeError("encoding must be a string");if(typeof E=="string"&&!s.isEncoding(E))throw new TypeError("Unknown encoding: "+E);if(f.length===1){const T=f.charCodeAt(0);(E==="utf8"&&T<128||E==="latin1")&&(f=T)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(d<0||this.length<d||this.length<y)throw new RangeError("Out of range index");if(y<=d)return this;d=d>>>0,y=y===void 0?this.length:y>>>0,f||(f=0);let P;if(typeof f=="number")for(P=d;P<y;++P)this[P]=f;else{const T=s.isBuffer(f)?f:s.from(f,E),K=T.length;if(K===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(P=0;P<y-d;++P)this[P+d]=T[P%K]}return this};const et={};function te(m,f,d){et[m]=class extends d{constructor(){super(),Object.defineProperty(this,"message",{value:f.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${m}]`,this.stack,delete this.name}get code(){return m}set code(E){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:E,writable:!0})}toString(){return`${this.name} [${m}]: ${this.message}`}}}te("ERR_BUFFER_OUT_OF_BOUNDS",function(m){return m?`${m} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),te("ERR_INVALID_ARG_TYPE",function(m,f){return`The "${m}" argument must be of type number. Received type ${typeof f}`},TypeError),te("ERR_OUT_OF_RANGE",function(m,f,d){let y=`The value of "${m}" is out of range.`,E=d;return Number.isInteger(d)&&Math.abs(d)>2**32?E=ce(String(d)):typeof d=="bigint"&&(E=String(d),(d>BigInt(2)**BigInt(32)||d<-(BigInt(2)**BigInt(32)))&&(E=ce(E)),E+="n"),y+=` It must be ${f}. Received ${E}`,y},RangeError);function ce(m){let f="",d=m.length;const y=m[0]==="-"?1:0;for(;d>=y+4;d-=3)f=`_${m.slice(d-3,d)}${f}`;return`${m.slice(0,d)}${f}`}function fn(m,f,d){fe(f,"offset"),(m[f]===void 0||m[f+d]===void 0)&&Zt(f,m.length-(d+1))}function pe(m,f,d,y,E,P){if(m>d||m<f){const T=typeof f=="bigint"?"n":"";let K;throw P>3?f===0||f===BigInt(0)?K=`>= 0${T} and < 2${T} ** ${(P+1)*8}${T}`:K=`>= -(2${T} ** ${(P+1)*8-1}${T}) and < 2 ** ${(P+1)*8-1}${T}`:K=`>= ${f}${T} and <= ${d}${T}`,new et.ERR_OUT_OF_RANGE("value",K,m)}fn(y,E,P)}function fe(m,f){if(typeof m!="number")throw new et.ERR_INVALID_ARG_TYPE(f,"number",m)}function Zt(m,f,d){throw Math.floor(m)!==m?(fe(m,d),new et.ERR_OUT_OF_RANGE(d||"offset","an integer",m)):f<0?new et.ERR_BUFFER_OUT_OF_BOUNDS:new et.ERR_OUT_OF_RANGE(d||"offset",`>= ${d?1:0} and <= ${f}`,m)}const be=/[^+/0-9A-Za-z-_]/g;function me(m){if(m=m.split("=")[0],m=m.trim().replace(be,""),m.length<2)return"";for(;m.length%4!==0;)m=m+"=";return m}function yr(m,f){f=f||1/0;let d;const y=m.length;let E=null;const P=[];for(let T=0;T<y;++T){if(d=m.charCodeAt(T),d>55295&&d<57344){if(!E){if(d>56319){(f-=3)>-1&&P.push(239,191,189);continue}else if(T+1===y){(f-=3)>-1&&P.push(239,191,189);continue}E=d;continue}if(d<56320){(f-=3)>-1&&P.push(239,191,189),E=d;continue}d=(E-55296<<10|d-56320)+65536}else E&&(f-=3)>-1&&P.push(239,191,189);if(E=null,d<128){if((f-=1)<0)break;P.push(d)}else if(d<2048){if((f-=2)<0)break;P.push(d>>6|192,d&63|128)}else if(d<65536){if((f-=3)<0)break;P.push(d>>12|224,d>>6&63|128,d&63|128)}else if(d<1114112){if((f-=4)<0)break;P.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw new Error("Invalid code point")}return P}function ge(m){const f=[];for(let d=0;d<m.length;++d)f.push(m.charCodeAt(d)&255);return f}function ve(m,f){let d,y,E;const P=[];for(let T=0;T<m.length&&!((f-=2)<0);++T)d=m.charCodeAt(T),y=d>>8,E=d%256,P.push(E),P.push(y);return P}function Fr(m){return e.toByteArray(me(m))}function le(m,f,d,y){let E;for(E=0;E<y&&!(E+d>=f.length||E>=m.length);++E)f[E+d]=m[E];return E}function ee(m,f){return m instanceof f||m!=null&&m.constructor!=null&&m.constructor.name!=null&&m.constructor.name===f.name}function wr(m){return m!==m}const ye=function(){const m="0123456789abcdef",f=new Array(256);for(let d=0;d<16;++d){const y=d*16;for(let E=0;E<16;++E)f[y+E]=m[d]+m[E]}return f}();function ae(m){return typeof BigInt>"u"?dn:m}function dn(){throw new Error("BigInt not supported")}})(pa);var hn=pa,Sr=hn.Buffer,bt={},mt;for(mt in hn)hn.hasOwnProperty(mt)&&(mt==="SlowBuffer"||mt==="Buffer"||(bt[mt]=hn[mt]));var Er=bt.Buffer={};for(mt in Sr)Sr.hasOwnProperty(mt)&&(mt==="allocUnsafe"||mt==="allocUnsafeSlow"||(Er[mt]=Sr[mt]));bt.Buffer.prototype=Sr.prototype;(!Er.from||Er.from===Uint8Array.from)&&(Er.from=function(t,e,r){if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&typeof t.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return Sr(t,e,r)});Er.alloc||(Er.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=Sr(t);return!e||e.length===0?n.fill(0):typeof r=="string"?n.fill(e,r):n.fill(e),n});if(!bt.kStringMaxLength)try{bt.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch{}bt.constants||(bt.constants={MAX_LENGTH:bt.kMaxLength},bt.kStringMaxLength&&(bt.constants.MAX_STRING_LENGTH=bt.kStringMaxLength));var ma=bt,On={};const Sf=kt;function xt(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}On.Reporter=xt;xt.prototype.isError=function(e){return e instanceof Cr};xt.prototype.save=function(){const e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}};xt.prototype.restore=function(e){const r=this._reporterState;r.obj=e.obj,r.path=r.path.slice(0,e.pathLen)};xt.prototype.enterKey=function(e){return this._reporterState.path.push(e)};xt.prototype.exitKey=function(e){const r=this._reporterState;r.path=r.path.slice(0,e-1)};xt.prototype.leaveKey=function(e,r,n){const i=this._reporterState;this.exitKey(e),i.obj!==null&&(i.obj[r]=n)};xt.prototype.path=function(){return this._reporterState.path.join("/")};xt.prototype.enterObject=function(){const e=this._reporterState,r=e.obj;return e.obj={},r};xt.prototype.leaveObject=function(e){const r=this._reporterState,n=r.obj;return r.obj=e,n};xt.prototype.error=function(e){let r;const n=this._reporterState,i=e instanceof Cr;if(i?r=e:r=new Cr(n.path.map(function(a){return"["+JSON.stringify(a)+"]"}).join(""),e.message||e,e.stack),!n.options.partial)throw r;return i||n.errors.push(r),r};xt.prototype.wrapResult=function(e){const r=this._reporterState;return r.options.partial?{result:this.isError(e)?null:e,errors:r.errors}:e};function Cr(t,e){this.path=t,this.rethrow(e)}Sf(Cr,Error);Cr.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,Cr),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this};var mr={};const Ef=kt,Dn=On.Reporter,kr=ma.Buffer;function yt(t,e){if(Dn.call(this,e),!kr.isBuffer(t)){this.error("Input not Buffer");return}this.base=t,this.offset=0,this.length=t.length}Ef(yt,Dn);mr.DecoderBuffer=yt;yt.isDecoderBuffer=function(e){return e instanceof yt?!0:typeof e=="object"&&kr.isBuffer(e.base)&&e.constructor.name==="DecoderBuffer"&&typeof e.offset=="number"&&typeof e.length=="number"&&typeof e.save=="function"&&typeof e.restore=="function"&&typeof e.isEmpty=="function"&&typeof e.readUInt8=="function"&&typeof e.skip=="function"&&typeof e.raw=="function"};yt.prototype.save=function(){return{offset:this.offset,reporter:Dn.prototype.save.call(this)}};yt.prototype.restore=function(e){const r=new yt(this.base);return r.offset=e.offset,r.length=this.offset,this.offset=e.offset,Dn.prototype.restore.call(this,e.reporter),r};yt.prototype.isEmpty=function(){return this.offset===this.length};yt.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")};yt.prototype.skip=function(e,r){if(!(this.offset+e<=this.length))return this.error(r||"DecoderBuffer overrun");const n=new yt(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n};yt.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)};function Rr(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(r){return Rr.isEncoderBuffer(r)||(r=new Rr(r,e)),this.length+=r.length,r},this);else if(typeof t=="number"){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if(typeof t=="string")this.value=t,this.length=kr.byteLength(t);else if(kr.isBuffer(t))this.value=t,this.length=t.length;else return e.error("Unsupported type: "+typeof t)}mr.EncoderBuffer=Rr;Rr.isEncoderBuffer=function(e){return e instanceof Rr?!0:typeof e=="object"&&e.constructor.name==="EncoderBuffer"&&typeof e.length=="number"&&typeof e.join=="function"};Rr.prototype.join=function(e,r){return e||(e=kr.alloc(this.length)),r||(r=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(n){n.join(e,r),r+=n.length}):(typeof this.value=="number"?e[r]=this.value:typeof this.value=="string"?e.write(this.value,r):kr.isBuffer(this.value)&&this.value.copy(e,r),r+=this.length)),e};var cr=rs;function rs(t,e){if(!t)throw new Error(e||"Assertion failed")}rs.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};const Mf=On.Reporter,Cf=mr.EncoderBuffer,kf=mr.DecoderBuffer,tt=cr,ns=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],Rf=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(ns),Bf=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function oe(t,e,r){const n={};this._baseState=n,n.name=r,n.enc=t,n.parent=e||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}var ga=oe;const If=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];oe.prototype.clone=function(){const e=this._baseState,r={};If.forEach(function(i){r[i]=e[i]});const n=new this.constructor(r.parent);return n._baseState=r,n};oe.prototype._wrap=function(){const e=this._baseState;Rf.forEach(function(r){this[r]=function(){const i=new this.constructor(this);return e.children.push(i),i[r].apply(i,arguments)}},this)};oe.prototype._init=function(e){const r=this._baseState;tt(r.parent===null),e.call(this),r.children=r.children.filter(function(n){return n._baseState.parent===this},this),tt.equal(r.children.length,1,"Root node can have only one child")};oe.prototype._useArgs=function(e){const r=this._baseState,n=e.filter(function(i){return i instanceof this.constructor},this);e=e.filter(function(i){return!(i instanceof this.constructor)},this),n.length!==0&&(tt(r.children===null),r.children=n,n.forEach(function(i){i._baseState.parent=this},this)),e.length!==0&&(tt(r.args===null),r.args=e,r.reverseArgs=e.map(function(i){if(typeof i!="object"||i.constructor!==Object)return i;const a={};return Object.keys(i).forEach(function(o){o==(o|0)&&(o|=0);const s=i[o];a[s]=o}),a}))};Bf.forEach(function(t){oe.prototype[t]=function(){const r=this._baseState;throw new Error(t+" not implemented for encoding: "+r.enc)}});ns.forEach(function(t){oe.prototype[t]=function(){const r=this._baseState,n=Array.prototype.slice.call(arguments);return tt(r.tag===null),r.tag=t,this._useArgs(n),this}});oe.prototype.use=function(e){tt(e);const r=this._baseState;return tt(r.use===null),r.use=e,this};oe.prototype.optional=function(){const e=this._baseState;return e.optional=!0,this};oe.prototype.def=function(e){const r=this._baseState;return tt(r.default===null),r.default=e,r.optional=!0,this};oe.prototype.explicit=function(e){const r=this._baseState;return tt(r.explicit===null&&r.implicit===null),r.explicit=e,this};oe.prototype.implicit=function(e){const r=this._baseState;return tt(r.explicit===null&&r.implicit===null),r.implicit=e,this};oe.prototype.obj=function(){const e=this._baseState,r=Array.prototype.slice.call(arguments);return e.obj=!0,r.length!==0&&this._useArgs(r),this};oe.prototype.key=function(e){const r=this._baseState;return tt(r.key===null),r.key=e,this};oe.prototype.any=function(){const e=this._baseState;return e.any=!0,this};oe.prototype.choice=function(e){const r=this._baseState;return tt(r.choice===null),r.choice=e,this._useArgs(Object.keys(e).map(function(n){return e[n]})),this};oe.prototype.contains=function(e){const r=this._baseState;return tt(r.use===null),r.contains=e,this};oe.prototype._decode=function(e,r){const n=this._baseState;if(n.parent===null)return e.wrapResult(n.children[0]._decode(e,r));let i=n.default,a=!0,o=null;if(n.key!==null&&(o=e.enterKey(n.key)),n.optional){let h=null;if(n.explicit!==null?h=n.explicit:n.implicit!==null?h=n.implicit:n.tag!==null&&(h=n.tag),h===null&&!n.any){const b=e.save();try{n.choice===null?this._decodeGeneric(n.tag,e,r):this._decodeChoice(e,r),a=!0}catch{a=!1}e.restore(b)}else if(a=this._peekTag(e,h,n.any),e.isError(a))return a}let s;if(n.obj&&a&&(s=e.enterObject()),a){if(n.explicit!==null){const b=this._decodeTag(e,n.explicit);if(e.isError(b))return b;e=b}const h=e.offset;if(n.use===null&&n.choice===null){let b;n.any&&(b=e.save());const l=this._decodeTag(e,n.implicit!==null?n.implicit:n.tag,n.any);if(e.isError(l))return l;n.any?i=e.raw(b):e=l}if(r&&r.track&&n.tag!==null&&r.track(e.path(),h,e.length,"tagged"),r&&r.track&&n.tag!==null&&r.track(e.path(),e.offset,e.length,"content"),n.any||(n.choice===null?i=this._decodeGeneric(n.tag,e,r):i=this._decodeChoice(e,r)),e.isError(i))return i;if(!n.any&&n.choice===null&&n.children!==null&&n.children.forEach(function(l){l._decode(e,r)}),n.contains&&(n.tag==="octstr"||n.tag==="bitstr")){const b=new kf(i);i=this._getUse(n.contains,e._reporterState.obj)._decode(b,r)}}return n.obj&&a&&(i=e.leaveObject(s)),n.key!==null&&(i!==null||a===!0)?e.leaveKey(o,n.key,i):o!==null&&e.exitKey(o),i};oe.prototype._decodeGeneric=function(e,r,n){const i=this._baseState;return e==="seq"||e==="set"?null:e==="seqof"||e==="setof"?this._decodeList(r,e,i.args[0],n):/str$/.test(e)?this._decodeStr(r,e,n):e==="objid"&&i.args?this._decodeObjid(r,i.args[0],i.args[1],n):e==="objid"?this._decodeObjid(r,null,null,n):e==="gentime"||e==="utctime"?this._decodeTime(r,e,n):e==="null_"?this._decodeNull(r,n):e==="bool"?this._decodeBool(r,n):e==="objDesc"?this._decodeStr(r,e,n):e==="int"||e==="enum"?this._decodeInt(r,i.args&&i.args[0],n):i.use!==null?this._getUse(i.use,r._reporterState.obj)._decode(r,n):r.error("unknown tag: "+e)};oe.prototype._getUse=function(e,r){const n=this._baseState;return n.useDecoder=this._use(e,r),tt(n.useDecoder._baseState.parent===null),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder};oe.prototype._decodeChoice=function(e,r){const n=this._baseState;let i=null,a=!1;return Object.keys(n.choice).some(function(o){const s=e.save(),h=n.choice[o];try{const b=h._decode(e,r);if(e.isError(b))return!1;i={type:o,value:b},a=!0}catch{return e.restore(s),!1}return!0},this),a?i:e.error("Choice not matched")};oe.prototype._createEncoderBuffer=function(e){return new Cf(e,this.reporter)};oe.prototype._encode=function(e,r,n){const i=this._baseState;if(i.default!==null&&i.default===e)return;const a=this._encodeValue(e,r,n);if(a!==void 0&&!this._skipDefault(a,r,n))return a};oe.prototype._encodeValue=function(e,r,n){const i=this._baseState;if(i.parent===null)return i.children[0]._encode(e,r||new Mf);let a=null;if(this.reporter=r,i.optional&&e===void 0)if(i.default!==null)e=i.default;else return;let o=null,s=!1;if(i.any)a=this._createEncoderBuffer(e);else if(i.choice)a=this._encodeChoice(e,r);else if(i.contains)o=this._getUse(i.contains,n)._encode(e,r),s=!0;else if(i.children)o=i.children.map(function(h){if(h._baseState.tag==="null_")return h._encode(null,r,e);if(h._baseState.key===null)return r.error("Child should have a key");const b=r.enterKey(h._baseState.key);if(typeof e!="object")return r.error("Child expected, but input is not object");const l=h._encode(e[h._baseState.key],r,e);return r.leaveKey(b),l},this).filter(function(h){return h}),o=this._createEncoderBuffer(o);else if(i.tag==="seqof"||i.tag==="setof"){if(!(i.args&&i.args.length===1))return r.error("Too many args for : "+i.tag);if(!Array.isArray(e))return r.error("seqof/setof, but data is not Array");const h=this.clone();h._baseState.implicit=null,o=this._createEncoderBuffer(e.map(function(b){const l=this._baseState;return this._getUse(l.args[0],e)._encode(b,r)},h))}else i.use!==null?a=this._getUse(i.use,n)._encode(e,r):(o=this._encodePrimitive(i.tag,e),s=!0);if(!i.any&&i.choice===null){const h=i.implicit!==null?i.implicit:i.tag,b=i.implicit===null?"universal":"context";h===null?i.use===null&&r.error("Tag could be omitted only for .use()"):i.use===null&&(a=this._encodeComposite(h,s,b,o))}return i.explicit!==null&&(a=this._encodeComposite(i.explicit,!1,"context",a)),a};oe.prototype._encodeChoice=function(e,r){const n=this._baseState,i=n.choice[e.type];return i||tt(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),i._encode(e.value,r)};oe.prototype._encodePrimitive=function(e,r){const n=this._baseState;if(/str$/.test(e))return this._encodeStr(r,e);if(e==="objid"&&n.args)return this._encodeObjid(r,n.reverseArgs[0],n.args[1]);if(e==="objid")return this._encodeObjid(r,null,null);if(e==="gentime"||e==="utctime")return this._encodeTime(r,e);if(e==="null_")return this._encodeNull();if(e==="int"||e==="enum")return this._encodeInt(r,n.args&&n.reverseArgs[0]);if(e==="bool")return this._encodeBool(r);if(e==="objDesc")return this._encodeStr(r,e);throw new Error("Unsupported tag: "+e)};oe.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)};oe.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)};var Hn={};(function(t){function e(r){const n={};return Object.keys(r).forEach(function(i){(i|0)==i&&(i=i|0);const a=r[i];n[a]=i}),n}t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=e(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=e(t.tag)})(Hn);const Pf=kt,Jt=ma.Buffer,is=ga,Ei=Hn;function as(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new Rt,this.tree._init(t.body)}var os=as;as.prototype.encode=function(e,r){return this.tree._encode(e,r).join()};function Rt(t){is.call(this,"der",t)}Pf(Rt,is);Rt.prototype._encodeComposite=function(e,r,n,i){const a=Tf(e,r,n,this.reporter);if(i.length<128){const h=Jt.alloc(2);return h[0]=a,h[1]=i.length,this._createEncoderBuffer([h,i])}let o=1;for(let h=i.length;h>=256;h>>=8)o++;const s=Jt.alloc(1+1+o);s[0]=a,s[1]=128|o;for(let h=1+o,b=i.length;b>0;h--,b>>=8)s[h]=b&255;return this._createEncoderBuffer([s,i])};Rt.prototype._encodeStr=function(e,r){if(r==="bitstr")return this._createEncoderBuffer([e.unused|0,e.data]);if(r==="bmpstr"){const n=Jt.alloc(e.length*2);for(let i=0;i<e.length;i++)n.writeUInt16BE(e.charCodeAt(i),i*2);return this._createEncoderBuffer(n)}else return r==="numstr"?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):r==="printstr"?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(e):r==="objDesc"?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+r+" unsupported")};Rt.prototype._encodeObjid=function(e,r,n){if(typeof e=="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=r[e].split(/[\s.]+/g);for(let s=0;s<e.length;s++)e[s]|=0}else if(Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}let i=0;for(let s=0;s<e.length;s++){let h=e[s];for(i++;h>=128;h>>=7)i++}const a=Jt.alloc(i);let o=a.length-1;for(let s=e.length-1;s>=0;s--){let h=e[s];for(a[o--]=h&127;(h>>=7)>0;)a[o--]=128|h&127}return this._createEncoderBuffer(a)};function lt(t){return t<10?"0"+t:t}Rt.prototype._encodeTime=function(e,r){let n;const i=new Date(e);return r==="gentime"?n=[lt(i.getUTCFullYear()),lt(i.getUTCMonth()+1),lt(i.getUTCDate()),lt(i.getUTCHours()),lt(i.getUTCMinutes()),lt(i.getUTCSeconds()),"Z"].join(""):r==="utctime"?n=[lt(i.getUTCFullYear()%100),lt(i.getUTCMonth()+1),lt(i.getUTCDate()),lt(i.getUTCHours()),lt(i.getUTCMinutes()),lt(i.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(n,"octstr")};Rt.prototype._encodeNull=function(){return this._createEncoderBuffer("")};Rt.prototype._encodeInt=function(e,r){if(typeof e=="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=r[e]}if(typeof e!="number"&&!Jt.isBuffer(e)){const a=e.toArray();!e.sign&&a[0]&128&&a.unshift(0),e=Jt.from(a)}if(Jt.isBuffer(e)){let a=e.length;e.length===0&&a++;const o=Jt.alloc(a);return e.copy(o),e.length===0&&(o[0]=0),this._createEncoderBuffer(o)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let n=1;for(let a=e;a>=256;a>>=8)n++;const i=new Array(n);for(let a=i.length-1;a>=0;a--)i[a]=e&255,e>>=8;return i[0]&128&&i.unshift(0),this._createEncoderBuffer(Jt.from(i))};Rt.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)};Rt.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getEncoder("der").tree};Rt.prototype._skipDefault=function(e,r,n){const i=this._baseState;let a;if(i.default===null)return!1;const o=e.join();if(i.defaultBuffer===void 0&&(i.defaultBuffer=this._encodeValue(i.default,r,n).join()),o.length!==i.defaultBuffer.length)return!1;for(a=0;a<o.length;a++)if(o[a]!==i.defaultBuffer[a])return!1;return!0};function Tf(t,e,r,n){let i;if(t==="seqof"?t="seq":t==="setof"&&(t="set"),Ei.tagByName.hasOwnProperty(t))i=Ei.tagByName[t];else if(typeof t=="number"&&(t|0)===t)i=t;else return n.error("Unknown tag: "+t);return i>=31?n.error("Multi-octet tag encoding unsupported"):(e||(i|=32),i|=Ei.tagClassByName[r||"universal"]<<6,i)}const Of=kt,va=os;function ya(t){va.call(this,t),this.enc="pem"}Of(ya,va);var Df=ya;ya.prototype.encode=function(e,r){const i=va.prototype.encode.call(this,e).toString("base64"),a=["-----BEGIN "+r.label+"-----"];for(let o=0;o<i.length;o+=64)a.push(i.slice(o,o+64));return a.push("-----END "+r.label+"-----"),a.join(`
`)};(function(t){const e=t;e.der=os,e.pem=Df})(ha);var wa={};const Hf=kt,zf=Ct,fo=mr.DecoderBuffer,ss=ga,uo=Hn;function cs(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new ft,this.tree._init(t.body)}var fs=cs;cs.prototype.decode=function(e,r){return fo.isDecoderBuffer(e)||(e=new fo(e,r)),this.tree._decode(e,r)};function ft(t){ss.call(this,"der",t)}Hf(ft,ss);ft.prototype._peekTag=function(e,r,n){if(e.isEmpty())return!1;const i=e.save(),a=_a(e,'Failed to peek tag: "'+r+'"');return e.isError(a)?a:(e.restore(i),a.tag===r||a.tagStr===r||a.tagStr+"of"===r||n)};ft.prototype._decodeTag=function(e,r,n){const i=_a(e,'Failed to decode tag of "'+r+'"');if(e.isError(i))return i;let a=ds(e,i.primitive,'Failed to get length of "'+r+'"');if(e.isError(a))return a;if(!n&&i.tag!==r&&i.tagStr!==r&&i.tagStr+"of"!==r)return e.error('Failed to match tag: "'+r+'"');if(i.primitive||a!==null)return e.skip(a,'Failed to match body of: "'+r+'"');const o=e.save(),s=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(s)?s:(a=e.offset-o.offset,e.restore(o),e.skip(a,'Failed to match body of: "'+r+'"'))};ft.prototype._skipUntilEnd=function(e,r){for(;;){const n=_a(e,r);if(e.isError(n))return n;const i=ds(e,n.primitive,r);if(e.isError(i))return i;let a;if(n.primitive||i!==null?a=e.skip(i):a=this._skipUntilEnd(e,r),e.isError(a))return a;if(n.tagStr==="end")break}};ft.prototype._decodeList=function(e,r,n,i){const a=[];for(;!e.isEmpty();){const o=this._peekTag(e,"end");if(e.isError(o))return o;const s=n.decode(e,"der",i);if(e.isError(s)&&o)break;a.push(s)}return a};ft.prototype._decodeStr=function(e,r){if(r==="bitstr"){const n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}else if(r==="bmpstr"){const n=e.raw();if(n.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");let i="";for(let a=0;a<n.length/2;a++)i+=String.fromCharCode(n.readUInt16BE(a*2));return i}else if(r==="numstr"){const n=e.raw().toString("ascii");return this._isNumstr(n)?n:e.error("Decoding of string type: numstr unsupported characters")}else{if(r==="octstr")return e.raw();if(r==="objDesc")return e.raw();if(r==="printstr"){const n=e.raw().toString("ascii");return this._isPrintstr(n)?n:e.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(r)?e.raw().toString():e.error("Decoding of string type: "+r+" unsupported")}};ft.prototype._decodeObjid=function(e,r,n){let i;const a=[];let o=0,s=0;for(;!e.isEmpty();)s=e.readUInt8(),o<<=7,o|=s&127,s&128||(a.push(o),o=0);s&128&&a.push(o);const h=a[0]/40|0,b=a[0]%40;if(n?i=a:i=[h,b].concat(a.slice(1)),r){let l=r[i.join(" ")];l===void 0&&(l=r[i.join(".")]),l!==void 0&&(i=l)}return i};ft.prototype._decodeTime=function(e,r){const n=e.raw().toString();let i,a,o,s,h,b;if(r==="gentime")i=n.slice(0,4)|0,a=n.slice(4,6)|0,o=n.slice(6,8)|0,s=n.slice(8,10)|0,h=n.slice(10,12)|0,b=n.slice(12,14)|0;else if(r==="utctime")i=n.slice(0,2)|0,a=n.slice(2,4)|0,o=n.slice(4,6)|0,s=n.slice(6,8)|0,h=n.slice(8,10)|0,b=n.slice(10,12)|0,i<70?i=2e3+i:i=1900+i;else return e.error("Decoding "+r+" time is not supported yet");return Date.UTC(i,a-1,o,s,h,b,0)};ft.prototype._decodeNull=function(){return null};ft.prototype._decodeBool=function(e){const r=e.readUInt8();return e.isError(r)?r:r!==0};ft.prototype._decodeInt=function(e,r){const n=e.raw();let i=new zf(n);return r&&(i=r[i.toString(10)]||i),i};ft.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getDecoder("der").tree};function _a(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;const n=uo.tagClass[r>>6],i=(r&32)===0;if((r&31)===31){let o=r;for(r=0;(o&128)===128;){if(o=t.readUInt8(e),t.isError(o))return o;r<<=7,r|=o&127}}else r&=31;const a=uo.tag[r];return{cls:n,primitive:i,tag:r,tagStr:a}}function ds(t,e,r){let n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&n===128)return null;if(!(n&128))return n;const i=n&127;if(i>4)return t.error("length octect is too long");n=0;for(let a=0;a<i;a++){n<<=8;const o=t.readUInt8(r);if(t.isError(o))return o;n|=o}return n}const Uf=kt,Nf=ma.Buffer,xa=fs;function Aa(t){xa.call(this,t),this.enc="pem"}Uf(Aa,xa);var Kf=Aa;Aa.prototype.decode=function(e,r){const n=e.toString().split(/[\r\n]+/g),i=r.label.toUpperCase(),a=/^-----(BEGIN|END) ([^-]+)-----$/;let o=-1,s=-1;for(let l=0;l<n.length;l++){const w=n[l].match(a);if(w!==null&&w[2]===i)if(o===-1){if(w[1]!=="BEGIN")break;o=l}else{if(w[1]!=="END")break;s=l;break}}if(o===-1||s===-1)throw new Error("PEM section not found for: "+i);const h=n.slice(o+1,s).join("");h.replace(/[^a-z0-9+/=]+/gi,"");const b=Nf.from(h,"base64");return xa.prototype.decode.call(this,b,r)};(function(t){const e=t;e.der=fs,e.pem=Kf})(wa);(function(t){const e=ha,r=wa,n=kt,i=t;i.define=function(s,h){return new a(s,h)};function a(o,s){this.name=o,this.body=s,this.decoders={},this.encoders={}}a.prototype._createNamed=function(s){const h=this.name;function b(l){this._initNamed(l,h)}return n(b,s),b.prototype._initNamed=function(w,k){s.call(this,w,k)},new b(this)},a.prototype._getDecoder=function(s){return s=s||"der",this.decoders.hasOwnProperty(s)||(this.decoders[s]=this._createNamed(r[s])),this.decoders[s]},a.prototype.decode=function(s,h,b){return this._getDecoder(h).decode(s,b)},a.prototype._getEncoder=function(s){return s=s||"der",this.encoders.hasOwnProperty(s)||(this.encoders[s]=this._createNamed(e[s])),this.encoders[s]},a.prototype.encode=function(s,h,b){return this._getEncoder(h).encode(s,b)}})(es);var us={};(function(t){const e=t;e.Reporter=On.Reporter,e.DecoderBuffer=mr.DecoderBuffer,e.EncoderBuffer=mr.EncoderBuffer,e.Node=ga})(us);var ls={};(function(t){const e=t;e._reverse=function(n){const i={};return Object.keys(n).forEach(function(a){(a|0)==a&&(a=a|0);const o=n[a];i[o]=a}),i},e.der=Hn})(ls);(function(t){const e=t;e.bignum=Ct,e.define=es.define,e.base=us,e.constants=ls,e.decoders=wa,e.encoders=ha})(sr);var ji={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=pa,n=r.Buffer;function i(o,s){for(var h in o)s[h]=o[h]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=a);function a(o,s,h){return n(o,s,h)}a.prototype=Object.create(n.prototype),i(n,a),a.from=function(o,s,h){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,s,h)},a.alloc=function(o,s,h){if(typeof o!="number")throw new TypeError("Argument must be a number");var b=n(o);return s!==void 0?typeof h=="string"?b.fill(s,h):b.fill(s):b.fill(0),b},a.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},a.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(ji,ji.exports);var hs=ji.exports,ps={};const Lf="elliptic",qf="6.5.4",Ff="EC cryptography",Wf="lib/elliptic.js",$f=["lib"],Jf={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},jf={type:"git",url:"git@github.com:indutny/elliptic"},Gf=["EC","Elliptic","curve","Cryptography"],Vf="Fedor Indutny <fedor@indutny.com>",Yf="MIT",Xf={url:"https://github.com/indutny/elliptic/issues"},Zf="https://github.com/indutny/elliptic",Qf={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},ed={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},td={name:Lf,version:qf,description:Ff,main:Wf,files:$f,scripts:Jf,repository:jf,keywords:Gf,author:Vf,license:Yf,bugs:Xf,homepage:Zf,devDependencies:Qf,dependencies:ed};var dt={},Sa={};(function(t){var e=t;function r(a,o){if(Array.isArray(a))return a.slice();if(!a)return[];var s=[];if(typeof a!="string"){for(var h=0;h<a.length;h++)s[h]=a[h]|0;return s}if(o==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var h=0;h<a.length;h+=2)s.push(parseInt(a[h]+a[h+1],16))}else for(var h=0;h<a.length;h++){var b=a.charCodeAt(h),l=b>>8,w=b&255;l?s.push(l,w):s.push(w)}return s}e.toArray=r;function n(a){return a.length===1?"0"+a:a}e.zero2=n;function i(a){for(var o="",s=0;s<a.length;s++)o+=n(a[s].toString(16));return o}e.toHex=i,e.encode=function(o,s){return s==="hex"?i(o):o}})(Sa);(function(t){var e=t,r=Ct,n=cr,i=Sa;e.assert=n,e.toArray=i.toArray,e.zero2=i.zero2,e.toHex=i.toHex,e.encode=i.encode;function a(l,w,k){var B=new Array(Math.max(l.bitLength(),k)+1);B.fill(0);for(var C=1<<w+1,I=l.clone(),U=0;U<B.length;U++){var z,D=I.andln(C-1);I.isOdd()?(D>(C>>1)-1?z=(C>>1)-D:z=D,I.isubn(z)):z=0,B[U]=z,I.iushrn(1)}return B}e.getNAF=a;function o(l,w){var k=[[],[]];l=l.clone(),w=w.clone();for(var B=0,C=0,I;l.cmpn(-B)>0||w.cmpn(-C)>0;){var U=l.andln(3)+B&3,z=w.andln(3)+C&3;U===3&&(U=-1),z===3&&(z=-1);var D;U&1?(I=l.andln(7)+B&7,(I===3||I===5)&&z===2?D=-U:D=U):D=0,k[0].push(D);var F;z&1?(I=w.andln(7)+C&7,(I===3||I===5)&&U===2?F=-z:F=z):F=0,k[1].push(F),2*B===D+1&&(B=1-B),2*C===F+1&&(C=1-C),l.iushrn(1),w.iushrn(1)}return k}e.getJSF=o;function s(l,w,k){var B="_"+w;l.prototype[w]=function(){return this[B]!==void 0?this[B]:this[B]=k.call(this)}}e.cachedProperty=s;function h(l){return typeof l=="string"?e.toArray(l,"hex"):l}e.parseBytes=h;function b(l){return new r(l,"hex","le")}e.intFromLE=b})(dt);var Ea={exports:{}},Mi;Ea.exports=function(e){return Mi||(Mi=new ir(null)),Mi.generate(e)};function ir(t){this.rand=t}Ea.exports.Rand=ir;ir.prototype.generate=function(e){return this._rand(e)};ir.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?ir.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?ir.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(ir.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var lo=Qo;if(typeof lo.randomBytes!="function")throw new Error("Not supported");ir.prototype._rand=function(e){return lo.randomBytes(e)}}catch{}var bs=Ea.exports,Ma={},dr=Ct,rn=dt,yn=rn.getNAF,rd=rn.getJSF,wn=rn.assert;function fr(t,e){this.type=t,this.p=new dr(e.p,16),this.red=e.prime?dr.red(e.prime):dr.mont(this.p),this.zero=new dr(0).toRed(this.red),this.one=new dr(1).toRed(this.red),this.two=new dr(2).toRed(this.red),this.n=e.n&&new dr(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var zn=fr;fr.prototype.point=function(){throw new Error("Not implemented")};fr.prototype.validate=function(){throw new Error("Not implemented")};fr.prototype._fixedNafMul=function(e,r){wn(e.precomputed);var n=e._getDoubles(),i=yn(r,1,this._bitLength),a=(1<<n.step+1)-(n.step%2===0?2:1);a/=3;var o=[],s,h;for(s=0;s<i.length;s+=n.step){h=0;for(var b=s+n.step-1;b>=s;b--)h=(h<<1)+i[b];o.push(h)}for(var l=this.jpoint(null,null,null),w=this.jpoint(null,null,null),k=a;k>0;k--){for(s=0;s<o.length;s++)h=o[s],h===k?w=w.mixedAdd(n.points[s]):h===-k&&(w=w.mixedAdd(n.points[s].neg()));l=l.add(w)}return l.toP()};fr.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var a=i.points,o=yn(r,n,this._bitLength),s=this.jpoint(null,null,null),h=o.length-1;h>=0;h--){for(var b=0;h>=0&&o[h]===0;h--)b++;if(h>=0&&b++,s=s.dblp(b),h<0)break;var l=o[h];wn(l!==0),e.type==="affine"?l>0?s=s.mixedAdd(a[l-1>>1]):s=s.mixedAdd(a[-l-1>>1].neg()):l>0?s=s.add(a[l-1>>1]):s=s.add(a[-l-1>>1].neg())}return e.type==="affine"?s.toP():s};fr.prototype._wnafMulAdd=function(e,r,n,i,a){var o=this._wnafT1,s=this._wnafT2,h=this._wnafT3,b=0,l,w,k;for(l=0;l<i;l++){k=r[l];var B=k._getNAFPoints(e);o[l]=B.wnd,s[l]=B.points}for(l=i-1;l>=1;l-=2){var C=l-1,I=l;if(o[C]!==1||o[I]!==1){h[C]=yn(n[C],o[C],this._bitLength),h[I]=yn(n[I],o[I],this._bitLength),b=Math.max(h[C].length,b),b=Math.max(h[I].length,b);continue}var U=[r[C],null,null,r[I]];r[C].y.cmp(r[I].y)===0?(U[1]=r[C].add(r[I]),U[2]=r[C].toJ().mixedAdd(r[I].neg())):r[C].y.cmp(r[I].y.redNeg())===0?(U[1]=r[C].toJ().mixedAdd(r[I]),U[2]=r[C].add(r[I].neg())):(U[1]=r[C].toJ().mixedAdd(r[I]),U[2]=r[C].toJ().mixedAdd(r[I].neg()));var z=[-3,-1,-5,-7,0,7,5,1,3],D=rd(n[C],n[I]);for(b=Math.max(D[0].length,b),h[C]=new Array(b),h[I]=new Array(b),w=0;w<b;w++){var F=D[0][w]|0,se=D[1][w]|0;h[C][w]=z[(F+1)*3+(se+1)],h[I][w]=0,s[C]=U}}var ne=this.jpoint(null,null,null),je=this._wnafT4;for(l=b;l>=0;l--){for(var Qe=0;l>=0;){var rt=!0;for(w=0;w<i;w++)je[w]=h[w][l]|0,je[w]!==0&&(rt=!1);if(!rt)break;Qe++,l--}if(l>=0&&Qe++,ne=ne.dblp(Qe),l<0)break;for(w=0;w<i;w++){var Q=je[w];Q!==0&&(Q>0?k=s[w][Q-1>>1]:Q<0&&(k=s[w][-Q-1>>1].neg()),k.type==="affine"?ne=ne.mixedAdd(k):ne=ne.add(k))}}for(l=0;l<i;l++)s[l]=null;return a?ne:ne.toP()};function At(t,e){this.curve=t,this.type=e,this.precomputed=null}fr.BasePoint=At;At.prototype.eq=function(){throw new Error("Not implemented")};At.prototype.validate=function(){return this.curve.validate(this)};fr.prototype.decodePoint=function(e,r){e=rn.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?wn(e[e.length-1]%2===0):e[0]===7&&wn(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};At.prototype.encodeCompressed=function(e){return this.encode(e,!0)};At.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};At.prototype.encode=function(e,r){return rn.encode(this._encode(r),e)};At.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};At.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};At.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,a=0;a<r;a+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};At.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),a=1;a<n;a++)r[a]=r[a-1].add(i);return{wnd:e,points:r}};At.prototype._getBeta=function(){return null};At.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var nd=dt,_e=Ct,Ca=kt,Dr=zn,id=nd.assert;function St(t){Dr.call(this,"short",t),this.a=new _e(t.a,16).toRed(this.red),this.b=new _e(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Ca(St,Dr);var ad=St;St.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new _e(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new _e(e.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(r))===0?n=a[0]:(n=a[1],id(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(s){return{a:new _e(s.a,16),b:new _e(s.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};St.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:_e.mont(e),n=new _e(2).toRed(r).redInvm(),i=n.redNeg(),a=new _e(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(a).fromRed(),s=i.redSub(a).fromRed();return[o,s]};St.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),a=new _e(1),o=new _e(0),s=new _e(0),h=new _e(1),b,l,w,k,B,C,I,U=0,z,D;n.cmpn(0)!==0;){var F=i.div(n);z=i.sub(F.mul(n)),D=s.sub(F.mul(a));var se=h.sub(F.mul(o));if(!w&&z.cmp(r)<0)b=I.neg(),l=a,w=z.neg(),k=D;else if(w&&++U===2)break;I=z,i=n,n=z,s=a,a=D,h=o,o=se}B=z.neg(),C=D;var ne=w.sqr().add(k.sqr()),je=B.sqr().add(C.sqr());return je.cmp(ne)>=0&&(B=b,C=l),w.negative&&(w=w.neg(),k=k.neg()),B.negative&&(B=B.neg(),C=C.neg()),[{a:w,b:k},{a:B,b:C}]};St.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],a=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),s=a.mul(n.a),h=o.mul(i.a),b=a.mul(n.b),l=o.mul(i.b),w=e.sub(s).sub(h),k=b.add(l).neg();return{k1:w,k2:k}};St.prototype.pointFromX=function(e,r){e=new _e(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var a=i.fromRed().isOdd();return(r&&!a||!r&&a)&&(i=i.redNeg()),this.point(e,i)};St.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),a=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(a).cmpn(0)===0};St.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,a=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(r[o]),h=e[o],b=h._getBeta();s.k1.negative&&(s.k1.ineg(),h=h.neg(!0)),s.k2.negative&&(s.k2.ineg(),b=b.neg(!0)),i[o*2]=h,i[o*2+1]=b,a[o*2]=s.k1,a[o*2+1]=s.k2}for(var l=this._wnafMulAdd(1,i,a,o*2,n),w=0;w<o*2;w++)i[w]=null,a[w]=null;return l};function Je(t,e,r,n){Dr.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new _e(e,16),this.y=new _e(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Ca(Je,Dr.BasePoint);St.prototype.point=function(e,r,n){return new Je(this,e,r,n)};St.prototype.pointFromJSON=function(e,r){return Je.fromJSON(this,e,r)};Je.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(a){return n.point(a.x.redMul(n.endo.beta),a.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Je.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Je.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function a(s){return e.point(s[0],s[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(a))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(a))}},i};Je.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Je.prototype.isInfinity=function(){return this.inf};Je.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Je.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),a=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=a.redSqr().redISub(this.x.redAdd(this.x)),s=a.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)};Je.prototype.getX=function(){return this.x.fromRed()};Je.prototype.getY=function(){return this.y.fromRed()};Je.prototype.mul=function(e){return e=new _e(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Je.prototype.mulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a):this.curve._wnafMulAdd(1,i,a,2)};Je.prototype.jmulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a,!0):this.curve._wnafMulAdd(1,i,a,2,!0)};Je.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Je.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(a){return a.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Je.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Ye(t,e,r,n){Dr.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new _e(0)):(this.x=new _e(e,16),this.y=new _e(r,16),this.z=new _e(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Ca(Ye,Dr.BasePoint);St.prototype.jpoint=function(e,r,n){return new Ye(this,e,r,n)};Ye.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};Ye.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Ye.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),a=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),s=e.y.redMul(n.redMul(this.z)),h=i.redSub(a),b=o.redSub(s);if(h.cmpn(0)===0)return b.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=h.redSqr(),w=l.redMul(h),k=i.redMul(l),B=b.redSqr().redIAdd(w).redISub(k).redISub(k),C=b.redMul(k.redISub(B)).redISub(o.redMul(w)),I=this.z.redMul(e.z).redMul(h);return this.curve.jpoint(B,C,I)};Ye.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),a=this.y,o=e.y.redMul(r).redMul(this.z),s=n.redSub(i),h=a.redSub(o);if(s.cmpn(0)===0)return h.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var b=s.redSqr(),l=b.redMul(s),w=n.redMul(b),k=h.redSqr().redIAdd(l).redISub(w).redISub(w),B=h.redMul(w.redISub(k)).redISub(a.redMul(l)),C=this.z.redMul(s);return this.curve.jpoint(k,B,C)};Ye.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,a=this.curve.tinv,o=this.x,s=this.y,h=this.z,b=h.redSqr().redSqr(),l=s.redAdd(s);for(r=0;r<e;r++){var w=o.redSqr(),k=l.redSqr(),B=k.redSqr(),C=w.redAdd(w).redIAdd(w).redIAdd(i.redMul(b)),I=o.redMul(k),U=C.redSqr().redISub(I.redAdd(I)),z=I.redISub(U),D=C.redMul(z);D=D.redIAdd(D).redISub(B);var F=l.redMul(h);r+1<e&&(b=b.redMul(B)),o=U,h=F,l=D}return this.curve.jpoint(o,l.redMul(a),h)};Ye.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Ye.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),o=a.redSqr(),s=this.x.redAdd(a).redSqr().redISub(i).redISub(o);s=s.redIAdd(s);var h=i.redAdd(i).redIAdd(i),b=h.redSqr().redISub(s).redISub(s),l=o.redIAdd(o);l=l.redIAdd(l),l=l.redIAdd(l),e=b,r=h.redMul(s.redISub(b)).redISub(l),n=this.y.redAdd(this.y)}else{var w=this.x.redSqr(),k=this.y.redSqr(),B=k.redSqr(),C=this.x.redAdd(k).redSqr().redISub(w).redISub(B);C=C.redIAdd(C);var I=w.redAdd(w).redIAdd(w),U=I.redSqr(),z=B.redIAdd(B);z=z.redIAdd(z),z=z.redIAdd(z),e=U.redISub(C).redISub(C),r=I.redMul(C.redISub(e)).redISub(z),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Ye.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),o=a.redSqr(),s=this.x.redAdd(a).redSqr().redISub(i).redISub(o);s=s.redIAdd(s);var h=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),b=h.redSqr().redISub(s).redISub(s);e=b;var l=o.redIAdd(o);l=l.redIAdd(l),l=l.redIAdd(l),r=h.redMul(s.redISub(b)).redISub(l),n=this.y.redAdd(this.y)}else{var w=this.z.redSqr(),k=this.y.redSqr(),B=this.x.redMul(k),C=this.x.redSub(w).redMul(this.x.redAdd(w));C=C.redAdd(C).redIAdd(C);var I=B.redIAdd(B);I=I.redIAdd(I);var U=I.redAdd(I);e=C.redSqr().redISub(U),n=this.y.redAdd(this.z).redSqr().redISub(k).redISub(w);var z=k.redSqr();z=z.redIAdd(z),z=z.redIAdd(z),z=z.redIAdd(z),r=C.redMul(I.redISub(e)).redISub(z)}return this.curve.jpoint(e,r,n)};Ye.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,a=i.redSqr().redSqr(),o=r.redSqr(),s=n.redSqr(),h=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(a)),b=r.redAdd(r);b=b.redIAdd(b);var l=b.redMul(s),w=h.redSqr().redISub(l.redAdd(l)),k=l.redISub(w),B=s.redSqr();B=B.redIAdd(B),B=B.redIAdd(B),B=B.redIAdd(B);var C=h.redMul(k).redISub(B),I=n.redAdd(n).redMul(i);return this.curve.jpoint(w,C,I)};Ye.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),a=e.redAdd(e).redIAdd(e),o=a.redSqr(),s=this.x.redAdd(r).redSqr().redISub(e).redISub(i);s=s.redIAdd(s),s=s.redAdd(s).redIAdd(s),s=s.redISub(o);var h=s.redSqr(),b=i.redIAdd(i);b=b.redIAdd(b),b=b.redIAdd(b),b=b.redIAdd(b);var l=a.redIAdd(s).redSqr().redISub(o).redISub(h).redISub(b),w=r.redMul(l);w=w.redIAdd(w),w=w.redIAdd(w);var k=this.x.redMul(h).redISub(w);k=k.redIAdd(k),k=k.redIAdd(k);var B=this.y.redMul(l.redMul(b.redISub(l)).redISub(s.redMul(h)));B=B.redIAdd(B),B=B.redIAdd(B),B=B.redIAdd(B);var C=this.z.redAdd(s).redSqr().redISub(n).redISub(h);return this.curve.jpoint(k,B,C)};Ye.prototype.mul=function(e,r){return e=new _e(e,r),this.curve._wnafMul(this,e)};Ye.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),a=n.redMul(e.z);return this.y.redMul(a).redISub(e.y.redMul(i)).cmpn(0)===0};Ye.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),a=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(a),this.x.cmp(n)===0)return!0}};Ye.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Ye.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var xr=Ct,ms=kt,Un=zn,od=dt;function Hr(t){Un.call(this,"mont",t),this.a=new xr(t.a,16).toRed(this.red),this.b=new xr(t.b,16).toRed(this.red),this.i4=new xr(4).toRed(this.red).redInvm(),this.two=new xr(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}ms(Hr,Un);var sd=Hr;Hr.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),a=i.redSqrt();return a.redSqr().cmp(i)===0};function $e(t,e,r){Un.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new xr(e,16),this.z=new xr(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}ms($e,Un.BasePoint);Hr.prototype.decodePoint=function(e,r){return this.point(od.toArray(e,r),1)};Hr.prototype.point=function(e,r){return new $e(this,e,r)};Hr.prototype.pointFromJSON=function(e){return $e.fromJSON(this,e)};$e.prototype.precompute=function(){};$e.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};$e.fromJSON=function(e,r){return new $e(e,r[0],r[1]||e.one)};$e.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};$e.prototype.isInfinity=function(){return this.z.cmpn(0)===0};$e.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),a=r.redSub(i),o=r.redMul(i),s=a.redMul(i.redAdd(this.curve.a24.redMul(a)));return this.curve.point(o,s)};$e.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};$e.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),a=e.x.redAdd(e.z),o=e.x.redSub(e.z),s=o.redMul(n),h=a.redMul(i),b=r.z.redMul(s.redAdd(h).redSqr()),l=r.x.redMul(s.redISub(h).redSqr());return this.curve.point(b,l)};$e.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),a=this,o=[];r.cmpn(0)!==0;r.iushrn(1))o.push(r.andln(1));for(var s=o.length-1;s>=0;s--)o[s]===0?(n=n.diffAdd(i,a),i=i.dbl()):(i=n.diffAdd(i,a),n=n.dbl());return i};$e.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};$e.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};$e.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};$e.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};$e.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var cd=dt,Gt=Ct,gs=kt,Nn=zn,fd=cd.assert;function Nt(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,Nn.call(this,"edwards",t),this.a=new Gt(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Gt(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Gt(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),fd(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}gs(Nt,Nn);var dd=Nt;Nt.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Nt.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Nt.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};Nt.prototype.pointFromX=function(e,r){e=new Gt(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),a=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=i.redMul(a.redInvm()),s=o.redSqrt();if(s.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var h=s.fromRed().isOdd();return(r&&!h||!r&&h)&&(s=s.redNeg()),this.point(e,s)};Nt.prototype.pointFromY=function(e,r){e=new Gt(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),a=n.redMul(this.d).redMul(this.c2).redSub(this.a),o=i.redMul(a.redInvm());if(o.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var s=o.redSqrt();if(s.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return s.fromRed().isOdd()!==r&&(s=s.redNeg()),this.point(s,e)};Nt.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),a=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(a)===0};function ue(t,e,r,n,i){Nn.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Gt(e,16),this.y=new Gt(r,16),this.z=n?new Gt(n,16):this.curve.one,this.t=i&&new Gt(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}gs(ue,Nn.BasePoint);Nt.prototype.pointFromJSON=function(e){return ue.fromJSON(this,e)};Nt.prototype.point=function(e,r,n,i){return new ue(this,e,r,n,i)};ue.fromJSON=function(e,r){return new ue(e,r[0],r[1],r[2])};ue.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};ue.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};ue.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),a=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),o=i.redAdd(r),s=o.redSub(n),h=i.redSub(r),b=a.redMul(s),l=o.redMul(h),w=a.redMul(h),k=s.redMul(o);return this.curve.point(b,l,k,w)};ue.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,a,o,s,h,b;if(this.curve.twisted){s=this.curve._mulA(r);var l=s.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(l.redSub(this.curve.two)),a=l.redMul(s.redSub(n)),o=l.redSqr().redSub(l).redSub(l)):(h=this.z.redSqr(),b=l.redSub(h).redISub(h),i=e.redSub(r).redISub(n).redMul(b),a=l.redMul(s.redSub(n)),o=l.redMul(b))}else s=r.redAdd(n),h=this.curve._mulC(this.z).redSqr(),b=s.redSub(h).redSub(h),i=this.curve._mulC(e.redISub(s)).redMul(b),a=this.curve._mulC(s).redMul(r.redISub(n)),o=s.redMul(b);return this.curve.point(i,a,o)};ue.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};ue.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),a=this.z.redMul(e.z.redAdd(e.z)),o=n.redSub(r),s=a.redSub(i),h=a.redAdd(i),b=n.redAdd(r),l=o.redMul(s),w=h.redMul(b),k=o.redMul(b),B=s.redMul(h);return this.curve.point(l,w,B,k)};ue.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),a=this.y.redMul(e.y),o=this.curve.d.redMul(i).redMul(a),s=n.redSub(o),h=n.redAdd(o),b=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(a),l=r.redMul(s).redMul(b),w,k;return this.curve.twisted?(w=r.redMul(h).redMul(a.redSub(this.curve._mulA(i))),k=s.redMul(h)):(w=r.redMul(h).redMul(a.redSub(i)),k=this.curve._mulC(s).redMul(h)),this.curve.point(l,w,k)};ue.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};ue.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};ue.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};ue.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};ue.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};ue.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};ue.prototype.getX=function(){return this.normalize(),this.x.fromRed()};ue.prototype.getY=function(){return this.normalize(),this.y.fromRed()};ue.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};ue.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};ue.prototype.toP=ue.prototype.normalize;ue.prototype.mixedAdd=ue.prototype.add;(function(t){var e=t;e.base=zn,e.short=ad,e.mont=sd,e.edwards=dd})(Ma);var Kn={},Ln={},Y={},ud=cr,ld=kt;Y.inherits=ld;function hd(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function pd(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var a=t.charCodeAt(i);a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=a&63|128):hd(t,i)?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=a&63|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=a&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}Y.toArray=pd;function bd(t){for(var e="",r=0;r<t.length;r++)e+=ys(t[r].toString(16));return e}Y.toHex=bd;function vs(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Y.htonl=vs;function md(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=vs(i)),r+=ws(i.toString(16))}return r}Y.toHex32=md;function ys(t){return t.length===1?"0"+t:t}Y.zero2=ys;function ws(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Y.zero8=ws;function gd(t,e,r,n){var i=r-e;ud(i%4===0);for(var a=new Array(i/4),o=0,s=e;o<a.length;o++,s+=4){var h;n==="big"?h=t[s]<<24|t[s+1]<<16|t[s+2]<<8|t[s+3]:h=t[s+3]<<24|t[s+2]<<16|t[s+1]<<8|t[s],a[o]=h>>>0}return a}Y.join32=gd;function vd(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var a=t[n];e==="big"?(r[i]=a>>>24,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=a&255):(r[i+3]=a>>>24,r[i+2]=a>>>16&255,r[i+1]=a>>>8&255,r[i]=a&255)}return r}Y.split32=vd;function yd(t,e){return t>>>e|t<<32-e}Y.rotr32=yd;function wd(t,e){return t<<e|t>>>32-e}Y.rotl32=wd;function _d(t,e){return t+e>>>0}Y.sum32=_d;function xd(t,e,r){return t+e+r>>>0}Y.sum32_3=xd;function Ad(t,e,r,n){return t+e+r+n>>>0}Y.sum32_4=Ad;function Sd(t,e,r,n,i){return t+e+r+n+i>>>0}Y.sum32_5=Sd;function Ed(t,e,r,n){var i=t[e],a=t[e+1],o=n+a>>>0,s=(o<n?1:0)+r+i;t[e]=s>>>0,t[e+1]=o}Y.sum64=Ed;function Md(t,e,r,n){var i=e+n>>>0,a=(i<e?1:0)+t+r;return a>>>0}Y.sum64_hi=Md;function Cd(t,e,r,n){var i=e+n;return i>>>0}Y.sum64_lo=Cd;function kd(t,e,r,n,i,a,o,s){var h=0,b=e;b=b+n>>>0,h+=b<e?1:0,b=b+a>>>0,h+=b<a?1:0,b=b+s>>>0,h+=b<s?1:0;var l=t+r+i+o+h;return l>>>0}Y.sum64_4_hi=kd;function Rd(t,e,r,n,i,a,o,s){var h=e+n+a+s;return h>>>0}Y.sum64_4_lo=Rd;function Bd(t,e,r,n,i,a,o,s,h,b){var l=0,w=e;w=w+n>>>0,l+=w<e?1:0,w=w+a>>>0,l+=w<a?1:0,w=w+s>>>0,l+=w<s?1:0,w=w+b>>>0,l+=w<b?1:0;var k=t+r+i+o+h+l;return k>>>0}Y.sum64_5_hi=Bd;function Id(t,e,r,n,i,a,o,s,h,b){var l=e+n+a+s+b;return l>>>0}Y.sum64_5_lo=Id;function Pd(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}Y.rotr64_hi=Pd;function Td(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Y.rotr64_lo=Td;function Od(t,e,r){return t>>>r}Y.shr64_hi=Od;function Dd(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Y.shr64_lo=Dd;var zr={},ho=Y,Hd=cr;function qn(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}zr.BlockHash=qn;qn.prototype.update=function(e,r){if(e=ho.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=ho.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};qn.prototype.digest=function(e){return this.update(this._pad()),Hd(this.pending===null),this._digest(e)};qn.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var a=1;a<n;a++)i[a]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[a++]=0;i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=e>>>24&255,i[a++]=e>>>16&255,i[a++]=e>>>8&255,i[a++]=e&255}else for(i[a++]=e&255,i[a++]=e>>>8&255,i[a++]=e>>>16&255,i[a++]=e>>>24&255,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,o=8;o<this.padLength;o++)i[a++]=0;return i};var Ur={},Kt={},zd=Y,Tt=zd.rotr32;function Ud(t,e,r,n){if(t===0)return _s(e,r,n);if(t===1||t===3)return As(e,r,n);if(t===2)return xs(e,r,n)}Kt.ft_1=Ud;function _s(t,e,r){return t&e^~t&r}Kt.ch32=_s;function xs(t,e,r){return t&e^t&r^e&r}Kt.maj32=xs;function As(t,e,r){return t^e^r}Kt.p32=As;function Nd(t){return Tt(t,2)^Tt(t,13)^Tt(t,22)}Kt.s0_256=Nd;function Kd(t){return Tt(t,6)^Tt(t,11)^Tt(t,25)}Kt.s1_256=Kd;function Ld(t){return Tt(t,7)^Tt(t,18)^t>>>3}Kt.g0_256=Ld;function qd(t){return Tt(t,17)^Tt(t,19)^t>>>10}Kt.g1_256=qd;var Br=Y,Fd=zr,Wd=Kt,Ci=Br.rotl32,Jr=Br.sum32,$d=Br.sum32_5,Jd=Wd.ft_1,Ss=Fd.BlockHash,jd=[1518500249,1859775393,2400959708,3395469782];function Ht(){if(!(this instanceof Ht))return new Ht;Ss.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Br.inherits(Ht,Ss);var Gd=Ht;Ht.blockSize=512;Ht.outSize=160;Ht.hmacStrength=80;Ht.padLength=64;Ht.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=Ci(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var a=this.h[0],o=this.h[1],s=this.h[2],h=this.h[3],b=this.h[4];for(i=0;i<n.length;i++){var l=~~(i/20),w=$d(Ci(a,5),Jd(l,o,s,h),b,n[i],jd[l]);b=h,h=s,s=Ci(o,30),o=a,a=w}this.h[0]=Jr(this.h[0],a),this.h[1]=Jr(this.h[1],o),this.h[2]=Jr(this.h[2],s),this.h[3]=Jr(this.h[3],h),this.h[4]=Jr(this.h[4],b)};Ht.prototype._digest=function(e){return e==="hex"?Br.toHex32(this.h,"big"):Br.split32(this.h,"big")};var Ir=Y,Vd=zr,Nr=Kt,Yd=cr,Et=Ir.sum32,Xd=Ir.sum32_4,Zd=Ir.sum32_5,Qd=Nr.ch32,eu=Nr.maj32,tu=Nr.s0_256,ru=Nr.s1_256,nu=Nr.g0_256,iu=Nr.g1_256,Es=Vd.BlockHash,au=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function zt(){if(!(this instanceof zt))return new zt;Es.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=au,this.W=new Array(64)}Ir.inherits(zt,Es);var Ms=zt;zt.blockSize=512;zt.outSize=256;zt.hmacStrength=192;zt.padLength=64;zt.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=Xd(iu(n[i-2]),n[i-7],nu(n[i-15]),n[i-16]);var a=this.h[0],o=this.h[1],s=this.h[2],h=this.h[3],b=this.h[4],l=this.h[5],w=this.h[6],k=this.h[7];for(Yd(this.k.length===n.length),i=0;i<n.length;i++){var B=Zd(k,ru(b),Qd(b,l,w),this.k[i],n[i]),C=Et(tu(a),eu(a,o,s));k=w,w=l,l=b,b=Et(h,B),h=s,s=o,o=a,a=Et(B,C)}this.h[0]=Et(this.h[0],a),this.h[1]=Et(this.h[1],o),this.h[2]=Et(this.h[2],s),this.h[3]=Et(this.h[3],h),this.h[4]=Et(this.h[4],b),this.h[5]=Et(this.h[5],l),this.h[6]=Et(this.h[6],w),this.h[7]=Et(this.h[7],k)};zt.prototype._digest=function(e){return e==="hex"?Ir.toHex32(this.h,"big"):Ir.split32(this.h,"big")};var Gi=Y,Cs=Ms;function Yt(){if(!(this instanceof Yt))return new Yt;Cs.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Gi.inherits(Yt,Cs);var ou=Yt;Yt.blockSize=512;Yt.outSize=224;Yt.hmacStrength=192;Yt.padLength=64;Yt.prototype._digest=function(e){return e==="hex"?Gi.toHex32(this.h.slice(0,7),"big"):Gi.split32(this.h.slice(0,7),"big")};var it=Y,su=zr,cu=cr,Ot=it.rotr64_hi,Dt=it.rotr64_lo,ks=it.shr64_hi,Rs=it.shr64_lo,Qt=it.sum64,ki=it.sum64_hi,Ri=it.sum64_lo,fu=it.sum64_4_hi,du=it.sum64_4_lo,uu=it.sum64_5_hi,lu=it.sum64_5_lo,Bs=su.BlockHash,hu=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Mt(){if(!(this instanceof Mt))return new Mt;Bs.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=hu,this.W=new Array(160)}it.inherits(Mt,Bs);var Is=Mt;Mt.blockSize=1024;Mt.outSize=512;Mt.hmacStrength=192;Mt.padLength=128;Mt.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var a=Su(n[i-4],n[i-3]),o=Eu(n[i-4],n[i-3]),s=n[i-14],h=n[i-13],b=xu(n[i-30],n[i-29]),l=Au(n[i-30],n[i-29]),w=n[i-32],k=n[i-31];n[i]=fu(a,o,s,h,b,l,w,k),n[i+1]=du(a,o,s,h,b,l,w,k)}};Mt.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],a=this.h[1],o=this.h[2],s=this.h[3],h=this.h[4],b=this.h[5],l=this.h[6],w=this.h[7],k=this.h[8],B=this.h[9],C=this.h[10],I=this.h[11],U=this.h[12],z=this.h[13],D=this.h[14],F=this.h[15];cu(this.k.length===n.length);for(var se=0;se<n.length;se+=2){var ne=D,je=F,Qe=wu(k,B),rt=_u(k,B),Q=pu(k,B,C,I,U),ut=bu(k,B,C,I,U,z),S=this.k[se],c=this.k[se+1],p=n[se],g=n[se+1],v=uu(ne,je,Qe,rt,Q,ut,S,c,p,g),A=lu(ne,je,Qe,rt,Q,ut,S,c,p,g);ne=vu(i,a),je=yu(i,a),Qe=mu(i,a,o,s,h),rt=gu(i,a,o,s,h,b);var M=ki(ne,je,Qe,rt),R=Ri(ne,je,Qe,rt);D=U,F=z,U=C,z=I,C=k,I=B,k=ki(l,w,v,A),B=Ri(w,w,v,A),l=h,w=b,h=o,b=s,o=i,s=a,i=ki(v,A,M,R),a=Ri(v,A,M,R)}Qt(this.h,0,i,a),Qt(this.h,2,o,s),Qt(this.h,4,h,b),Qt(this.h,6,l,w),Qt(this.h,8,k,B),Qt(this.h,10,C,I),Qt(this.h,12,U,z),Qt(this.h,14,D,F)};Mt.prototype._digest=function(e){return e==="hex"?it.toHex32(this.h,"big"):it.split32(this.h,"big")};function pu(t,e,r,n,i){var a=t&r^~t&i;return a<0&&(a+=4294967296),a}function bu(t,e,r,n,i,a){var o=e&n^~e&a;return o<0&&(o+=4294967296),o}function mu(t,e,r,n,i){var a=t&r^t&i^r&i;return a<0&&(a+=4294967296),a}function gu(t,e,r,n,i,a){var o=e&n^e&a^n&a;return o<0&&(o+=4294967296),o}function vu(t,e){var r=Ot(t,e,28),n=Ot(e,t,2),i=Ot(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function yu(t,e){var r=Dt(t,e,28),n=Dt(e,t,2),i=Dt(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function wu(t,e){var r=Ot(t,e,14),n=Ot(t,e,18),i=Ot(e,t,9),a=r^n^i;return a<0&&(a+=4294967296),a}function _u(t,e){var r=Dt(t,e,14),n=Dt(t,e,18),i=Dt(e,t,9),a=r^n^i;return a<0&&(a+=4294967296),a}function xu(t,e){var r=Ot(t,e,1),n=Ot(t,e,8),i=ks(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function Au(t,e){var r=Dt(t,e,1),n=Dt(t,e,8),i=Rs(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function Su(t,e){var r=Ot(t,e,19),n=Ot(e,t,29),i=ks(t,e,6),a=r^n^i;return a<0&&(a+=4294967296),a}function Eu(t,e){var r=Dt(t,e,19),n=Dt(e,t,29),i=Rs(t,e,6),a=r^n^i;return a<0&&(a+=4294967296),a}var Vi=Y,Ps=Is;function Xt(){if(!(this instanceof Xt))return new Xt;Ps.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Vi.inherits(Xt,Ps);var Mu=Xt;Xt.blockSize=1024;Xt.outSize=384;Xt.hmacStrength=192;Xt.padLength=128;Xt.prototype._digest=function(e){return e==="hex"?Vi.toHex32(this.h.slice(0,12),"big"):Vi.split32(this.h.slice(0,12),"big")};Ur.sha1=Gd;Ur.sha224=ou;Ur.sha256=Ms;Ur.sha384=Mu;Ur.sha512=Is;var Ts={},gr=Y,Cu=zr,un=gr.rotl32,po=gr.sum32,jr=gr.sum32_3,bo=gr.sum32_4,Os=Cu.BlockHash;function Ut(){if(!(this instanceof Ut))return new Ut;Os.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}gr.inherits(Ut,Os);Ts.ripemd160=Ut;Ut.blockSize=512;Ut.outSize=160;Ut.hmacStrength=192;Ut.padLength=64;Ut.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],a=this.h[2],o=this.h[3],s=this.h[4],h=n,b=i,l=a,w=o,k=s,B=0;B<80;B++){var C=po(un(bo(n,mo(B,i,a,o),e[Bu[B]+r],ku(B)),Pu[B]),s);n=s,s=o,o=un(a,10),a=i,i=C,C=po(un(bo(h,mo(79-B,b,l,w),e[Iu[B]+r],Ru(B)),Tu[B]),k),h=k,k=w,w=un(l,10),l=b,b=C}C=jr(this.h[1],a,w),this.h[1]=jr(this.h[2],o,k),this.h[2]=jr(this.h[3],s,h),this.h[3]=jr(this.h[4],n,b),this.h[4]=jr(this.h[0],i,l),this.h[0]=C};Ut.prototype._digest=function(e){return e==="hex"?gr.toHex32(this.h,"little"):gr.split32(this.h,"little")};function mo(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function ku(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function Ru(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var Bu=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Iu=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Pu=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Tu=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Ou=Y,Du=cr;function Pr(t,e,r){if(!(this instanceof Pr))return new Pr(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(Ou.toArray(e,r))}var Hu=Pr;Pr.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),Du(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};Pr.prototype.update=function(e,r){return this.inner.update(e,r),this};Pr.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=Y,e.common=zr,e.sha=Ur,e.ripemd=Ts,e.hmac=Hu,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(Ln);var Bi,go;function zu(){return go||(go=1,Bi={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),Bi}(function(t){var e=t,r=Ln,n=Ma,i=dt,a=i.assert;function o(b){b.type==="short"?this.curve=new n.short(b):b.type==="edwards"?this.curve=new n.edwards(b):this.curve=new n.mont(b),this.g=this.curve.g,this.n=this.curve.n,this.hash=b.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=o;function s(b,l){Object.defineProperty(e,b,{configurable:!0,enumerable:!0,get:function(){var w=new o(l);return Object.defineProperty(e,b,{configurable:!0,enumerable:!0,value:w}),w}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var h;try{h=zu()}catch{h=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",h]})})(Kn);var Uu=Ln,pr=Sa,Ds=cr;function ar(t){if(!(this instanceof ar))return new ar(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=pr.toArray(t.entropy,t.entropyEnc||"hex"),r=pr.toArray(t.nonce,t.nonceEnc||"hex"),n=pr.toArray(t.pers,t.persEnc||"hex");Ds(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var Nu=ar;ar.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++)this.K[a]=0,this.V[a]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};ar.prototype._hmac=function(){return new Uu.hmac(this.hash,this.K)};ar.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};ar.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=pr.toArray(e,r),n=pr.toArray(n,i),Ds(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};ar.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=pr.toArray(n,i||"hex"),this._update(n));for(var a=[];a.length<e;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var o=a.slice(0,e);return this._update(n),this._reseed++,pr.encode(o,r)};var Ku=Ct,Lu=dt,Yi=Lu.assert;function Xe(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var qu=Xe;Xe.fromPublic=function(e,r,n){return r instanceof Xe?r:new Xe(e,{pub:r,pubEnc:n})};Xe.fromPrivate=function(e,r,n){return r instanceof Xe?r:new Xe(e,{priv:r,privEnc:n})};Xe.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Xe.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Xe.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Xe.prototype._importPrivate=function(e,r){this.priv=new Ku(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Xe.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?Yi(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Yi(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Xe.prototype.derive=function(e){return e.validate()||Yi(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Xe.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Xe.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Xe.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var _n=Ct,ka=dt,Fu=ka.assert;function Fn(t,e){if(t instanceof Fn)return t;this._importDER(t,e)||(Fu(t.r&&t.s,"Signature without r or s"),this.r=new _n(t.r,16),this.s=new _n(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Wu=Fn;function $u(){this.place=0}function Ii(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,a=0,o=e.place;a<n;a++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function vo(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Fn.prototype._importDER=function(e,r){e=ka.toArray(e,r);var n=new $u;if(e[n.place++]!==48)return!1;var i=Ii(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var a=Ii(e,n);if(a===!1)return!1;var o=e.slice(n.place,a+n.place);if(n.place+=a,e[n.place++]!==2)return!1;var s=Ii(e,n);if(s===!1||e.length!==s+n.place)return!1;var h=e.slice(n.place,s+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(h[0]===0)if(h[1]&128)h=h.slice(1);else return!1;return this.r=new _n(o),this.s=new _n(h),this.recoveryParam=null,!0};function Pi(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Fn.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=vo(r),n=vo(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Pi(i,r.length),i=i.concat(r),i.push(2),Pi(i,n.length);var a=i.concat(n),o=[48];return Pi(o,a.length),o=o.concat(a),ka.encode(o,e)};var br=Ct,Hs=Nu,Ju=dt,Ti=Kn,ju=bs,zs=Ju.assert,Ra=qu,Wn=Wu;function wt(t){if(!(this instanceof wt))return new wt(t);typeof t=="string"&&(zs(Object.prototype.hasOwnProperty.call(Ti,t),"Unknown curve "+t),t=Ti[t]),t instanceof Ti.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Gu=wt;wt.prototype.keyPair=function(e){return new Ra(this,e)};wt.prototype.keyFromPrivate=function(e,r){return Ra.fromPrivate(this,e,r)};wt.prototype.keyFromPublic=function(e,r){return Ra.fromPublic(this,e,r)};wt.prototype.genKeyPair=function(e){e||(e={});for(var r=new Hs({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||ju(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new br(2));;){var a=new br(r.generate(n));if(!(a.cmp(i)>0))return a.iaddn(1),this.keyFromPrivate(a)}};wt.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};wt.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new br(e,16));for(var a=this.n.byteLength(),o=r.getPrivate().toArray("be",a),s=e.toArray("be",a),h=new Hs({hash:this.hash,entropy:o,nonce:s,pers:i.pers,persEnc:i.persEnc||"utf8"}),b=this.n.sub(new br(1)),l=0;;l++){var w=i.k?i.k(l):new br(h.generate(this.n.byteLength()));if(w=this._truncateToN(w,!0),!(w.cmpn(1)<=0||w.cmp(b)>=0)){var k=this.g.mul(w);if(!k.isInfinity()){var B=k.getX(),C=B.umod(this.n);if(C.cmpn(0)!==0){var I=w.invm(this.n).mul(C.mul(r.getPrivate()).iadd(e));if(I=I.umod(this.n),I.cmpn(0)!==0){var U=(k.getY().isOdd()?1:0)|(B.cmp(C)!==0?2:0);return i.canonical&&I.cmp(this.nh)>0&&(I=this.n.sub(I),U^=1),new Wn({r:C,s:I,recoveryParam:U})}}}}}};wt.prototype.verify=function(e,r,n,i){e=this._truncateToN(new br(e,16)),n=this.keyFromPublic(n,i),r=new Wn(r,"hex");var a=r.r,o=r.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s=o.invm(this.n),h=s.mul(e).umod(this.n),b=s.mul(a).umod(this.n),l;return this.curve._maxwellTrick?(l=this.g.jmulAdd(h,n.getPublic(),b),l.isInfinity()?!1:l.eqXToP(a)):(l=this.g.mulAdd(h,n.getPublic(),b),l.isInfinity()?!1:l.getX().umod(this.n).cmp(a)===0)};wt.prototype.recoverPubKey=function(t,e,r,n){zs((3&r)===r,"The recovery param is more than two bits"),e=new Wn(e,n);var i=this.n,a=new br(t),o=e.r,s=e.s,h=r&1,b=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&b)throw new Error("Unable to find sencond key candinate");b?o=this.curve.pointFromX(o.add(this.curve.n),h):o=this.curve.pointFromX(o,h);var l=e.r.invm(i),w=i.sub(a).mul(l).umod(i),k=s.mul(l).umod(i);return this.g.mulAdd(w,o,k)};wt.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Wn(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(t,e,i)}catch{continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var nn=dt,Us=nn.assert,yo=nn.parseBytes,Kr=nn.cachedProperty;function Fe(t,e){this.eddsa=t,this._secret=yo(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=yo(e.pub)}Fe.fromPublic=function(e,r){return r instanceof Fe?r:new Fe(e,{pub:r})};Fe.fromSecret=function(e,r){return r instanceof Fe?r:new Fe(e,{secret:r})};Fe.prototype.secret=function(){return this._secret};Kr(Fe,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Kr(Fe,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Kr(Fe,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});Kr(Fe,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Kr(Fe,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Kr(Fe,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Fe.prototype.sign=function(e){return Us(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};Fe.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};Fe.prototype.getSecret=function(e){return Us(this._secret,"KeyPair is public only"),nn.encode(this.secret(),e)};Fe.prototype.getPublic=function(e){return nn.encode(this.pubBytes(),e)};var Vu=Fe,Yu=Ct,$n=dt,Xu=$n.assert,Jn=$n.cachedProperty,Zu=$n.parseBytes;function vr(t,e){this.eddsa=t,typeof e!="object"&&(e=Zu(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),Xu(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof Yu&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}Jn(vr,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});Jn(vr,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});Jn(vr,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});Jn(vr,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});vr.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};vr.prototype.toHex=function(){return $n.encode(this.toBytes(),"hex").toUpperCase()};var Qu=vr,el=Ln,tl=Kn,Tr=dt,rl=Tr.assert,Ns=Tr.parseBytes,Ks=Vu,wo=Qu;function at(t){if(rl(t==="ed25519","only tested with ed25519 so far"),!(this instanceof at))return new at(t);t=tl[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=el.sha512}var nl=at;at.prototype.sign=function(e,r){e=Ns(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),a=this.g.mul(i),o=this.encodePoint(a),s=this.hashInt(o,n.pubBytes(),e).mul(n.priv()),h=i.add(s).umod(this.curve.n);return this.makeSignature({R:a,S:h,Rencoded:o})};at.prototype.verify=function(e,r,n){e=Ns(e),r=this.makeSignature(r);var i=this.keyFromPublic(n),a=this.hashInt(r.Rencoded(),i.pubBytes(),e),o=this.g.mul(r.S()),s=r.R().add(i.pub().mul(a));return s.eq(o)};at.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return Tr.intFromLE(e.digest()).umod(this.curve.n)};at.prototype.keyFromPublic=function(e){return Ks.fromPublic(this,e)};at.prototype.keyFromSecret=function(e){return Ks.fromSecret(this,e)};at.prototype.makeSignature=function(e){return e instanceof wo?e:new wo(this,e)};at.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};at.prototype.decodePoint=function(e){e=Tr.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,a=Tr.intFromLE(n);return this.curve.pointFromY(a,i)};at.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};at.prototype.decodeInt=function(e){return Tr.intFromLE(e)};at.prototype.isPoint=function(e){return e instanceof this.pointClass};(function(t){var e=t;e.version=td.version,e.utils=dt,e.rand=bs,e.curve=Ma,e.curves=Kn,e.ec=Gu,e.eddsa=nl})(ps);var il=sr.bignum,al=hs.Buffer,Ls=function(e,r){var n=al.from(e,"base64"),i=e=new il(n,10,"be").iabs();return r&&n.fill(0),i},qs=sr.define("AlgorithmIdentifer",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())}),ol=qs,Fs=sr.define("PublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(ol),this.key("PublicKey").bitstr())}),Ba=sr.define("Version",function(){this.int()}),sl=qs,cl=Ba,Ws=sr.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").use(cl),this.key("privateKeyAlgorithm").use(sl),this.key("privateKey").octstr(),this.key("attributes").optional().any())}),$s=sr,_o=hs.Buffer,fl=ps.ec,Oi=Ls,dl=Fs,ul=Ws,ll=Ba,hl=$s.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),pl=1,bl=$s.define("ECPrivateKey",function(){this.seq().obj(this.key("version").use(ll),this.key("privateKey").octstr(),this.key("parameters").explicit(0).optional().any(),this.key("publicKey").explicit(1).optional().bitstr())}),ml={"P-256":"p256","P-384":"p384","P-521":"p521"},Xi={"P-256":[1,2,840,10045,3,1,7],"P-384":[1,3,132,0,34],"P-521":[1,3,132,0,35]},Zi={},Qi={};Object.keys(Xi).forEach(function(t){Zi[t]=hl.encode({type:"namedCurve",value:Xi[t]},"der"),Qi[t]={algorithm:[1,2,840,10045,2,1],parameters:Zi[t]}});Xi=null;function gl(t,e){if(typeof t.crv!="string")throw new TypeError('Expected "jwk.crv" to be a String');var r=typeof t.d=="string",n=r?["undefined","string"]:["string"];if(n.indexOf(typeof t.x)===-1)throw new TypeError('Expected "jwk.x" to be a String');if(n.indexOf(typeof t.y)===-1)throw new TypeError('Expected "jwk.y" to be a String');if(e.private&&!r)throw new TypeError('Expected "jwk.d" to be a String');var i=ml[t.crv];if(!i)throw new Error('Unsupported curve "'+t.crv+'"');var a=new fl(i),o={},s=t.x&&t.y;s&&(o.pub={x:Oi(t.x,!1),y:Oi(t.y,!1)}),(e.private||!s)&&(o.priv=Oi(t.d,!0)),o=a.keyPair(o);var h=o.validate();if(!h.result)throw new Error('Invalid key for curve: "'+h.reason+'"');var b=vl(t.crv,o,e);return b}function vl(t,e,r){var n=!1,i=e.getPublic(n,"hex");i=_o.from(i,"hex"),i={unused:0,data:i};var a;if(r.private){var o=e.getPrivate("hex");o=_o.from(o,"hex"),a=ul.encode({version:0,privateKeyAlgorithm:Qi[t],privateKey:bl.encode({version:pl,privateKey:o,parameters:Zi[t],publicKey:i},"der")},"pem",{label:"PRIVATE KEY"}),o.fill(0)}else a=dl.encode({algorithm:Qi[t],PublicKey:i},"pem",{label:"PUBLIC KEY"});return a.slice(-1)!==`
`&&(a+=`
`),a}var yl=gl,Js=sr,Bt=Ls,wl=Fs,_l=Ws,xl=Ba,Al=Js.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").use(xl),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}),Sl=Js.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}),xo={algorithm:[1,2,840,113549,1,1,1],parameters:[5,0]};function El(t,e){if(typeof t.e!="string")throw new TypeError('Expected "jwk.e" to be a String');if(typeof t.n!="string")throw new TypeError('Expected "jwk.n" to be a String');if(e.private){if(typeof t.d!="string")throw new TypeError('Expected "jwk.d" to be a String');if(typeof t.p!="string")throw new TypeError('Expected "jwk.p" to be a String');if(typeof t.q!="string")throw new TypeError('Expected "jwk.q" to be a String');if(typeof t.dp!="string")throw new TypeError('Expected "jwk.dp" to be a String');if(typeof t.dq!="string")throw new TypeError('Expected "jwk.dq" to be a String');if(typeof t.qi!="string")throw new TypeError('Expected "jwk.qi" to be a String')}var r;return e.private?r=_l.encode({version:0,privateKeyAlgorithm:xo,privateKey:Al.encode({version:0,modulus:Bt(t.n,!1),publicExponent:Bt(t.e,!1),privateExponent:Bt(t.d,!0),prime1:Bt(t.p,!0),prime2:Bt(t.q,!0),exponent1:Bt(t.dp,!0),exponent2:Bt(t.dq,!0),coefficient:Bt(t.qi,!0)},"der")},"pem",{label:"PRIVATE KEY"}):r=wl.encode({algorithm:xo,PublicKey:{unused:0,data:Sl.encode({modulus:Bt(t.n,!1),publicExponent:Bt(t.e,!1)},"der")}},"pem",{label:"PUBLIC KEY"}),r.slice(-1)!==`
`&&(r+=`
`),r}var Ml=El,Cl=yl,kl=Ml;function Rl(t,e){if(typeof t!="object"||t===null)throw new TypeError('Expected "jwk" to be an Object');var r=t.kty;if(typeof r!="string")throw new TypeError('Expected "jwk.kty" to be a String');switch(e=e||{},e.private=e.private===!0,r){case"EC":return Cl(t,e);case"RSA":return kl(t,e);default:throw new Error('Unsupported key type "'+r+'"')}}var Bl=Rl;function js(t,e){return function(){return t.apply(e,arguments)}}const{toString:Il}=Object.prototype,{getPrototypeOf:Ia}=Object,jn=(t=>e=>{const r=Il.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Lt=t=>(t=t.toLowerCase(),e=>jn(e)===t),Gn=t=>e=>typeof e===t,{isArray:Lr}=Array,Yr=Gn("undefined");function Pl(t){return t!==null&&!Yr(t)&&t.constructor!==null&&!Yr(t.constructor)&&gt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Gs=Lt("ArrayBuffer");function Tl(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Gs(t.buffer),e}const Ol=Gn("string"),gt=Gn("function"),Vs=Gn("number"),Vn=t=>t!==null&&typeof t=="object",Dl=t=>t===!0||t===!1,pn=t=>{if(jn(t)!=="object")return!1;const e=Ia(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Hl=Lt("Date"),zl=Lt("File"),Ul=Lt("Blob"),Nl=Lt("FileList"),Kl=t=>Vn(t)&&gt(t.pipe),Ll=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||gt(t.append)&&((e=jn(t))==="formdata"||e==="object"&&gt(t.toString)&&t.toString()==="[object FormData]"))},ql=Lt("URLSearchParams"),Fl=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function an(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Lr(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const a=r?Object.getOwnPropertyNames(t):Object.keys(t),o=a.length;let s;for(n=0;n<o;n++)s=a[n],e.call(null,t[s],s,t)}}function Ys(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Xs=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Mr)(),Zs=t=>!Yr(t)&&t!==Xs;function ea(){const{caseless:t}=Zs(this)&&this||{},e={},r=(n,i)=>{const a=t&&Ys(e,i)||i;pn(e[a])&&pn(n)?e[a]=ea(e[a],n):pn(n)?e[a]=ea({},n):Lr(n)?e[a]=n.slice():e[a]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&an(arguments[n],r);return e}const Wl=(t,e,r,{allOwnKeys:n}={})=>(an(e,(i,a)=>{r&&gt(i)?t[a]=js(i,r):t[a]=i},{allOwnKeys:n}),t),$l=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Jl=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},jl=(t,e,r,n)=>{let i,a,o;const s={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)o=i[a],(!n||n(o,t,e))&&!s[o]&&(e[o]=t[o],s[o]=!0);t=r!==!1&&Ia(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Gl=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Vl=t=>{if(!t)return null;if(Lr(t))return t;let e=t.length;if(!Vs(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Yl=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ia(Uint8Array)),Xl=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},Zl=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Ql=Lt("HTMLFormElement"),eh=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),Ao=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),th=Lt("RegExp"),Qs=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};an(r,(i,a)=>{let o;(o=e(i,a,t))!==!1&&(n[a]=o||i)}),Object.defineProperties(t,n)},rh=t=>{Qs(t,(e,r)=>{if(gt(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(gt(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},nh=(t,e)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return Lr(t)?n(t):n(String(t).split(e)),r},ih=()=>{},ah=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Di="abcdefghijklmnopqrstuvwxyz",So="0123456789",ec={DIGIT:So,ALPHA:Di,ALPHA_DIGIT:Di+Di.toUpperCase()+So},oh=(t=16,e=ec.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function sh(t){return!!(t&&gt(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const ch=t=>{const e=new Array(10),r=(n,i)=>{if(Vn(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const a=Lr(n)?[]:{};return an(n,(o,s)=>{const h=r(o,i+1);!Yr(h)&&(a[s]=h)}),e[i]=void 0,a}}return n};return r(t,0)},fh=Lt("AsyncFunction"),dh=t=>t&&(Vn(t)||gt(t))&&gt(t.then)&&gt(t.catch);var O={isArray:Lr,isArrayBuffer:Gs,isBuffer:Pl,isFormData:Ll,isArrayBufferView:Tl,isString:Ol,isNumber:Vs,isBoolean:Dl,isObject:Vn,isPlainObject:pn,isUndefined:Yr,isDate:Hl,isFile:zl,isBlob:Ul,isRegExp:th,isFunction:gt,isStream:Kl,isURLSearchParams:ql,isTypedArray:Yl,isFileList:Nl,forEach:an,merge:ea,extend:Wl,trim:Fl,stripBOM:$l,inherits:Jl,toFlatObject:jl,kindOf:jn,kindOfTest:Lt,endsWith:Gl,toArray:Vl,forEachEntry:Xl,matchAll:Zl,isHTMLForm:Ql,hasOwnProperty:Ao,hasOwnProp:Ao,reduceDescriptors:Qs,freezeMethods:rh,toObjectSet:nh,toCamelCase:eh,noop:ih,toFiniteNumber:ah,findKey:Ys,global:Xs,isContextDefined:Zs,ALPHABET:ec,generateString:oh,isSpecCompliantForm:sh,toJSONObject:ch,isAsyncFn:fh,isThenable:dh};function X(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}O.inherits(X,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const tc=X.prototype,rc={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{rc[t]={value:t}});Object.defineProperties(X,rc);Object.defineProperty(tc,"isAxiosError",{value:!0});X.from=(t,e,r,n,i,a)=>{const o=Object.create(tc);return O.toFlatObject(t,o,function(h){return h!==Error.prototype},s=>s!=="isAxiosError"),X.call(o,t.message,e,r,n,i),o.cause=t,o.name=t.name,a&&Object.assign(o,a),o};var uh=null;function ta(t){return O.isPlainObject(t)||O.isArray(t)}function nc(t){return O.endsWith(t,"[]")?t.slice(0,-2):t}function Eo(t,e,r){return t?t.concat(e).map(function(i,a){return i=nc(i),!r&&a?"["+i+"]":i}).join(r?".":""):e}function lh(t){return O.isArray(t)&&!t.some(ta)}const hh=O.toFlatObject(O,{},null,function(e){return/^is[A-Z]/.test(e)});function Yn(t,e,r){if(!O.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=O.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(I,U){return!O.isUndefined(U[I])});const n=r.metaTokens,i=r.visitor||l,a=r.dots,o=r.indexes,h=(r.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(e);if(!O.isFunction(i))throw new TypeError("visitor must be a function");function b(C){if(C===null)return"";if(O.isDate(C))return C.toISOString();if(!h&&O.isBlob(C))throw new X("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(C)||O.isTypedArray(C)?h&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function l(C,I,U){let z=C;if(C&&!U&&typeof C=="object"){if(O.endsWith(I,"{}"))I=n?I:I.slice(0,-2),C=JSON.stringify(C);else if(O.isArray(C)&&lh(C)||(O.isFileList(C)||O.endsWith(I,"[]"))&&(z=O.toArray(C)))return I=nc(I),z.forEach(function(F,se){!(O.isUndefined(F)||F===null)&&e.append(o===!0?Eo([I],se,a):o===null?I:I+"[]",b(F))}),!1}return ta(C)?!0:(e.append(Eo(U,I,a),b(C)),!1)}const w=[],k=Object.assign(hh,{defaultVisitor:l,convertValue:b,isVisitable:ta});function B(C,I){if(!O.isUndefined(C)){if(w.indexOf(C)!==-1)throw Error("Circular reference detected in "+I.join("."));w.push(C),O.forEach(C,function(z,D){(!(O.isUndefined(z)||z===null)&&i.call(e,z,O.isString(D)?D.trim():D,I,k))===!0&&B(z,I?I.concat(D):[D])}),w.pop()}}if(!O.isObject(t))throw new TypeError("data must be an object");return B(t),e}function Mo(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Pa(t,e){this._pairs=[],t&&Yn(t,this,e)}const ic=Pa.prototype;ic.append=function(e,r){this._pairs.push([e,r])};ic.toString=function(e){const r=e?function(n){return e.call(this,n,Mo)}:Mo;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function ph(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ac(t,e,r){if(!e)return t;const n=r&&r.encode||ph,i=r&&r.serialize;let a;if(i?a=i(e,r):a=O.isURLSearchParams(e)?e.toString():new Pa(e,r).toString(n),a){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class bh{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){O.forEach(this.handlers,function(n){n!==null&&e(n)})}}var Co=bh,oc={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mh=typeof URLSearchParams<"u"?URLSearchParams:Pa,gh=typeof FormData<"u"?FormData:null,vh=typeof Blob<"u"?Blob:null,yh={isBrowser:!0,classes:{URLSearchParams:mh,FormData:gh,Blob:vh},protocols:["http","https","file","blob","url","data"]};const sc=typeof window<"u"&&typeof document<"u",wh=(t=>sc&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),_h=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")();var xh=Object.freeze({__proto__:null,hasBrowserEnv:sc,hasStandardBrowserWebWorkerEnv:_h,hasStandardBrowserEnv:wh}),Pt={...xh,...yh};function Ah(t,e){return Yn(t,new Pt.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,a){return Pt.isNode&&O.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function Sh(t){return O.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Eh(t){const e={},r=Object.keys(t);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],e[a]=t[a];return e}function cc(t){function e(r,n,i,a){let o=r[a++];const s=Number.isFinite(+o),h=a>=r.length;return o=!o&&O.isArray(i)?i.length:o,h?(O.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!s):((!i[o]||!O.isObject(i[o]))&&(i[o]=[]),e(r,n,i[o],a)&&O.isArray(i[o])&&(i[o]=Eh(i[o])),!s)}if(O.isFormData(t)&&O.isFunction(t.entries)){const r={};return O.forEachEntry(t,(n,i)=>{e(Sh(n),i,r,0)}),r}return null}function Mh(t,e,r){if(O.isString(t))try{return(e||JSON.parse)(t),O.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Ta={transitional:oc,adapter:["xhr","http"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=O.isObject(e);if(a&&O.isHTMLForm(e)&&(e=new FormData(e)),O.isFormData(e))return i&&i?JSON.stringify(cc(e)):e;if(O.isArrayBuffer(e)||O.isBuffer(e)||O.isStream(e)||O.isFile(e)||O.isBlob(e))return e;if(O.isArrayBufferView(e))return e.buffer;if(O.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Ah(e,this.formSerializer).toString();if((s=O.isFileList(e))||n.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Yn(s?{"files[]":e}:e,h&&new h,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),Mh(e)):e}],transformResponse:[function(e){const r=this.transitional||Ta.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&O.isString(e)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(s){if(o)throw s.name==="SyntaxError"?X.from(s,X.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pt.classes.FormData,Blob:Pt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],t=>{Ta.headers[t]={}});var Oa=Ta;const Ch=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var kh=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||e[r]&&Ch[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e};const ko=Symbol("internals");function Gr(t){return t&&String(t).trim().toLowerCase()}function bn(t){return t===!1||t==null?t:O.isArray(t)?t.map(bn):String(t)}function Rh(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Bh=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Hi(t,e,r,n,i){if(O.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!O.isString(e)){if(O.isString(n))return e.indexOf(n)!==-1;if(O.isRegExp(n))return n.test(e)}}function Ih(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Ph(t,e){const r=O.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,a,o){return this[n].call(this,e,i,a,o)},configurable:!0})})}class Xn{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function a(s,h,b){const l=Gr(h);if(!l)throw new Error("header name must be a non-empty string");const w=O.findKey(i,l);(!w||i[w]===void 0||b===!0||b===void 0&&i[w]!==!1)&&(i[w||h]=bn(s))}const o=(s,h)=>O.forEach(s,(b,l)=>a(b,l,h));return O.isPlainObject(e)||e instanceof this.constructor?o(e,r):O.isString(e)&&(e=e.trim())&&!Bh(e)?o(kh(e),r):e!=null&&a(r,e,n),this}get(e,r){if(e=Gr(e),e){const n=O.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return Rh(i);if(O.isFunction(r))return r.call(this,i,n);if(O.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Gr(e),e){const n=O.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Hi(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function a(o){if(o=Gr(o),o){const s=O.findKey(n,o);s&&(!r||Hi(n,n[s],s,r))&&(delete n[s],i=!0)}}return O.isArray(e)?e.forEach(a):a(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!e||Hi(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const r=this,n={};return O.forEach(this,(i,a)=>{const o=O.findKey(n,a);if(o){r[o]=bn(i),delete r[a];return}const s=e?Ih(a):String(a).trim();s!==a&&delete r[a],r[s]=bn(i),n[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return O.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&O.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[ko]=this[ko]={accessors:{}}).accessors,i=this.prototype;function a(o){const s=Gr(o);n[s]||(Ph(i,o),n[s]=!0)}return O.isArray(e)?e.forEach(a):a(e),this}}Xn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);O.reduceDescriptors(Xn.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});O.freezeMethods(Xn);var Vt=Xn;function zi(t,e){const r=this||Oa,n=e||r,i=Vt.from(n.headers);let a=n.data;return O.forEach(t,function(s){a=s.call(r,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function fc(t){return!!(t&&t.__CANCEL__)}function on(t,e,r){X.call(this,t??"canceled",X.ERR_CANCELED,e,r),this.name="CanceledError"}O.inherits(on,X,{__CANCEL__:!0});function Th(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new X("Request failed with status code "+r.status,[X.ERR_BAD_REQUEST,X.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}var Oh=Pt.hasStandardBrowserEnv?function(){return{write:function(r,n,i,a,o,s){const h=[];h.push(r+"="+encodeURIComponent(n)),O.isNumber(i)&&h.push("expires="+new Date(i).toGMTString()),O.isString(a)&&h.push("path="+a),O.isString(o)&&h.push("domain="+o),s===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(r){const n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Dh(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Hh(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function dc(t,e){return t&&!Dh(e)?Hh(t,e):e}var zh=Pt.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(a){let o=a;return e&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(o){const s=O.isString(o)?i(o):o;return s.protocol===n.protocol&&s.host===n.host}}():function(){return function(){return!0}}();function Uh(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Nh(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,a=0,o;return e=e!==void 0?e:1e3,function(h){const b=Date.now(),l=n[a];o||(o=b),r[i]=h,n[i]=b;let w=a,k=0;for(;w!==i;)k+=r[w++],w=w%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),b-o<e)return;const B=l&&b-l;return B?Math.round(k*1e3/B):void 0}}function Ro(t,e){let r=0;const n=Nh(50,250);return i=>{const a=i.loaded,o=i.lengthComputable?i.total:void 0,s=a-r,h=n(s),b=a<=o;r=a;const l={loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:h||void 0,estimated:h&&o&&b?(o-a)/h:void 0,event:i};l[e?"download":"upload"]=!0,t(l)}}const Kh=typeof XMLHttpRequest<"u";var Lh=Kh&&function(t){return new Promise(function(r,n){let i=t.data;const a=Vt.from(t.headers).normalize(),o=t.responseType;let s;function h(){t.cancelToken&&t.cancelToken.unsubscribe(s),t.signal&&t.signal.removeEventListener("abort",s)}let b;if(O.isFormData(i)){if(Pt.hasStandardBrowserEnv||Pt.hasStandardBrowserWebWorkerEnv)a.setContentType(!1);else if((b=a.getContentType())!==!1){const[C,...I]=b?b.split(";").map(U=>U.trim()).filter(Boolean):[];a.setContentType([C||"multipart/form-data",...I].join("; "))}}let l=new XMLHttpRequest;if(t.auth){const C=t.auth.username||"",I=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.set("Authorization","Basic "+btoa(C+":"+I))}const w=dc(t.baseURL,t.url);l.open(t.method.toUpperCase(),ac(w,t.params,t.paramsSerializer),!0),l.timeout=t.timeout;function k(){if(!l)return;const C=Vt.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),U={data:!o||o==="text"||o==="json"?l.responseText:l.response,status:l.status,statusText:l.statusText,headers:C,config:t,request:l};Th(function(D){r(D),h()},function(D){n(D),h()},U),l=null}if("onloadend"in l?l.onloadend=k:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(k)},l.onabort=function(){l&&(n(new X("Request aborted",X.ECONNABORTED,t,l)),l=null)},l.onerror=function(){n(new X("Network Error",X.ERR_NETWORK,t,l)),l=null},l.ontimeout=function(){let I=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const U=t.transitional||oc;t.timeoutErrorMessage&&(I=t.timeoutErrorMessage),n(new X(I,U.clarifyTimeoutError?X.ETIMEDOUT:X.ECONNABORTED,t,l)),l=null},Pt.hasStandardBrowserEnv){const C=zh(w)&&t.xsrfCookieName&&Oh.read(t.xsrfCookieName);C&&a.set(t.xsrfHeaderName,C)}i===void 0&&a.setContentType(null),"setRequestHeader"in l&&O.forEach(a.toJSON(),function(I,U){l.setRequestHeader(U,I)}),O.isUndefined(t.withCredentials)||(l.withCredentials=!!t.withCredentials),o&&o!=="json"&&(l.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&l.addEventListener("progress",Ro(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",Ro(t.onUploadProgress)),(t.cancelToken||t.signal)&&(s=C=>{l&&(n(!C||C.type?new on(null,t,l):C),l.abort(),l=null)},t.cancelToken&&t.cancelToken.subscribe(s),t.signal&&(t.signal.aborted?s():t.signal.addEventListener("abort",s)));const B=Uh(w);if(B&&Pt.protocols.indexOf(B)===-1){n(new X("Unsupported protocol "+B+":",X.ERR_BAD_REQUEST,t));return}l.send(i||null)})};const ra={http:uh,xhr:Lh};O.forEach(ra,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Bo=t=>`- ${t}`,qh=t=>O.isFunction(t)||t===null||t===!1;var uc={getAdapter:t=>{t=O.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let a=0;a<e;a++){r=t[a];let o;if(n=r,!qh(r)&&(n=ra[(o=String(r)).toLowerCase()],n===void 0))throw new X(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+a]=n}if(!n){const a=Object.entries(i).map(([s,h])=>`adapter ${s} `+(h===!1?"is not supported by the environment":"is not available in the build"));let o=e?a.length>1?`since :
`+a.map(Bo).join(`
`):" "+Bo(a[0]):"as no adapter specified";throw new X("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:ra};function Ui(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new on(null,t)}function Io(t){return Ui(t),t.headers=Vt.from(t.headers),t.data=zi.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),uc.getAdapter(t.adapter||Oa.adapter)(t).then(function(n){return Ui(t),n.data=zi.call(t,t.transformResponse,n),n.headers=Vt.from(n.headers),n},function(n){return fc(n)||(Ui(t),n&&n.response&&(n.response.data=zi.call(t,t.transformResponse,n.response),n.response.headers=Vt.from(n.response.headers))),Promise.reject(n)})}const Po=t=>t instanceof Vt?t.toJSON():t;function Or(t,e){e=e||{};const r={};function n(b,l,w){return O.isPlainObject(b)&&O.isPlainObject(l)?O.merge.call({caseless:w},b,l):O.isPlainObject(l)?O.merge({},l):O.isArray(l)?l.slice():l}function i(b,l,w){if(O.isUndefined(l)){if(!O.isUndefined(b))return n(void 0,b,w)}else return n(b,l,w)}function a(b,l){if(!O.isUndefined(l))return n(void 0,l)}function o(b,l){if(O.isUndefined(l)){if(!O.isUndefined(b))return n(void 0,b)}else return n(void 0,l)}function s(b,l,w){if(w in e)return n(b,l);if(w in t)return n(void 0,b)}const h={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(b,l)=>i(Po(b),Po(l),!0)};return O.forEach(Object.keys(Object.assign({},t,e)),function(l){const w=h[l]||i,k=w(t[l],e[l],l);O.isUndefined(k)&&w!==s||(r[l]=k)}),r}const lc="1.6.1",Da={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Da[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const To={};Da.transitional=function(e,r,n){function i(a,o){return"[Axios v"+lc+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,s)=>{if(e===!1)throw new X(i(o," has been removed"+(r?" in "+r:"")),X.ERR_DEPRECATED);return r&&!To[o]&&(To[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,s):!0}};function Fh(t,e,r){if(typeof t!="object")throw new X("options must be an object",X.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const a=n[i],o=e[a];if(o){const s=t[a],h=s===void 0||o(s,a,t);if(h!==!0)throw new X("option "+a+" must be "+h,X.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new X("Unknown option "+a,X.ERR_BAD_OPTION)}}var na={assertOptions:Fh,validators:Da};const er=na.validators;class xn{constructor(e){this.defaults=e,this.interceptors={request:new Co,response:new Co}}request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Or(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&na.assertOptions(n,{silentJSONParsing:er.transitional(er.boolean),forcedJSONParsing:er.transitional(er.boolean),clarifyTimeoutError:er.transitional(er.boolean)},!1),i!=null&&(O.isFunction(i)?r.paramsSerializer={serialize:i}:na.assertOptions(i,{encode:er.function,serialize:er.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&O.merge(a.common,a[r.method]);a&&O.forEach(["delete","get","head","post","put","patch","common"],C=>{delete a[C]}),r.headers=Vt.concat(o,a);const s=[];let h=!0;this.interceptors.request.forEach(function(I){typeof I.runWhen=="function"&&I.runWhen(r)===!1||(h=h&&I.synchronous,s.unshift(I.fulfilled,I.rejected))});const b=[];this.interceptors.response.forEach(function(I){b.push(I.fulfilled,I.rejected)});let l,w=0,k;if(!h){const C=[Io.bind(this),void 0];for(C.unshift.apply(C,s),C.push.apply(C,b),k=C.length,l=Promise.resolve(r);w<k;)l=l.then(C[w++],C[w++]);return l}k=s.length;let B=r;for(w=0;w<k;){const C=s[w++],I=s[w++];try{B=C(B)}catch(U){I.call(this,U);break}}try{l=Io.call(this,B)}catch(C){return Promise.reject(C)}for(w=0,k=b.length;w<k;)l=l.then(b[w++],b[w++]);return l}getUri(e){e=Or(this.defaults,e);const r=dc(e.baseURL,e.url);return ac(r,e.params,e.paramsSerializer)}}O.forEach(["delete","get","head","options"],function(e){xn.prototype[e]=function(r,n){return this.request(Or(n||{},{method:e,url:r,data:(n||{}).data}))}});O.forEach(["post","put","patch"],function(e){function r(n){return function(a,o,s){return this.request(Or(s||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}xn.prototype[e]=r(),xn.prototype[e+"Form"]=r(!0)});var mn=xn;class Ha{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(s=>{n.subscribe(s),a=s}).then(i);return o.cancel=function(){n.unsubscribe(a)},o},e(function(a,o,s){n.reason||(n.reason=new on(a,o,s),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new Ha(function(i){e=i}),cancel:e}}}var Wh=Ha;function $h(t){return function(r){return t.apply(null,r)}}function Jh(t){return O.isObject(t)&&t.isAxiosError===!0}const ia={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ia).forEach(([t,e])=>{ia[e]=t});var jh=ia;function hc(t){const e=new mn(t),r=js(mn.prototype.request,e);return O.extend(r,mn.prototype,e,{allOwnKeys:!0}),O.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return hc(Or(t,i))},r}const Ke=hc(Oa);Ke.Axios=mn;Ke.CanceledError=on;Ke.CancelToken=Wh;Ke.isCancel=fc;Ke.VERSION=lc;Ke.toFormData=Yn;Ke.AxiosError=X;Ke.Cancel=Ke.CanceledError;Ke.all=function(e){return Promise.all(e)};Ke.spread=$h;Ke.isAxiosError=Jh;Ke.mergeConfig=Or;Ke.AxiosHeaders=Vt;Ke.formToJSON=t=>cc(O.isHTMLForm(t)?new FormData(t):t);Ke.getAdapter=uc.getAdapter;Ke.HttpStatusCode=jh;Ke.default=Ke;var Gh=Ke;const j=crypto,ot=t=>t instanceof CryptoKey,pc=async(t,e)=>{const r=`SHA-${t.slice(-3)}`;return new Uint8Array(await j.subtle.digest(r,e))},xe=new TextEncoder,_t=new TextDecoder,An=2**32;function qt(...t){const e=t.reduce((i,{length:a})=>i+a,0),r=new Uint8Array(e);let n=0;return t.forEach(i=>{r.set(i,n),n+=i.length}),r}function Vh(t,e){return qt(xe.encode(t),new Uint8Array([0]),e)}function aa(t,e,r){if(e<0||e>=An)throw new RangeError(`value must be >= 0 and <= ${An-1}. Received ${e}`);t.set([e>>>24,e>>>16,e>>>8,e&255],r)}function bc(t){const e=Math.floor(t/An),r=t%An,n=new Uint8Array(8);return aa(n,e,0),aa(n,r,4),n}function za(t){const e=new Uint8Array(4);return aa(e,t),e}function Ni(t){return qt(za(t.length),t)}async function Yh(t,e,r){const n=Math.ceil((e>>3)/32),i=new Uint8Array(n*32);for(let a=0;a<n;a++){const o=new Uint8Array(4+t.length+r.length);o.set(za(a+1)),o.set(t,4),o.set(r,4+t.length),i.set(await pc("sha256",o),a*32)}return i.slice(0,e>>3)}const Ua=t=>{let e=t;typeof e=="string"&&(e=xe.encode(e));const r=32768,n=[];for(let i=0;i<e.length;i+=r)n.push(String.fromCharCode.apply(null,e.subarray(i,i+r)));return btoa(n.join(""))},Ne=t=>Ua(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),mc=t=>{const e=atob(t),r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r},Le=t=>{let e=t;e instanceof Uint8Array&&(e=_t.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return mc(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class Ve extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var r;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)===null||r===void 0||r.call(Error,this,this.constructor)}}class st extends Ve{static get code(){return"ERR_JWT_CLAIM_VALIDATION_FAILED"}constructor(e,r="unspecified",n="unspecified"){super(e),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=n}}class oa extends Ve{static get code(){return"ERR_JWT_EXPIRED"}constructor(e,r="unspecified",n="unspecified"){super(e),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=n}}class Sn extends Ve{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}}class V extends Ve{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}class Xr extends Ve{constructor(){super(...arguments),this.code="ERR_JWE_DECRYPTION_FAILED",this.message="decryption operation failed"}static get code(){return"ERR_JWE_DECRYPTION_FAILED"}}class q extends Ve{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}static get code(){return"ERR_JWE_INVALID"}}class de extends Ve{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}}class nt extends Ve{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}class gc extends Ve{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}static get code(){return"ERR_JWK_INVALID"}}class En extends Ve{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}static get code(){return"ERR_JWKS_INVALID"}}class Na extends Ve{constructor(){super(...arguments),this.code="ERR_JWKS_NO_MATCHING_KEY",this.message="no applicable key found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_NO_MATCHING_KEY"}}class vc extends Ve{constructor(){super(...arguments),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS",this.message="multiple matching keys found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}class yc extends Ve{constructor(){super(...arguments),this.code="ERR_JWKS_TIMEOUT",this.message="request timed out"}static get code(){return"ERR_JWKS_TIMEOUT"}}class Ka extends Ve{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}const Xh=Object.freeze(Object.defineProperty({__proto__:null,JOSEAlgNotAllowed:Sn,JOSEError:Ve,JOSENotSupported:V,JWEDecryptionFailed:Xr,JWEInvalid:q,JWKInvalid:gc,JWKSInvalid:En,JWKSMultipleMatchingKeys:vc,JWKSNoMatchingKey:Na,JWKSTimeout:yc,JWSInvalid:de,JWSSignatureVerificationFailed:Ka,JWTClaimValidationFailed:st,JWTExpired:oa,JWTInvalid:nt},Symbol.toStringTag,{value:"Module"})),Zn=j.getRandomValues.bind(j);function wc(t){switch(t){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new V(`Unsupported JWE Algorithm: ${t}`)}}const _c=t=>Zn(new Uint8Array(wc(t)>>3)),xc=(t,e)=>{if(e.length<<3!==wc(t))throw new q("Invalid Initialization Vector length")},Mn=(t,e)=>{const r=t.byteLength<<3;if(r!==e)throw new q(`Invalid Content Encryption Key length. Expected ${e} bits, got ${r} bits`)},Zh=(t,e)=>{if(!(t instanceof Uint8Array))throw new TypeError("First argument must be a buffer");if(!(e instanceof Uint8Array))throw new TypeError("Second argument must be a buffer");if(t.length!==e.length)throw new TypeError("Input buffers must have the same length");const r=t.length;let n=0,i=-1;for(;++i<r;)n|=t[i]^e[i];return n===0};function qr(){return typeof WebSocketPair<"u"||typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"||typeof EdgeRuntime<"u"&&EdgeRuntime==="vercel"}function qe(t,e="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${e} must be ${t}`)}function jt(t,e){return t.name===e}function gn(t){return parseInt(t.name.slice(4),10)}function Qh(t){switch(t){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function Ac(t,e){if(e.length&&!e.some(r=>t.usages.includes(r))){let r="CryptoKey does not support this operation, its usages must include ";if(e.length>2){const n=e.pop();r+=`one of ${e.join(", ")}, or ${n}.`}else e.length===2?r+=`one of ${e[0]} or ${e[1]}.`:r+=`${e[0]}.`;throw new TypeError(r)}}function e0(t,e,...r){switch(e){case"HS256":case"HS384":case"HS512":{if(!jt(t.algorithm,"HMAC"))throw qe("HMAC");const n=parseInt(e.slice(2),10);if(gn(t.algorithm.hash)!==n)throw qe(`SHA-${n}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!jt(t.algorithm,"RSASSA-PKCS1-v1_5"))throw qe("RSASSA-PKCS1-v1_5");const n=parseInt(e.slice(2),10);if(gn(t.algorithm.hash)!==n)throw qe(`SHA-${n}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!jt(t.algorithm,"RSA-PSS"))throw qe("RSA-PSS");const n=parseInt(e.slice(2),10);if(gn(t.algorithm.hash)!==n)throw qe(`SHA-${n}`,"algorithm.hash");break}case(qr()&&"EdDSA"):{if(!jt(t.algorithm,"NODE-ED25519"))throw qe("NODE-ED25519");break}case"EdDSA":{if(t.algorithm.name!=="Ed25519"&&t.algorithm.name!=="Ed448")throw qe("Ed25519 or Ed448");break}case"ES256":case"ES384":case"ES512":{if(!jt(t.algorithm,"ECDSA"))throw qe("ECDSA");const n=Qh(e);if(t.algorithm.namedCurve!==n)throw qe(n,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}Ac(t,r)}function or(t,e,...r){switch(e){case"A128GCM":case"A192GCM":case"A256GCM":{if(!jt(t.algorithm,"AES-GCM"))throw qe("AES-GCM");const n=parseInt(e.slice(1,4),10);if(t.algorithm.length!==n)throw qe(n,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!jt(t.algorithm,"AES-KW"))throw qe("AES-KW");const n=parseInt(e.slice(1,4),10);if(t.algorithm.length!==n)throw qe(n,"algorithm.length");break}case"ECDH":{switch(t.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw qe("ECDH, X25519, or X448")}break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!jt(t.algorithm,"PBKDF2"))throw qe("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!jt(t.algorithm,"RSA-OAEP"))throw qe("RSA-OAEP");const n=parseInt(e.slice(9),10)||1;if(gn(t.algorithm.hash)!==n)throw qe(`SHA-${n}`,"algorithm.hash");break}default:throw new TypeError("CryptoKey does not support this operation")}Ac(t,r)}function Sc(t,e,...r){if(r.length>2){const n=r.pop();t+=`one of type ${r.join(", ")}, or ${n}.`}else r.length===2?t+=`one of type ${r[0]} or ${r[1]}.`:t+=`of type ${r[0]}.`;return e==null?t+=` Received ${e}`:typeof e=="function"&&e.name?t+=` Received function ${e.name}`:typeof e=="object"&&e!=null&&e.constructor&&e.constructor.name&&(t+=` Received an instance of ${e.constructor.name}`),t}const Ze=(t,...e)=>Sc("Key must be ",t,...e);function Ec(t,e,...r){return Sc(`Key for the ${t} algorithm must be `,e,...r)}const Mc=t=>ot(t),we=["CryptoKey"];async function t0(t,e,r,n,i,a){if(!(e instanceof Uint8Array))throw new TypeError(Ze(e,"Uint8Array"));const o=parseInt(t.slice(1,4),10),s=await j.subtle.importKey("raw",e.subarray(o>>3),"AES-CBC",!1,["decrypt"]),h=await j.subtle.importKey("raw",e.subarray(0,o>>3),{hash:`SHA-${o<<1}`,name:"HMAC"},!1,["sign"]),b=qt(a,n,r,bc(a.length<<3)),l=new Uint8Array((await j.subtle.sign("HMAC",h,b)).slice(0,o>>3));let w;try{w=Zh(i,l)}catch{}if(!w)throw new Xr;let k;try{k=new Uint8Array(await j.subtle.decrypt({iv:n,name:"AES-CBC"},s,r))}catch{}if(!k)throw new Xr;return k}async function r0(t,e,r,n,i,a){let o;e instanceof Uint8Array?o=await j.subtle.importKey("raw",e,"AES-GCM",!1,["decrypt"]):(or(e,t,"decrypt"),o=e);try{return new Uint8Array(await j.subtle.decrypt({additionalData:a,iv:n,name:"AES-GCM",tagLength:128},o,qt(r,i)))}catch{throw new Xr}}const Cc=async(t,e,r,n,i,a)=>{if(!ot(e)&&!(e instanceof Uint8Array))throw new TypeError(Ze(e,...we,"Uint8Array"));switch(xc(t,n),t){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return e instanceof Uint8Array&&Mn(e,parseInt(t.slice(-3),10)),t0(t,e,r,n,i,a);case"A128GCM":case"A192GCM":case"A256GCM":return e instanceof Uint8Array&&Mn(e,parseInt(t.slice(1,4),10)),r0(t,e,r,n,i,a);default:throw new V("Unsupported JWE Content Encryption Algorithm")}},n0=async()=>{throw new V('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `inflateRaw` decrypt option to provide Inflate Raw implementation.')},i0=async()=>{throw new V('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `deflateRaw` encrypt option to provide Deflate Raw implementation.')},sn=(...t)=>{const e=t.filter(Boolean);if(e.length===0||e.length===1)return!0;let r;for(const n of e){const i=Object.keys(n);if(!r||r.size===0){r=new Set(i);continue}for(const a of i){if(r.has(a))return!1;r.add(a)}}return!0};function a0(t){return typeof t=="object"&&t!==null}function We(t){if(!a0(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const Qn=[{hash:"SHA-256",name:"HMAC"},!0,["sign"]];function kc(t,e){if(t.algorithm.length!==parseInt(e.slice(1,4),10))throw new TypeError(`Invalid key size for alg: ${e}`)}function Rc(t,e,r){if(ot(t))return or(t,e,r),t;if(t instanceof Uint8Array)return j.subtle.importKey("raw",t,"AES-KW",!0,[r]);throw new TypeError(Ze(t,...we,"Uint8Array"))}const sa=async(t,e,r)=>{const n=await Rc(e,t,"wrapKey");kc(n,t);const i=await j.subtle.importKey("raw",r,...Qn);return new Uint8Array(await j.subtle.wrapKey("raw",i,n,"AES-KW"))},ca=async(t,e,r)=>{const n=await Rc(e,t,"unwrapKey");kc(n,t);const i=await j.subtle.unwrapKey("raw",r,n,"AES-KW",...Qn);return new Uint8Array(await j.subtle.exportKey("raw",i))};async function Bc(t,e,r,n,i=new Uint8Array(0),a=new Uint8Array(0)){if(!ot(t))throw new TypeError(Ze(t,...we));if(or(t,"ECDH"),!ot(e))throw new TypeError(Ze(e,...we));or(e,"ECDH","deriveBits");const o=qt(Ni(xe.encode(r)),Ni(i),Ni(a),za(n));let s;t.algorithm.name==="X25519"?s=256:t.algorithm.name==="X448"?s=448:s=Math.ceil(parseInt(t.algorithm.namedCurve.substr(-3),10)/8)<<3;const h=new Uint8Array(await j.subtle.deriveBits({name:t.algorithm.name,public:t},e,s));return Yh(h,n,o)}async function o0(t){if(!ot(t))throw new TypeError(Ze(t,...we));return j.subtle.generateKey(t.algorithm,!0,["deriveBits"])}function Ic(t){if(!ot(t))throw new TypeError(Ze(t,...we));return["P-256","P-384","P-521"].includes(t.algorithm.namedCurve)||t.algorithm.name==="X25519"||t.algorithm.name==="X448"}function s0(t){if(!(t instanceof Uint8Array)||t.length<8)throw new q("PBES2 Salt Input must be 8 or more octets")}function c0(t,e){if(t instanceof Uint8Array)return j.subtle.importKey("raw",t,"PBKDF2",!1,["deriveBits"]);if(ot(t))return or(t,e,"deriveBits","deriveKey"),t;throw new TypeError(Ze(t,...we,"Uint8Array"))}async function Pc(t,e,r,n){s0(t);const i=Vh(e,t),a=parseInt(e.slice(13,16),10),o={hash:`SHA-${e.slice(8,11)}`,iterations:r,name:"PBKDF2",salt:i},s={length:a,name:"AES-KW"},h=await c0(n,e);if(h.usages.includes("deriveBits"))return new Uint8Array(await j.subtle.deriveBits(o,h,a));if(h.usages.includes("deriveKey"))return j.subtle.deriveKey(o,h,s,!1,["wrapKey","unwrapKey"]);throw new TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"')}const f0=async(t,e,r,n=2048,i=Zn(new Uint8Array(16)))=>{const a=await Pc(i,t,n,e);return{encryptedKey:await sa(t.slice(-6),a,r),p2c:n,p2s:Ne(i)}},d0=async(t,e,r,n,i)=>{const a=await Pc(i,t,n,e);return ca(t.slice(-6),a,r)};function Cn(t){switch(t){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new V(`alg ${t} is not supported either by JOSE or your javascript runtime`)}}const ei=(t,e)=>{if(t.startsWith("RS")||t.startsWith("PS")){const{modulusLength:r}=e.algorithm;if(typeof r!="number"||r<2048)throw new TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)}},u0=async(t,e,r)=>{if(!ot(e))throw new TypeError(Ze(e,...we));if(or(e,t,"encrypt","wrapKey"),ei(t,e),e.usages.includes("encrypt"))return new Uint8Array(await j.subtle.encrypt(Cn(t),e,r));if(e.usages.includes("wrapKey")){const n=await j.subtle.importKey("raw",r,...Qn);return new Uint8Array(await j.subtle.wrapKey("raw",n,e,Cn(t)))}throw new TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation')},l0=async(t,e,r)=>{if(!ot(e))throw new TypeError(Ze(e,...we));if(or(e,t,"decrypt","unwrapKey"),ei(t,e),e.usages.includes("decrypt"))return new Uint8Array(await j.subtle.decrypt(Cn(t),e,r));if(e.usages.includes("unwrapKey")){const n=await j.subtle.unwrapKey("raw",r,e,Cn(t),...Qn);return new Uint8Array(await j.subtle.exportKey("raw",n))}throw new TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation')};function La(t){switch(t){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new V(`Unsupported JWE Algorithm: ${t}`)}}const lr=t=>Zn(new Uint8Array(La(t)>>3)),Tc=(t,e)=>{const r=(t.match(/.{1,64}/g)||[]).join(`
`);return`-----BEGIN ${e}-----
${r}
-----END ${e}-----`},Oc=async(t,e,r)=>{if(!ot(r))throw new TypeError(Ze(r,...we));if(!r.extractable)throw new TypeError("CryptoKey is not extractable");if(r.type!==t)throw new TypeError(`key is not a ${t} key`);return Tc(Ua(new Uint8Array(await j.subtle.exportKey(e,r))),`${t.toUpperCase()} KEY`)},h0=t=>Oc("public","spki",t),p0=t=>Oc("private","pkcs8",t),rr=(t,e,r=0)=>{r===0&&(e.unshift(e.length),e.unshift(6));let n=t.indexOf(e[0],r);if(n===-1)return!1;const i=t.subarray(n,n+e.length);return i.length!==e.length?!1:i.every((a,o)=>a===e[o])||rr(t,e,n+1)},Ki=t=>{switch(!0){case rr(t,[42,134,72,206,61,3,1,7]):return"P-256";case rr(t,[43,129,4,0,34]):return"P-384";case rr(t,[43,129,4,0,35]):return"P-521";case rr(t,[43,101,110]):return"X25519";case rr(t,[43,101,111]):return"X448";case rr(t,[43,101,112]):return"Ed25519";case rr(t,[43,101,113]):return"Ed448";default:throw new V("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},Dc=async(t,e,r,n,i)=>{var a;let o,s;const h=new Uint8Array(atob(r.replace(t,"")).split("").map(l=>l.charCodeAt(0))),b=e==="spki";switch(n){case"PS256":case"PS384":case"PS512":o={name:"RSA-PSS",hash:`SHA-${n.slice(-3)}`},s=b?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":o={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${n.slice(-3)}`},s=b?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":o={name:"RSA-OAEP",hash:`SHA-${parseInt(n.slice(-3),10)||1}`},s=b?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":o={name:"ECDSA",namedCurve:"P-256"},s=b?["verify"]:["sign"];break;case"ES384":o={name:"ECDSA",namedCurve:"P-384"},s=b?["verify"]:["sign"];break;case"ES512":o={name:"ECDSA",namedCurve:"P-521"},s=b?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{const l=Ki(h);o=l.startsWith("P-")?{name:"ECDH",namedCurve:l}:{name:l},s=b?[]:["deriveBits"];break}case(qr()&&"EdDSA"):{const l=Ki(h).toUpperCase();o={name:`NODE-${l}`,namedCurve:`NODE-${l}`},s=b?["verify"]:["sign"];break}case"EdDSA":o={name:Ki(h)},s=b?["verify"]:["sign"];break;default:throw new V('Invalid or unsupported "alg" (Algorithm) value')}return j.subtle.importKey(e,h,o,(a=i==null?void 0:i.extractable)!==null&&a!==void 0?a:!1,s)},b0=(t,e,r)=>Dc(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,"pkcs8",t,e,r),Hc=(t,e,r)=>Dc(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,"spki",t,e,r);function m0(t){let e,r;switch(t.kty){case"oct":{switch(t.alg){case"HS256":case"HS384":case"HS512":e={name:"HMAC",hash:`SHA-${t.alg.slice(-3)}`},r=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":throw new V(`${t.alg} keys cannot be imported as CryptoKey instances`);case"A128GCM":case"A192GCM":case"A256GCM":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":e={name:"AES-GCM"},r=["encrypt","decrypt"];break;case"A128KW":case"A192KW":case"A256KW":e={name:"AES-KW"},r=["wrapKey","unwrapKey"];break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":e={name:"PBKDF2"},r=["deriveBits"];break;default:throw new V('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"RSA":{switch(t.alg){case"PS256":case"PS384":case"PS512":e={name:"RSA-PSS",hash:`SHA-${t.alg.slice(-3)}`},r=t.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":e={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${t.alg.slice(-3)}`},r=t.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":e={name:"RSA-OAEP",hash:`SHA-${parseInt(t.alg.slice(-3),10)||1}`},r=t.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new V('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(t.alg){case"ES256":e={name:"ECDSA",namedCurve:"P-256"},r=t.d?["sign"]:["verify"];break;case"ES384":e={name:"ECDSA",namedCurve:"P-384"},r=t.d?["sign"]:["verify"];break;case"ES512":e={name:"ECDSA",namedCurve:"P-521"},r=t.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:"ECDH",namedCurve:t.crv},r=t.d?["deriveBits"]:[];break;default:throw new V('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case(qr()&&"OKP"):if(t.alg!=="EdDSA")throw new V('Invalid or unsupported JWK "alg" (Algorithm) Parameter value');switch(t.crv){case"Ed25519":e={name:"NODE-ED25519",namedCurve:"NODE-ED25519"},r=t.d?["sign"]:["verify"];break;default:throw new V('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":{switch(t.alg){case"EdDSA":e={name:t.crv},r=t.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:t.crv},r=t.d?["deriveBits"]:[];break;default:throw new V('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new V('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:e,keyUsages:r}}const g0=async t=>{var e,r;const{algorithm:n,keyUsages:i}=m0(t),a=[n,(e=t.ext)!==null&&e!==void 0?e:!1,(r=t.key_ops)!==null&&r!==void 0?r:i];if(n.name==="PBKDF2")return j.subtle.importKey("raw",Le(t.k),...a);const o={...t};return delete o.alg,delete o.use,j.subtle.importKey("jwk",o,...a)},Oo=g0;function Do(t){let e=[],r=0;for(;r<t.length;){let n=zc(t.subarray(r));e.push(n),r+=n.byteLength}return e}function zc(t){let e=0,r=t[0]&31;if(e++,r===31){for(r=0;t[e]>=128;)r=r*128+t[e]-128,e++;r=r*128+t[e]-128,e++}let n=0;if(t[e]<128)n=t[e],e++;else if(n===128){for(n=0;t[e+n]!==0||t[e+n+1]!==0;){if(n>t.byteLength)throw new TypeError("invalid indefinite form length");n++}const a=e+n+2;return{byteLength:a,contents:t.subarray(e,e+n),raw:t.subarray(0,a)}}else{let a=t[e]&127;e++,n=0;for(let o=0;o<a;o++)n=n*256+t[e],e++}const i=e+n;return{byteLength:i,contents:t.subarray(e,i),raw:t.subarray(0,i)}}function v0(t){const e=Do(Do(zc(t).contents)[0].contents);return Ua(e[e[0].raw[0]===160?6:5].raw)}function y0(t){const e=t.replace(/(?:-----(?:BEGIN|END) CERTIFICATE-----|\s)/g,""),r=mc(e);return Tc(v0(r),"PUBLIC KEY")}async function w0(t,e,r){if(typeof t!="string"||t.indexOf("-----BEGIN PUBLIC KEY-----")!==0)throw new TypeError('"spki" must be SPKI formatted string');return Hc(t,e,r)}async function _0(t,e,r){if(typeof t!="string"||t.indexOf("-----BEGIN CERTIFICATE-----")!==0)throw new TypeError('"x509" must be X.509 formatted string');let n;try{n=y0(t)}catch(i){throw new TypeError("failed to parse the X.509 certificate",{cause:i})}return Hc(n,e,r)}async function x0(t,e,r){if(typeof t!="string"||t.indexOf("-----BEGIN PRIVATE KEY-----")!==0)throw new TypeError('"pkcs8" must be PKCS#8 formatted string');return b0(t,e,r)}async function ti(t,e,r){var n;if(!We(t))throw new TypeError("JWK must be an object");if(e||(e=t.alg),typeof e!="string"||!e)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');switch(t.kty){case"oct":if(typeof t.k!="string"||!t.k)throw new TypeError('missing "k" (Key Value) Parameter value');return r??(r=t.ext!==!0),r?Oo({...t,alg:e,ext:(n=t.ext)!==null&&n!==void 0?n:!1}):Le(t.k);case"RSA":if(t.oth!==void 0)throw new V('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return Oo({...t,alg:e});default:throw new V('Unsupported "kty" (Key Type) Parameter value')}}const A0=(t,e)=>{if(!(e instanceof Uint8Array)){if(!Mc(e))throw new TypeError(Ec(t,e,...we,"Uint8Array"));if(e.type!=="secret")throw new TypeError(`${we.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}},S0=(t,e,r)=>{if(!Mc(e))throw new TypeError(Ec(t,e,...we));if(e.type==="secret")throw new TypeError(`${we.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if(r==="sign"&&e.type==="public")throw new TypeError(`${we.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if(r==="decrypt"&&e.type==="public")throw new TypeError(`${we.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(e.algorithm&&r==="verify"&&e.type==="private")throw new TypeError(`${we.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(e.algorithm&&r==="encrypt"&&e.type==="private")throw new TypeError(`${we.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)},ri=(t,e,r)=>{t.startsWith("HS")||t==="dir"||t.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(t)?A0(t,e):S0(t,e,r)};async function E0(t,e,r,n,i){if(!(r instanceof Uint8Array))throw new TypeError(Ze(r,"Uint8Array"));const a=parseInt(t.slice(1,4),10),o=await j.subtle.importKey("raw",r.subarray(a>>3),"AES-CBC",!1,["encrypt"]),s=await j.subtle.importKey("raw",r.subarray(0,a>>3),{hash:`SHA-${a<<1}`,name:"HMAC"},!1,["sign"]),h=new Uint8Array(await j.subtle.encrypt({iv:n,name:"AES-CBC"},o,e)),b=qt(i,n,h,bc(i.length<<3)),l=new Uint8Array((await j.subtle.sign("HMAC",s,b)).slice(0,a>>3));return{ciphertext:h,tag:l}}async function M0(t,e,r,n,i){let a;r instanceof Uint8Array?a=await j.subtle.importKey("raw",r,"AES-GCM",!1,["encrypt"]):(or(r,t,"encrypt"),a=r);const o=new Uint8Array(await j.subtle.encrypt({additionalData:i,iv:n,name:"AES-GCM",tagLength:128},a,e)),s=o.slice(-16);return{ciphertext:o.slice(0,-16),tag:s}}const fa=async(t,e,r,n,i)=>{if(!ot(r)&&!(r instanceof Uint8Array))throw new TypeError(Ze(r,...we,"Uint8Array"));switch(xc(t,n),t){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return r instanceof Uint8Array&&Mn(r,parseInt(t.slice(-3),10)),E0(t,e,r,n,i);case"A128GCM":case"A192GCM":case"A256GCM":return r instanceof Uint8Array&&Mn(r,parseInt(t.slice(1,4),10)),M0(t,e,r,n,i);default:throw new V("Unsupported JWE Content Encryption Algorithm")}};async function C0(t,e,r,n){const i=t.slice(0,7);n||(n=_c(i));const{ciphertext:a,tag:o}=await fa(i,r,e,n,new Uint8Array(0));return{encryptedKey:a,iv:Ne(n),tag:Ne(o)}}async function k0(t,e,r,n,i){const a=t.slice(0,7);return Cc(a,e,r,n,i,new Uint8Array(0))}async function R0(t,e,r,n,i){switch(ri(t,e,"decrypt"),t){case"dir":{if(r!==void 0)throw new q("Encountered unexpected JWE Encrypted Key");return e}case"ECDH-ES":if(r!==void 0)throw new q("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!We(n.epk))throw new q('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!Ic(e))throw new V("ECDH with the provided key is not allowed or not supported by your javascript runtime");const a=await ti(n.epk,t);let o,s;if(n.apu!==void 0){if(typeof n.apu!="string")throw new q('JOSE Header "apu" (Agreement PartyUInfo) invalid');o=Le(n.apu)}if(n.apv!==void 0){if(typeof n.apv!="string")throw new q('JOSE Header "apv" (Agreement PartyVInfo) invalid');s=Le(n.apv)}const h=await Bc(a,e,t==="ECDH-ES"?n.enc:t,t==="ECDH-ES"?La(n.enc):parseInt(t.slice(-5,-2),10),o,s);if(t==="ECDH-ES")return h;if(r===void 0)throw new q("JWE Encrypted Key missing");return ca(t.slice(-6),h,r)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(r===void 0)throw new q("JWE Encrypted Key missing");return l0(t,e,r)}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if(r===void 0)throw new q("JWE Encrypted Key missing");if(typeof n.p2c!="number")throw new q('JOSE Header "p2c" (PBES2 Count) missing or invalid');const a=(i==null?void 0:i.maxPBES2Count)||1e4;if(n.p2c>a)throw new q('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if(typeof n.p2s!="string")throw new q('JOSE Header "p2s" (PBES2 Salt) missing or invalid');return d0(t,e,r,n.p2c,Le(n.p2s))}case"A128KW":case"A192KW":case"A256KW":{if(r===void 0)throw new q("JWE Encrypted Key missing");return ca(t,e,r)}case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{if(r===void 0)throw new q("JWE Encrypted Key missing");if(typeof n.iv!="string")throw new q('JOSE Header "iv" (Initialization Vector) missing or invalid');if(typeof n.tag!="string")throw new q('JOSE Header "tag" (Authentication Tag) missing or invalid');const a=Le(n.iv),o=Le(n.tag);return k0(t,e,r,a,o)}default:throw new V('Invalid or unsupported "alg" (JWE Algorithm) header value')}}function cn(t,e,r,n,i){if(i.crit!==void 0&&n.crit===void 0)throw new t('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||n.crit===void 0)return new Set;if(!Array.isArray(n.crit)||n.crit.length===0||n.crit.some(o=>typeof o!="string"||o.length===0))throw new t('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let a;r!==void 0?a=new Map([...Object.entries(r),...e.entries()]):a=e;for(const o of n.crit){if(!a.has(o))throw new V(`Extension Header Parameter "${o}" is not recognized`);if(i[o]===void 0)throw new t(`Extension Header Parameter "${o}" is missing`);if(a.get(o)&&n[o]===void 0)throw new t(`Extension Header Parameter "${o}" MUST be integrity protected`)}return new Set(n.crit)}const da=(t,e)=>{if(e!==void 0&&(!Array.isArray(e)||e.some(r=>typeof r!="string")))throw new TypeError(`"${t}" option must be an array of strings`);if(e)return new Set(e)};async function qa(t,e,r){var n;if(!We(t))throw new q("Flattened JWE must be an object");if(t.protected===void 0&&t.header===void 0&&t.unprotected===void 0)throw new q("JOSE Header missing");if(typeof t.iv!="string")throw new q("JWE Initialization Vector missing or incorrect type");if(typeof t.ciphertext!="string")throw new q("JWE Ciphertext missing or incorrect type");if(typeof t.tag!="string")throw new q("JWE Authentication Tag missing or incorrect type");if(t.protected!==void 0&&typeof t.protected!="string")throw new q("JWE Protected Header incorrect type");if(t.encrypted_key!==void 0&&typeof t.encrypted_key!="string")throw new q("JWE Encrypted Key incorrect type");if(t.aad!==void 0&&typeof t.aad!="string")throw new q("JWE AAD incorrect type");if(t.header!==void 0&&!We(t.header))throw new q("JWE Shared Unprotected Header incorrect type");if(t.unprotected!==void 0&&!We(t.unprotected))throw new q("JWE Per-Recipient Unprotected Header incorrect type");let i;if(t.protected)try{const F=Le(t.protected);i=JSON.parse(_t.decode(F))}catch{throw new q("JWE Protected Header is invalid")}if(!sn(i,t.header,t.unprotected))throw new q("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");const a={...i,...t.header,...t.unprotected};if(cn(q,new Map,r==null?void 0:r.crit,i,a),a.zip!==void 0){if(!i||!i.zip)throw new q('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if(a.zip!=="DEF")throw new V('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}const{alg:o,enc:s}=a;if(typeof o!="string"||!o)throw new q("missing JWE Algorithm (alg) in JWE Header");if(typeof s!="string"||!s)throw new q("missing JWE Encryption Algorithm (enc) in JWE Header");const h=r&&da("keyManagementAlgorithms",r.keyManagementAlgorithms),b=r&&da("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(h&&!h.has(o))throw new Sn('"alg" (Algorithm) Header Parameter not allowed');if(b&&!b.has(s))throw new Sn('"enc" (Encryption Algorithm) Header Parameter not allowed');let l;t.encrypted_key!==void 0&&(l=Le(t.encrypted_key));let w=!1;typeof e=="function"&&(e=await e(i,t),w=!0);let k;try{k=await R0(o,e,l,a,r)}catch(F){if(F instanceof TypeError||F instanceof q||F instanceof V)throw F;k=lr(s)}const B=Le(t.iv),C=Le(t.tag),I=xe.encode((n=t.protected)!==null&&n!==void 0?n:"");let U;t.aad!==void 0?U=qt(I,xe.encode("."),xe.encode(t.aad)):U=I;let z=await Cc(s,k,Le(t.ciphertext),B,C,U);a.zip==="DEF"&&(z=await((r==null?void 0:r.inflateRaw)||n0)(z));const D={plaintext:z};return t.protected!==void 0&&(D.protectedHeader=i),t.aad!==void 0&&(D.additionalAuthenticatedData=Le(t.aad)),t.unprotected!==void 0&&(D.sharedUnprotectedHeader=t.unprotected),t.header!==void 0&&(D.unprotectedHeader=t.header),w?{...D,key:e}:D}async function Uc(t,e,r){if(t instanceof Uint8Array&&(t=_t.decode(t)),typeof t!="string")throw new q("Compact JWE must be a string or Uint8Array");const{0:n,1:i,2:a,3:o,4:s,length:h}=t.split(".");if(h!==5)throw new q("Invalid Compact JWE");const b=await qa({ciphertext:o,iv:a||void 0,protected:n||void 0,tag:s||void 0,encrypted_key:i||void 0},e,r),l={plaintext:b.plaintext,protectedHeader:b.protectedHeader};return typeof e=="function"?{...l,key:b.key}:l}async function B0(t,e,r){if(!We(t))throw new q("General JWE must be an object");if(!Array.isArray(t.recipients)||!t.recipients.every(We))throw new q("JWE Recipients missing or incorrect type");if(!t.recipients.length)throw new q("JWE Recipients has no members");for(const n of t.recipients)try{return await qa({aad:t.aad,ciphertext:t.ciphertext,encrypted_key:n.encrypted_key,header:n.header,iv:t.iv,protected:t.protected,tag:t.tag,unprotected:t.unprotected},e,r)}catch{}throw new Xr}const I0=async t=>{if(t instanceof Uint8Array)return{kty:"oct",k:Ne(t)};if(!ot(t))throw new TypeError(Ze(t,...we,"Uint8Array"));if(!t.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:e,key_ops:r,alg:n,use:i,...a}=await j.subtle.exportKey("jwk",t);return a},P0=I0;async function T0(t){return h0(t)}async function O0(t){return p0(t)}async function Nc(t){return P0(t)}async function Kc(t,e,r,n,i={}){let a,o,s;switch(ri(t,r,"encrypt"),t){case"dir":{s=r;break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!Ic(r))throw new V("ECDH with the provided key is not allowed or not supported by your javascript runtime");const{apu:h,apv:b}=i;let{epk:l}=i;l||(l=(await o0(r)).privateKey);const{x:w,y:k,crv:B,kty:C}=await Nc(l),I=await Bc(r,l,t==="ECDH-ES"?e:t,t==="ECDH-ES"?La(e):parseInt(t.slice(-5,-2),10),h,b);if(o={epk:{x:w,crv:B,kty:C}},C==="EC"&&(o.epk.y=k),h&&(o.apu=Ne(h)),b&&(o.apv=Ne(b)),t==="ECDH-ES"){s=I;break}s=n||lr(e);const U=t.slice(-6);a=await sa(U,I,s);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{s=n||lr(e),a=await u0(t,r,s);break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{s=n||lr(e);const{p2c:h,p2s:b}=i;({encryptedKey:a,...o}=await f0(t,r,s,h,b));break}case"A128KW":case"A192KW":case"A256KW":{s=n||lr(e),a=await sa(t,r,s);break}case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{s=n||lr(e);const{iv:h}=i;({encryptedKey:a,...o}=await C0(t,r,s,h));break}default:throw new V('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:s,encryptedKey:a,parameters:o}}const Lc=Symbol();class kn{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("plaintext must be an instance of Uint8Array");this._plaintext=e}setKeyManagementParameters(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}setContentEncryptionKey(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}async encrypt(e,r){if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new q("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!sn(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new q("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const n={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(cn(q,new Map,r==null?void 0:r.crit,this._protectedHeader,n),n.zip!==void 0){if(!this._protectedHeader||!this._protectedHeader.zip)throw new q('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if(n.zip!=="DEF")throw new V('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}const{alg:i,enc:a}=n;if(typeof i!="string"||!i)throw new q('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(typeof a!="string"||!a)throw new q('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');let o;if(i==="dir"){if(this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Encryption")}else if(i==="ECDH-ES"&&this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");let s;{let C;({cek:s,encryptedKey:o,parameters:C}=await Kc(i,a,e,this._cek,this._keyManagementParameters)),C&&(r&&Lc in r?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...C}:this.setUnprotectedHeader(C):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...C}:this.setProtectedHeader(C))}this._iv||(this._iv=_c(a));let h,b,l;this._protectedHeader?b=xe.encode(Ne(JSON.stringify(this._protectedHeader))):b=xe.encode(""),this._aad?(l=Ne(this._aad),h=qt(b,xe.encode("."),xe.encode(l))):h=b;let w,k;if(n.zip==="DEF"){const C=await((r==null?void 0:r.deflateRaw)||i0)(this._plaintext);({ciphertext:w,tag:k}=await fa(a,C,s,this._iv,h))}else({ciphertext:w,tag:k}=await fa(a,this._plaintext,s,this._iv,h));const B={ciphertext:Ne(w),iv:Ne(this._iv),tag:Ne(k)};return o&&(B.encrypted_key=Ne(o)),l&&(B.aad=l),this._protectedHeader&&(B.protected=_t.decode(b)),this._sharedUnprotectedHeader&&(B.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(B.header=this._unprotectedHeader),B}}class D0{constructor(e,r,n){this.parent=e,this.key=r,this.options=n}setUnprotectedHeader(e){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addRecipient(...e){return this.parent.addRecipient(...e)}encrypt(...e){return this.parent.encrypt(...e)}done(){return this.parent}}class H0{constructor(e){this._recipients=[],this._plaintext=e}addRecipient(e,r){const n=new D0(this,e,{crit:r==null?void 0:r.crit});return this._recipients.push(n),n}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}async encrypt(e){var r,n,i;if(!this._recipients.length)throw new q("at least one recipient must be added");if(e={deflateRaw:e==null?void 0:e.deflateRaw},this._recipients.length===1){const[h]=this._recipients,b=await new kn(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(h.unprotectedHeader).encrypt(h.key,{...h.options,...e});let l={ciphertext:b.ciphertext,iv:b.iv,recipients:[{}],tag:b.tag};return b.aad&&(l.aad=b.aad),b.protected&&(l.protected=b.protected),b.unprotected&&(l.unprotected=b.unprotected),b.encrypted_key&&(l.recipients[0].encrypted_key=b.encrypted_key),b.header&&(l.recipients[0].header=b.header),l}let a;for(let h=0;h<this._recipients.length;h++){const b=this._recipients[h];if(!sn(this._protectedHeader,this._unprotectedHeader,b.unprotectedHeader))throw new q("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const l={...this._protectedHeader,...this._unprotectedHeader,...b.unprotectedHeader},{alg:w}=l;if(typeof w!="string"||!w)throw new q('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(w==="dir"||w==="ECDH-ES")throw new q('"dir" and "ECDH-ES" alg may only be used with a single recipient');if(typeof l.enc!="string"||!l.enc)throw new q('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(!a)a=l.enc;else if(a!==l.enc)throw new q('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients');if(cn(q,new Map,b.options.crit,this._protectedHeader,l),l.zip!==void 0&&(!this._protectedHeader||!this._protectedHeader.zip))throw new q('JWE "zip" (Compression Algorithm) Header MUST be integrity protected')}const o=lr(a);let s={ciphertext:"",iv:"",recipients:[],tag:""};for(let h=0;h<this._recipients.length;h++){const b=this._recipients[h],l={};s.recipients.push(l);const k={...this._protectedHeader,...this._unprotectedHeader,...b.unprotectedHeader}.alg.startsWith("PBES2")?2048+h:void 0;if(h===0){const I=await new kn(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(o).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(b.unprotectedHeader).setKeyManagementParameters({p2c:k}).encrypt(b.key,{...b.options,...e,[Lc]:!0});s.ciphertext=I.ciphertext,s.iv=I.iv,s.tag=I.tag,I.aad&&(s.aad=I.aad),I.protected&&(s.protected=I.protected),I.unprotected&&(s.unprotected=I.unprotected),l.encrypted_key=I.encrypted_key,I.header&&(l.header=I.header);continue}const{encryptedKey:B,parameters:C}=await Kc(((r=b.unprotectedHeader)===null||r===void 0?void 0:r.alg)||((n=this._protectedHeader)===null||n===void 0?void 0:n.alg)||((i=this._unprotectedHeader)===null||i===void 0?void 0:i.alg),a,b.key,o,{p2c:k});l.encrypted_key=Ne(B),(b.unprotectedHeader||C)&&(l.header={...b.unprotectedHeader,...C})}return s}}function qc(t,e){const r=`SHA-${t.slice(-3)}`;switch(t){case"HS256":case"HS384":case"HS512":return{hash:r,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:r,name:"RSA-PSS",saltLength:t.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:r,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:r,name:"ECDSA",namedCurve:e.namedCurve};case(qr()&&"EdDSA"):const{namedCurve:n}=e;return{name:n,namedCurve:n};case"EdDSA":return{name:e.name};default:throw new V(`alg ${t} is not supported either by JOSE or your javascript runtime`)}}function Fc(t,e,r){if(ot(e))return e0(e,t,r),e;if(e instanceof Uint8Array){if(!t.startsWith("HS"))throw new TypeError(Ze(e,...we));return j.subtle.importKey("raw",e,{hash:`SHA-${t.slice(-3)}`,name:"HMAC"},!1,[r])}throw new TypeError(Ze(e,...we,"Uint8Array"))}const z0=async(t,e,r,n)=>{const i=await Fc(t,e,"verify");ei(t,i);const a=qc(t,i.algorithm);try{return await j.subtle.verify(a,i,r,n)}catch{return!1}};async function Fa(t,e,r){var n;if(!We(t))throw new de("Flattened JWS must be an object");if(t.protected===void 0&&t.header===void 0)throw new de('Flattened JWS must have either of the "protected" or "header" members');if(t.protected!==void 0&&typeof t.protected!="string")throw new de("JWS Protected Header incorrect type");if(t.payload===void 0)throw new de("JWS Payload missing");if(typeof t.signature!="string")throw new de("JWS Signature missing or incorrect type");if(t.header!==void 0&&!We(t.header))throw new de("JWS Unprotected Header incorrect type");let i={};if(t.protected)try{const U=Le(t.protected);i=JSON.parse(_t.decode(U))}catch{throw new de("JWS Protected Header is invalid")}if(!sn(i,t.header))throw new de("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const a={...i,...t.header},o=cn(de,new Map([["b64",!0]]),r==null?void 0:r.crit,i,a);let s=!0;if(o.has("b64")&&(s=i.b64,typeof s!="boolean"))throw new de('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:h}=a;if(typeof h!="string"||!h)throw new de('JWS "alg" (Algorithm) Header Parameter missing or invalid');const b=r&&da("algorithms",r.algorithms);if(b&&!b.has(h))throw new Sn('"alg" (Algorithm) Header Parameter not allowed');if(s){if(typeof t.payload!="string")throw new de("JWS Payload must be a string")}else if(typeof t.payload!="string"&&!(t.payload instanceof Uint8Array))throw new de("JWS Payload must be a string or an Uint8Array instance");let l=!1;typeof e=="function"&&(e=await e(i,t),l=!0),ri(h,e,"verify");const w=qt(xe.encode((n=t.protected)!==null&&n!==void 0?n:""),xe.encode("."),typeof t.payload=="string"?xe.encode(t.payload):t.payload),k=Le(t.signature);if(!await z0(h,e,k,w))throw new Ka;let C;s?C=Le(t.payload):typeof t.payload=="string"?C=xe.encode(t.payload):C=t.payload;const I={payload:C};return t.protected!==void 0&&(I.protectedHeader=i),t.header!==void 0&&(I.unprotectedHeader=t.header),l?{...I,key:e}:I}async function Wc(t,e,r){if(t instanceof Uint8Array&&(t=_t.decode(t)),typeof t!="string")throw new de("Compact JWS must be a string or Uint8Array");const{0:n,1:i,2:a,length:o}=t.split(".");if(o!==3)throw new de("Invalid Compact JWS");const s=await Fa({payload:i,protected:n,signature:a},e,r),h={payload:s.payload,protectedHeader:s.protectedHeader};return typeof e=="function"?{...h,key:s.key}:h}async function U0(t,e,r){if(!We(t))throw new de("General JWS must be an object");if(!Array.isArray(t.signatures)||!t.signatures.every(We))throw new de("JWS Signatures missing or incorrect type");for(const n of t.signatures)try{return await Fa({header:n.header,payload:t.payload,protected:n.protected,signature:n.signature},e,r)}catch{}throw new Ka}const vn=t=>Math.floor(t.getTime()/1e3),$c=60,Jc=$c*60,Wa=Jc*24,N0=Wa*7,K0=Wa*365.25,L0=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i,Rn=t=>{const e=L0.exec(t);if(!e)throw new TypeError("Invalid time period format");const r=parseFloat(e[1]);switch(e[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(r);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(r*$c);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(r*Jc);case"day":case"days":case"d":return Math.round(r*Wa);case"week":case"weeks":case"w":return Math.round(r*N0);default:return Math.round(r*K0)}},Ho=t=>t.toLowerCase().replace(/^application\//,""),q0=(t,e)=>typeof t=="string"?e.includes(t):Array.isArray(t)?e.some(Set.prototype.has.bind(new Set(t))):!1,$a=(t,e,r={})=>{const{typ:n}=r;if(n&&(typeof t.typ!="string"||Ho(t.typ)!==Ho(n)))throw new st('unexpected "typ" JWT header value',"typ","check_failed");let i;try{i=JSON.parse(_t.decode(e))}catch{}if(!We(i))throw new nt("JWT Claims Set must be a top-level JSON object");const{issuer:a}=r;if(a&&!(Array.isArray(a)?a:[a]).includes(i.iss))throw new st('unexpected "iss" claim value',"iss","check_failed");const{subject:o}=r;if(o&&i.sub!==o)throw new st('unexpected "sub" claim value',"sub","check_failed");const{audience:s}=r;if(s&&!q0(i.aud,typeof s=="string"?[s]:s))throw new st('unexpected "aud" claim value',"aud","check_failed");let h;switch(typeof r.clockTolerance){case"string":h=Rn(r.clockTolerance);break;case"number":h=r.clockTolerance;break;case"undefined":h=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:b}=r,l=vn(b||new Date);if((i.iat!==void 0||r.maxTokenAge)&&typeof i.iat!="number")throw new st('"iat" claim must be a number',"iat","invalid");if(i.nbf!==void 0){if(typeof i.nbf!="number")throw new st('"nbf" claim must be a number',"nbf","invalid");if(i.nbf>l+h)throw new st('"nbf" claim timestamp check failed',"nbf","check_failed")}if(i.exp!==void 0){if(typeof i.exp!="number")throw new st('"exp" claim must be a number',"exp","invalid");if(i.exp<=l-h)throw new oa('"exp" claim timestamp check failed',"exp","check_failed")}if(r.maxTokenAge){const w=l-i.iat,k=typeof r.maxTokenAge=="number"?r.maxTokenAge:Rn(r.maxTokenAge);if(w-h>k)throw new oa('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(w<0-h)throw new st('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return i};async function F0(t,e,r){var n;const i=await Wc(t,e,r);if(!((n=i.protectedHeader.crit)===null||n===void 0)&&n.includes("b64")&&i.protectedHeader.b64===!1)throw new nt("JWTs MUST NOT use unencoded payload");const o={payload:$a(i.protectedHeader,i.payload,r),protectedHeader:i.protectedHeader};return typeof e=="function"?{...o,key:i.key}:o}async function W0(t,e,r){const n=await Uc(t,e,r),i=$a(n.protectedHeader,n.plaintext,r),{protectedHeader:a}=n;if(a.iss!==void 0&&a.iss!==i.iss)throw new st('replicated "iss" claim header parameter mismatch',"iss","mismatch");if(a.sub!==void 0&&a.sub!==i.sub)throw new st('replicated "sub" claim header parameter mismatch',"sub","mismatch");if(a.aud!==void 0&&JSON.stringify(a.aud)!==JSON.stringify(i.aud))throw new st('replicated "aud" claim header parameter mismatch',"aud","mismatch");const o={payload:i,protectedHeader:a};return typeof e=="function"?{...o,key:n.key}:o}class jc{constructor(e){this._flattened=new kn(e)}setContentEncryptionKey(e){return this._flattened.setContentEncryptionKey(e),this}setInitializationVector(e){return this._flattened.setInitializationVector(e),this}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}setKeyManagementParameters(e){return this._flattened.setKeyManagementParameters(e),this}async encrypt(e,r){const n=await this._flattened.encrypt(e,r);return[n.protected,n.encrypted_key,n.iv,n.ciphertext,n.tag].join(".")}}const $0=async(t,e,r)=>{const n=await Fc(t,e,"sign");ei(t,n);const i=await j.subtle.sign(qc(t,n.algorithm),n,r);return new Uint8Array(i)};class Ja{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,r){if(!this._protectedHeader&&!this._unprotectedHeader)throw new de("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!sn(this._protectedHeader,this._unprotectedHeader))throw new de("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const n={...this._protectedHeader,...this._unprotectedHeader},i=cn(de,new Map([["b64",!0]]),r==null?void 0:r.crit,this._protectedHeader,n);let a=!0;if(i.has("b64")&&(a=this._protectedHeader.b64,typeof a!="boolean"))throw new de('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:o}=n;if(typeof o!="string"||!o)throw new de('JWS "alg" (Algorithm) Header Parameter missing or invalid');ri(o,e,"sign");let s=this._payload;a&&(s=xe.encode(Ne(s)));let h;this._protectedHeader?h=xe.encode(Ne(JSON.stringify(this._protectedHeader))):h=xe.encode("");const b=qt(h,xe.encode("."),s),l=await $0(o,e,b),w={signature:Ne(l),payload:""};return a&&(w.payload=_t.decode(s)),this._unprotectedHeader&&(w.header=this._unprotectedHeader),this._protectedHeader&&(w.protected=_t.decode(h)),w}}class Gc{constructor(e){this._flattened=new Ja(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,r){const n=await this._flattened.sign(e,r);if(n.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${n.protected}.${n.payload}.${n.signature}`}}class J0{constructor(e,r,n){this.parent=e,this.key=r,this.options=n}setProtectedHeader(e){if(this.protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this.protectedHeader=e,this}setUnprotectedHeader(e){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addSignature(...e){return this.parent.addSignature(...e)}sign(...e){return this.parent.sign(...e)}done(){return this.parent}}class j0{constructor(e){this._signatures=[],this._payload=e}addSignature(e,r){const n=new J0(this,e,r);return this._signatures.push(n),n}async sign(){if(!this._signatures.length)throw new de("at least one signature must be added");const e={signatures:[],payload:""};for(let r=0;r<this._signatures.length;r++){const n=this._signatures[r],i=new Ja(this._payload);i.setProtectedHeader(n.protectedHeader),i.setUnprotectedHeader(n.unprotectedHeader);const{payload:a,...o}=await i.sign(n.key,n.options);if(r===0)e.payload=a;else if(e.payload!==a)throw new de("inconsistent use of JWS Unencoded Payload Option (RFC7797)");e.signatures.push(o)}return e}}class ja{constructor(e){if(!We(e))throw new TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return typeof e=="number"?this._payload={...this._payload,nbf:e}:this._payload={...this._payload,nbf:vn(new Date)+Rn(e)},this}setExpirationTime(e){return typeof e=="number"?this._payload={...this._payload,exp:e}:this._payload={...this._payload,exp:vn(new Date)+Rn(e)},this}setIssuedAt(e){return typeof e>"u"?this._payload={...this._payload,iat:vn(new Date)}:this._payload={...this._payload,iat:e},this}}class G0 extends ja{setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,r){var n;const i=new Gc(xe.encode(JSON.stringify(this._payload)));if(i.setProtectedHeader(this._protectedHeader),Array.isArray((n=this._protectedHeader)===null||n===void 0?void 0:n.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new nt("JWTs MUST NOT use unencoded payload");return i.sign(e,r)}}class V0 extends ja{setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setKeyManagementParameters(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setContentEncryptionKey(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(e,r){const n=new jc(xe.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),n.setProtectedHeader(this._protectedHeader),this._iv&&n.setInitializationVector(this._iv),this._cek&&n.setContentEncryptionKey(this._cek),this._keyManagementParameters&&n.setKeyManagementParameters(this._keyManagementParameters),n.encrypt(e,r)}}const tr=(t,e)=>{if(typeof t!="string"||!t)throw new gc(`${e} missing or invalid`)};async function Vc(t,e){if(!We(t))throw new TypeError("JWK must be an object");if(e??(e="sha256"),e!=="sha256"&&e!=="sha384"&&e!=="sha512")throw new TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');let r;switch(t.kty){case"EC":tr(t.crv,'"crv" (Curve) Parameter'),tr(t.x,'"x" (X Coordinate) Parameter'),tr(t.y,'"y" (Y Coordinate) Parameter'),r={crv:t.crv,kty:t.kty,x:t.x,y:t.y};break;case"OKP":tr(t.crv,'"crv" (Subtype of Key Pair) Parameter'),tr(t.x,'"x" (Public Key) Parameter'),r={crv:t.crv,kty:t.kty,x:t.x};break;case"RSA":tr(t.e,'"e" (Exponent) Parameter'),tr(t.n,'"n" (Modulus) Parameter'),r={e:t.e,kty:t.kty,n:t.n};break;case"oct":tr(t.k,'"k" (Key Value) Parameter'),r={k:t.k,kty:t.kty};break;default:throw new V('"kty" (Key Type) Parameter missing or unsupported')}const n=xe.encode(JSON.stringify(r));return Ne(await pc(e,n))}async function Y0(t,e){e??(e="sha256");const r=await Vc(t,e);return`urn:ietf:params:oauth:jwk-thumbprint:sha-${e.slice(-3)}:${r}`}async function X0(t,e){const r={...t,...e.header};if(!We(r.jwk))throw new de('"jwk" (JSON Web Key) Header Parameter must be a JSON object');const n=await ti({...r.jwk,ext:!0},r.alg,!0);if(n instanceof Uint8Array||n.type!=="public")throw new de('"jwk" (JSON Web Key) Header Parameter must be a public key');return n}function Z0(t){switch(typeof t=="string"&&t.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new V('Unsupported "alg" value for a JSON Web Key Set')}}function Yc(t){return t&&typeof t=="object"&&Array.isArray(t.keys)&&t.keys.every(Q0)}function Q0(t){return We(t)}function ep(t){return typeof structuredClone=="function"?structuredClone(t):JSON.parse(JSON.stringify(t))}class ua{constructor(e){if(this._cached=new WeakMap,!Yc(e))throw new En("JSON Web Key Set malformed");this._jwks=ep(e)}async getKey(e,r){const{alg:n,kid:i}={...e,...r.header},a=Z0(n),o=this._jwks.keys.filter(l=>{let w=a===l.kty;if(w&&typeof i=="string"&&(w=i===l.kid),w&&typeof l.alg=="string"&&(w=n===l.alg),w&&typeof l.use=="string"&&(w=l.use==="sig"),w&&Array.isArray(l.key_ops)&&(w=l.key_ops.includes("verify")),w&&n==="EdDSA"&&(w=l.crv==="Ed25519"||l.crv==="Ed448"),w)switch(n){case"ES256":w=l.crv==="P-256";break;case"ES256K":w=l.crv==="secp256k1";break;case"ES384":w=l.crv==="P-384";break;case"ES512":w=l.crv==="P-521";break}return w}),{0:s,length:h}=o;if(h===0)throw new Na;if(h!==1)throw new vc;const b=this._cached.get(s)||this._cached.set(s,{}).get(s);if(b[n]===void 0){const l=await ti({...s,ext:!0},n);if(l instanceof Uint8Array||l.type!=="public")throw new En("JSON Web Key Set members must be public keys");b[n]=l}return b[n]}}function tp(t){return ua.prototype.getKey.bind(new ua(t))}const rp=async(t,e,r)=>{let n,i,a=!1;typeof AbortController=="function"&&(n=new AbortController,i=setTimeout(()=>{a=!0,n.abort()},e));const o=await fetch(t.href,{signal:n?n.signal:void 0,redirect:"manual",headers:r.headers}).catch(s=>{throw a?new yc:s});if(i!==void 0&&clearTimeout(i),o.status!==200)throw new Ve("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await o.json()}catch{throw new Ve("Failed to parse the JSON Web Key Set HTTP response as JSON")}};class zo extends ua{constructor(e,r){if(super({keys:[]}),this._jwks=void 0,!(e instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(e.href),this._options={agent:r==null?void 0:r.agent,headers:r==null?void 0:r.headers},this._timeoutDuration=typeof(r==null?void 0:r.timeoutDuration)=="number"?r==null?void 0:r.timeoutDuration:5e3,this._cooldownDuration=typeof(r==null?void 0:r.cooldownDuration)=="number"?r==null?void 0:r.cooldownDuration:3e4,this._cacheMaxAge=typeof(r==null?void 0:r.cacheMaxAge)=="number"?r==null?void 0:r.cacheMaxAge:6e5}coolingDown(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cooldownDuration:!1}fresh(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cacheMaxAge:!1}async getKey(e,r){(!this._jwks||!this.fresh())&&await this.reload();try{return await super.getKey(e,r)}catch(n){if(n instanceof Na&&this.coolingDown()===!1)return await this.reload(),super.getKey(e,r);throw n}}async reload(){if(this._pendingFetch&&qr())return new Promise(e=>{const r=()=>{this._pendingFetch===void 0?e():setTimeout(r,5)};r()});this._pendingFetch||(this._pendingFetch=rp(this._url,this._timeoutDuration,this._options).then(e=>{if(!Yc(e))throw new En("JSON Web Key Set malformed");this._jwks={keys:e.keys},this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(e=>{throw this._pendingFetch=void 0,e})),await this._pendingFetch}}function np(t,e){return zo.prototype.getKey.bind(new zo(t,e))}class ip extends ja{encode(){const e=Ne(JSON.stringify({alg:"none"})),r=Ne(JSON.stringify(this._payload));return`${e}.${r}.`}static decode(e,r){if(typeof e!="string")throw new nt("Unsecured JWT must be a string");const{0:n,1:i,2:a,length:o}=e.split(".");if(o!==3||a!=="")throw new nt("Invalid Unsecured JWT");let s;try{if(s=JSON.parse(_t.decode(Le(n))),s.alg!=="none")throw new Error}catch{throw new nt("Invalid Unsecured JWT")}return{payload:$a(s,Le(i),r),header:s}}}const ap=Ne,Ga=Le,op=Object.freeze(Object.defineProperty({__proto__:null,decode:Ga,encode:ap},Symbol.toStringTag,{value:"Module"}));function sp(t){let e;if(typeof t=="string"){const r=t.split(".");(r.length===3||r.length===5)&&([e]=r)}else if(typeof t=="object"&&t)if("protected"in t)e=t.protected;else throw new TypeError("Token does not contain a Protected Header");try{if(typeof e!="string"||!e)throw new Error;const r=JSON.parse(_t.decode(Ga(e)));if(!We(r))throw new Error;return r}catch{throw new TypeError("Invalid Token or Protected Header formatting")}}function cp(t){if(typeof t!="string")throw new nt("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:r}=t.split(".");if(r===5)throw new nt("Only JWTs using Compact JWS serialization can be decoded");if(r!==3)throw new nt("Invalid JWT");if(!e)throw new nt("JWTs must contain a payload");let n;try{n=Ga(e)}catch{throw new nt("Failed to parse the base64url encoded payload")}let i;try{i=JSON.parse(_t.decode(n))}catch{throw new nt("Failed to parse the decoded payload as JSON")}if(!We(i))throw new nt("Invalid JWT Claims Set");return i}async function fp(t,e){var r;let n,i,a;switch(t){case"HS256":case"HS384":case"HS512":n=parseInt(t.slice(-3),10),i={name:"HMAC",hash:`SHA-${n}`,length:n},a=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return n=parseInt(t.slice(-3),10),Zn(new Uint8Array(n>>3));case"A128KW":case"A192KW":case"A256KW":n=parseInt(t.slice(1,4),10),i={name:"AES-KW",length:n},a=["wrapKey","unwrapKey"];break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":n=parseInt(t.slice(1,4),10),i={name:"AES-GCM",length:n},a=["encrypt","decrypt"];break;default:throw new V('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return j.subtle.generateKey(i,(r=e==null?void 0:e.extractable)!==null&&r!==void 0?r:!1,a)}function Li(t){var e;const r=(e=t==null?void 0:t.modulusLength)!==null&&e!==void 0?e:2048;if(typeof r!="number"||r<2048)throw new V("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return r}async function dp(t,e){var r,n,i;let a,o;switch(t){case"PS256":case"PS384":case"PS512":a={name:"RSA-PSS",hash:`SHA-${t.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:Li(e)},o=["sign","verify"];break;case"RS256":case"RS384":case"RS512":a={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${t.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:Li(e)},o=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":a={name:"RSA-OAEP",hash:`SHA-${parseInt(t.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:Li(e)},o=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":a={name:"ECDSA",namedCurve:"P-256"},o=["sign","verify"];break;case"ES384":a={name:"ECDSA",namedCurve:"P-384"},o=["sign","verify"];break;case"ES512":a={name:"ECDSA",namedCurve:"P-521"},o=["sign","verify"];break;case(qr()&&"EdDSA"):switch(e==null?void 0:e.crv){case void 0:case"Ed25519":a={name:"NODE-ED25519",namedCurve:"NODE-ED25519"},o=["sign","verify"];break;default:throw new V("Invalid or unsupported crv option provided")}break;case"EdDSA":o=["sign","verify"];const s=(r=e==null?void 0:e.crv)!==null&&r!==void 0?r:"Ed25519";switch(s){case"Ed25519":case"Ed448":a={name:s};break;default:throw new V("Invalid or unsupported crv option provided")}break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{o=["deriveKey","deriveBits"];const h=(n=e==null?void 0:e.crv)!==null&&n!==void 0?n:"P-256";switch(h){case"P-256":case"P-384":case"P-521":{a={name:"ECDH",namedCurve:h};break}case"X25519":case"X448":a={name:h};break;default:throw new V("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new V('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return j.subtle.generateKey(a,(i=e==null?void 0:e.extractable)!==null&&i!==void 0?i:!1,o)}async function up(t,e){return dp(t,e)}async function lp(t,e){return fp(t,e)}const hp=Object.freeze(Object.defineProperty({__proto__:null,CompactEncrypt:jc,CompactSign:Gc,EmbeddedJWK:X0,EncryptJWT:V0,FlattenedEncrypt:kn,FlattenedSign:Ja,GeneralEncrypt:H0,GeneralSign:j0,SignJWT:G0,UnsecuredJWT:ip,base64url:op,calculateJwkThumbprint:Vc,calculateJwkThumbprintUri:Y0,compactDecrypt:Uc,compactVerify:Wc,createLocalJWKSet:tp,createRemoteJWKSet:np,decodeJwt:cp,decodeProtectedHeader:sp,errors:Xh,exportJWK:Nc,exportPKCS8:O0,exportSPKI:T0,flattenedDecrypt:qa,flattenedVerify:Fa,generalDecrypt:B0,generalVerify:U0,generateKeyPair:up,generateSecret:lp,importJWK:ti,importPKCS8:x0,importSPKI:w0,importX509:_0,jwtDecrypt:W0,jwtVerify:F0},Symbol.toStringTag,{value:"Module"})),pp=cf(hp);var ur=Mr&&Mr.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(l){try{b(n.next(l))}catch(w){o(w)}}function h(l){try{b(n.throw(l))}catch(w){o(w)}}function b(l){l.done?a(l.value):i(l.value).then(s,h)}b((n=n.apply(t,e||[])).next())})},Xc=Mr&&Mr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.MangroveReviews=void 0;const bp=Xc(Bl),Vr=Xc(Gh),mp=pp;class Ge{static signReview(e,r){return ur(this,void 0,void 0,function*(){r=Ge.cleanPayload(r);const n="ES256",i=yield Ge.publicToPem(e.publicKey),a=JSON.stringify(yield crypto.subtle.exportKey("jwk",e.publicKey));return yield new mp.SignJWT(r).setProtectedHeader({alg:n,kid:i,jwk:a,enc:"utf-8"}).sign(e.privateKey)})}static submitReview(e,r=Ge.ORIGINAL_API){return Vr.default.put(`${r}/submit/${e}`)}static signAndSubmitReview(e,r,n=Ge.ORIGINAL_API){return ur(this,void 0,void 0,function*(){const i=yield Ge.signReview(e,r);return Ge.submitReview(i,n)})}static getReviews(e,r=Ge.ORIGINAL_API){return ur(this,void 0,void 0,function*(){const{data:n}=yield Vr.default.get(`${r}/reviews`,{params:e,headers:{"Content-Type":"application/json"}});return n})}static getSubject(e,r=Ge.ORIGINAL_API){return Vr.default.get(`${r}/subject/${encodeURIComponent(e)}`).then(({data:n})=>n)}static getIssuer(e,r=Ge.ORIGINAL_API){return Vr.default.get(`${r}/issuer/${encodeURIComponent(e)}`).then(({data:n})=>n)}static batchAggregate(e,r=Ge.ORIGINAL_API){return!e.pems&&!e.subs?null:Vr.default.post(`${r}/batch`,e).then(({data:n})=>n)}static generateKeypair(){return crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!0,["sign","verify"])}static jwkToKeypair(e){return ur(this,void 0,void 0,function*(){let r=Object.assign({},e);if(!r||r.metadata!==Ge.PRIVATE_KEY_METADATA)throw new Error(`does not contain the required metadata field "${Ge.PRIVATE_KEY_METADATA}"`);const n=yield crypto.subtle.importKey("jwk",r,{name:"ECDSA",namedCurve:"P-256"},!0,["sign"]);delete r.d,delete r.dp,delete r.dq,delete r.q,delete r.qi,r.key_ops=["verify"];const i=yield crypto.subtle.importKey("jwk",r,{name:"ECDSA",namedCurve:"P-256"},!0,["verify"]);return{privateKey:n,publicKey:i}})}static keypairToJwk(e){return ur(this,void 0,void 0,function*(){const r=yield crypto.subtle.exportKey("jwk",e.privateKey);return r.metadata=Ge.PRIVATE_KEY_METADATA,r})}static u8aToString(e){return new TextDecoder().decode(e)}static privateToPem(e){return ur(this,void 0,void 0,function*(){try{const r=yield crypto.subtle.exportKey("pkcs8",e);return`-----BEGIN PRIVATE KEY-----
${btoa(String.fromCharCode(...new Uint8Array(r)))}
-----END PRIVATE KEY-----`}catch{const n=yield crypto.subtle.exportKey("jwk",e);return(0,bp.default)(n,{private:!0})}})}static publicToPem(e){return ur(this,void 0,void 0,function*(){const r=yield crypto.subtle.exportKey("spki",e);return`-----BEGIN PUBLIC KEY-----${btoa(String.fromCharCode(...new Uint8Array(r)))}-----END PUBLIC KEY-----`})}static cleanPayload(e){if(!e.sub)throw"Payload must include subject URI in `sub` field.";if(!e.rating&&!e.opinion)throw"Payload must include either rating or opinion.";if(e.rating!==void 0&&(e.rating<0||e.rating>100))throw"Rating must be in the range from 0 to 100.";e.iat=Math.floor(Date.now()/1e3),e.rating===null&&delete e.rating,e.opinion||delete e.opinion,(!e.images||!e.images.length)&&delete e.images;const r=Object.assign({client_id:window.location.href},e.metadata);for(const n in r){const i=r[n];(i===null||i===!1)&&delete r[n]}return e.metadata=r,e}}Pn.MangroveReviews=Ge;Ge.ORIGINAL_API="https://api.mangrove.reviews";Ge.PRIVATE_KEY_METADATA="Mangrove private key";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.MangroveReviews=void 0;const e=Pn;Object.defineProperty(t,"MangroveReviews",{enumerable:!0,get:function(){return e.MangroveReviews}})})(pt);class gp{constructor(e,r){G(this,"keypair",new hr(void 0));G(this,"mangroveIdentity");G(this,"key_id",new hr(void 0));G(this,"_mangroveIdentityCreationDate");G(this,"geoReviewsById");G(this,"allReviewsById");this.mangroveIdentity=e,this._mangroveIdentityCreationDate=r,e.addCallbackAndRunD(async n=>{await this.setKeypair(n)})}async setKeypair(e){console.log("Setting keypair from",e);const r=await pt.MangroveReviews.jwkToKeypair(JSON.parse(e));this.keypair.setData(r);const n=await pt.MangroveReviews.publicToPem(r.publicKey);this.key_id.setData(n)}async CreateIdentity(){const e=await pt.MangroveReviews.generateKeypair(),r=await pt.MangroveReviews.keypairToJwk(e);if((this.mangroveIdentity.data??"")!=="")return;this.keypair.setData(e);const n=await pt.MangroveReviews.publicToPem(e.publicKey);this.key_id.setData(n),this.mangroveIdentity.setData(JSON.stringify(r)),this._mangroveIdentityCreationDate.setData(new Date().toISOString())}async getKeypair(){if(this.keypair.data===void 0)try{!$t.runningFromConsole&&(this.mangroveIdentity.data??"")===""&&await this.CreateIdentity()}catch(e){console.error("Could not create identity: ",e)}return this.keypair.data}getKeyId(){return this.key_id}getGeoReviews(){return this.geoReviewsById||(this.getAllReviews(),this.geoReviewsById=this.getAllReviews().mapD(e=>e.filter(r=>{try{return new URL(r.sub).protocol==="geo:"}catch{return!1}}))),this.geoReviewsById}getAllReviews(){return this.allReviewsById!==void 0?this.allReviewsById:(this.allReviewsById=new hr(void 0),this.key_id.map(async e=>{if(e===void 0)return[];const r=await pt.MangroveReviews.getReviews({kid:e});this.allReviewsById.setData(r.reviews.map(n=>({...n,...n.payload})))}),this.allReviewsById)}addReview(e){var r,n,i;(i=this.allReviewsById)==null||i.setData((n=(r=this.allReviewsById)==null?void 0:r.data)==null?void 0:n.concat([e]))}}const Wt=class Wt{constructor(e,r,n,i,a){G(this,"subjectUri");G(this,"average");G(this,"_reviews",new hr([]));G(this,"reviews",this._reviews);G(this,"_lat");G(this,"_lon");G(this,"_uncertainty");G(this,"_name");G(this,"_identity");G(this,"_testmode");const o=Ai.centerpointCoordinates(e);[this._lon,this._lat]=o,this._identity=n,this._testmode=a??new Ar(!1);const s=(i==null?void 0:i.nameKey)??"name";if(e.geometry.type==="Point")this._uncertainty=(i==null?void 0:i.uncertaintyRadius)??10;else{let b;e.geometry.type==="LineString"?b=[e.geometry.coordinates]:(e.geometry.type==="MultiLineString"||e.geometry.type==="Polygon")&&(b=e.geometry.coordinates);let l=0;for(const w of b)for(const k of w)l=Math.max(l,Ai.distanceBetween(o,k));this._uncertainty=(i==null?void 0:i.uncertaintyRadius)??l}this._name=r.map(b=>b[s]??(i==null?void 0:i.fallbackName)),this.subjectUri=this.ConstructSubjectUri();const h=this;this.subjectUri.addCallbackAndRunD(async b=>{const l=await pt.MangroveReviews.getReviews({sub:b});h.addReviews(l.reviews)}),this.ConstructSubjectUri(!0).addCallbackAndRunD(async b=>{try{const l=await pt.MangroveReviews.getReviews({sub:b});h.addReviews(l.reviews)}catch{console.log("Could not fetch reviews for partially incorrect query ",b)}}),this.average=this._reviews.map(b=>{if(!b||b.length===0)return null;let l=0,w=0;for(const k of b)k.rating!==void 0&&(w++,l+=k.rating);return Math.round(l/w)})}static construct(e,r,n,i,a){const o=e.properties.id,s=Wt._featureReviewsCache[o];if(s!==void 0)return s;const h=new Wt(e,r,n,i,a);return Wt._featureReviewsCache[o]=h,h}async createReview(e){if(e.opinion!==void 0&&e.opinion.length>Wt.REVIEW_OPINION_MAX_LENGTH)throw"Opinion too long, should be at most "+Wt.REVIEW_OPINION_MAX_LENGTH+" characters long";const r={sub:this.subjectUri.data,...e},n=await this._identity.getKeypair(),i=await pt.MangroveReviews.signReview(n,r),a=await pt.MangroveReviews.publicToPem(n.publicKey);this._testmode.data?(console.log("Testmode enabled - not uploading review"),await $t.waitFor(1e3)):await pt.MangroveReviews.submitReview(i);const o={...r,kid:a,signature:i,madeByLoggedInUser:new Ar(!0)};this._reviews.data.push(o),this._reviews.ping(),this._identity.addReview(o)}addReviews(e){const r=this,n=new Set(r._reviews.data.map(a=>a.rating+" "+a.opinion));let i=!1;for(const a of e){const o=a.payload;try{const h=new URL(o.sub);if(h.protocol==="geo:"){const b=h.pathname.split(",").map(w=>Number(w));if(Ai.distanceBetween([this._lat,this._lon],b)>this._uncertainty)continue}}catch(h){console.warn(h)}const s=o.rating+" "+o.opinion;n.has(s)||(r._reviews.data.push({...o,kid:a.kid,signature:a.signature,madeByLoggedInUser:this._identity.getKeyId().map(h=>a.kid===h)}),i=!0)}i&&(r._reviews.data.sort((a,o)=>o.iat-a.iat),r._reviews.ping())}ConstructSubjectUri(e=!1){const r=this;return this._name.map(function(n){let i=`geo:${r._lat},${r._lon}?u=${Math.round(r._uncertainty)}`;return n&&(i+="&q="+(e?n:encodeURIComponent(n))),i})}};G(Wt,"REVIEW_OPINION_MAX_LENGTH",1e3),G(Wt,"_featureReviewsCache",{});let Uo=Wt;class Va{constructor(e){G(this,"features");if(e===void 0)throw"Static feature source received undefined as source";let r;e.features?r=e.features:r=e,Array.isArray(r)?this.features=new Ar(r):this.features=r}static fromGeojson(e){return new Va(e)}}const vp=[{commits:337,contributor:"kjon"},{commits:336,contributor:"Pieter Vander Vennet"},{commits:186,contributor:"paunofu"},{commits:95,contributor:"Allan Nordhøy"},{commits:72,contributor:"Robin van der Linde"},{commits:61,contributor:"danieldegroot2"},{commits:49,contributor:"mcliquid"},{commits:47,contributor:"Anonymous"},{commits:42,contributor:"Supaplex"},{commits:36,contributor:"Iago"},{commits:34,contributor:"Lucas"},{commits:33,contributor:"Jiří Podhorecký"},{commits:32,contributor:"Babos Gábor"},{commits:29,contributor:"Artem"},{commits:26,contributor:"Reza Almanda"},{commits:23,contributor:"Marco"},{commits:21,contributor:"SC"},{commits:18,contributor:"el_libre como el chaval"},{commits:17,contributor:"Štefan Baebler"},{commits:16,contributor:"gallegonovato"},{commits:15,contributor:"macpac"},{commits:15,contributor:"WaldiS"},{commits:14,contributor:"LeJun"},{commits:14,contributor:"J. Lavoie"},{commits:13,contributor:"Olivier"},{commits:13,contributor:"Romain de Bossoreille"},{commits:13,contributor:"Joost"},{commits:12,contributor:"Ettore Atalan"},{commits:12,contributor:"Piotr Strebski"},{commits:11,contributor:"Jaime Marquínez Ferrándiz"},{commits:11,contributor:"Túllio Franca"},{commits:10,contributor:"brunnerpaul"},{commits:10,contributor:"pdassori"},{commits:10,contributor:"bgo-eiu"},{commits:10,contributor:"Win Olario"},{commits:10,contributor:"Johannes Rössel"},{commits:10,contributor:"Irina"},{commits:9,contributor:"Lasse Liehu"},{commits:9,contributor:"快乐的老鼠宝宝"},{commits:9,contributor:"deep map"},{commits:9,contributor:"Fjuro"},{commits:9,contributor:"Niels Madsen"},{commits:9,contributor:"Jacque Fresco"},{commits:8,contributor:"Vinicius"},{commits:7,contributor:"NetworkedPoncho"},{commits:7,contributor:"Joost Schouppe"},{commits:7,contributor:"Andrews Leruth"},{commits:7,contributor:"Niels Elgaard Larsen"},{commits:6,contributor:"Jeff Huang"},{commits:6,contributor:"Juele juele"},{commits:6,contributor:"Leonardo Gómez Berniga"},{commits:6,contributor:"Felipe Nogueira"},{commits:6,contributor:"David Haberthür"},{commits:6,contributor:"eMerzh"},{commits:6,contributor:"ⵣⵓⵀⵉⵔ ⴰⵎⴰⵣⵉⵖ زهير أمازيغ"},{commits:6,contributor:"seppesantens"},{commits:6,contributor:"Nikolay Korotkiy"},{commits:6,contributor:"William Weber Berrutti"},{commits:6,contributor:"lvgx"},{commits:5,contributor:"Emory Shaw"},{commits:5,contributor:"nilocram"},{commits:5,contributor:"ⵣⵓⵀⵉⵔ ⴰⵎⴰⵣⵉⵖ ZOUHIR DEHBI"},{commits:5,contributor:"sylvain-m"},{commits:5,contributor:"Fabio Bettani"},{commits:5,contributor:"BMN"},{commits:5,contributor:"Dingcycle"},{commits:5,contributor:"phlostically"},{commits:5,contributor:"Piotr"},{commits:5,contributor:"Alexey Shabanov"},{commits:4,contributor:"Krzysztof Chorzempa"},{commits:4,contributor:"André Marcelo Alvarenga"},{commits:4,contributor:"Klára Fleischhansová"},{commits:4,contributor:"Hiroshi Miura"},{commits:4,contributor:"Adolfo Jayme Barrientos"},{commits:4,contributor:"Polgár Sándor"},{commits:4,contributor:"Jan Zabel"},{commits:3,contributor:"Paolo Mauri"},{commits:3,contributor:"Franco"},{commits:3,contributor:"Peter Brodersen"},{commits:3,contributor:"ssantos"},{commits:3,contributor:"Stéphane De Greef"},{commits:3,contributor:"Alexey Lutskyi"},{commits:3,contributor:"Bibi56"},{commits:3,contributor:"aleksej0R"},{commits:3,contributor:"liimee"},{commits:3,contributor:"foxandpotatoes"},{commits:3,contributor:"Sasha"},{commits:3,contributor:"Jose Luis Infante"},{commits:3,contributor:"Francois"},{commits:3,contributor:"Eduardo Addad de Oliveira"},{commits:3,contributor:"Wiktor Przybylski"},{commits:3,contributor:"Erik Palm"},{commits:3,contributor:"vankos"},{commits:3,contributor:"JCGF-OSM"},{commits:3,contributor:"SiegbjornSitumeang"},{commits:2,contributor:"CaldeiraG"},{commits:2,contributor:"Henry00572"},{commits:2,contributor:"larusalka"},{commits:2,contributor:"Smith Brown"},{commits:2,contributor:"Michel"},{commits:2,contributor:"Kelson Vibber"},{commits:2,contributor:"מוימוי טרייצקי"},{commits:2,contributor:"lmagreault"},{commits:2,contributor:"galder158@hotmail.com"},{commits:2,contributor:"HO Gin Wang"},{commits:2,contributor:"multiflexi"},{commits:2,contributor:"Tarcila Cataldi"},{commits:2,contributor:"Valerio Bozzolan"},{commits:2,contributor:"Manuel Tassi"},{commits:2,contributor:"Marc Marc"},{commits:2,contributor:"Midgard"},{commits:2,contributor:"M. Rey"},{commits:2,contributor:"Localizer"},{commits:2,contributor:"Eric Armijo"},{commits:2,contributor:"MeblIkea"},{commits:2,contributor:"わたなべけんご"},{commits:2,contributor:"Mateusz Konieczny"},{commits:2,contributor:"Kristoffer Grundström"},{commits:2,contributor:"Sebastian Kürten"},{commits:2,contributor:"Damian Tokarski"},{commits:2,contributor:"mic140"},{commits:2,contributor:"Heiko"},{commits:2,contributor:"Leo Alcaraz"},{commits:1,contributor:"Roosa Huovinen"},{commits:1,contributor:"Berete Baba"},{commits:1,contributor:"Federica Gaspari"},{commits:1,contributor:"Julio Salas"},{commits:1,contributor:"Michal Čermák"},{commits:1,contributor:"Juan"},{commits:1,contributor:"Traladarer"},{commits:1,contributor:"LuPa"},{commits:1,contributor:"gnu-ewm"},{commits:1,contributor:"Magnitudee"},{commits:1,contributor:"Dario Crespi"},{commits:1,contributor:"Hungarian_user"},{commits:1,contributor:"Falk Rund"},{commits:1,contributor:"sparky-oxford"},{commits:1,contributor:"jcn706"},{commits:1,contributor:"whatismoss"},{commits:1,contributor:"LePirlouit"},{commits:1,contributor:"SoftwareByRedline"},{commits:1,contributor:"plic ploc"},{commits:1,contributor:"Janina Ellinghaus"},{commits:1,contributor:"Andre Fajar N"},{commits:1,contributor:"Ahen Purwakarta"},{commits:1,contributor:"Luna Jernberg"},{commits:1,contributor:"Rodrigo Tavares"},{commits:1,contributor:"Michał Targoński"},{commits:1,contributor:"Sean Young"},{commits:1,contributor:"Damian Pułka"},{commits:1,contributor:"Iváns"},{commits:1,contributor:"Beardhatcode"},{commits:1,contributor:"riiga"},{commits:1,contributor:"Carlos Ramos Carreño"}],yp={contributors:vp},wp=[{commits:7248,contributor:"Pieter Vander Vennet"},{commits:451,contributor:"Robin van der Linde"},{commits:55,contributor:"Tobias"},{commits:38,contributor:"Win Olario"},{commits:34,contributor:"dependabot[bot]"},{commits:33,contributor:"Hosted Weblate"},{commits:33,contributor:"Christian Neumann"},{commits:31,contributor:"Andrews Leruth"},{commits:31,contributor:"Pieter Fiers"},{commits:30,contributor:"paunofu"},{commits:29,contributor:"riQQ"},{commits:26,contributor:"Joost"},{commits:26,contributor:"karelleketers"},{commits:24,contributor:"Ward"},{commits:21,contributor:"wjtje"},{commits:21,contributor:"AlexanderRebai"},{commits:19,contributor:"Niels Elgaard Larsen"},{commits:19,contributor:"yopaseopor"},{commits:19,contributor:"Sebastian Kürten"},{commits:18,contributor:"Arno Deceuninck"},{commits:17,contributor:"pgm-chardelv1"},{commits:15,contributor:"Brice Maron"},{commits:15,contributor:"ToastHawaii"},{commits:13,contributor:"Nicole"},{commits:12,contributor:"Tobias Jordans"},{commits:12,contributor:"Bavo Vanderghote"},{commits:11,contributor:"Thibault Molleman"},{commits:11,contributor:"RobJN"},{commits:10,contributor:"LiamSimons"},{commits:9,contributor:"Flo Edelmann"},{commits:9,contributor:"Codain"},{commits:9,contributor:"Midgard"},{commits:8,contributor:"pelderson"},{commits:8,contributor:"Mateusz Konieczny"},{commits:7,contributor:"danieldegroot2"},{commits:7,contributor:"OliNau"},{commits:7,contributor:"Binnette"},{commits:6,contributor:"David Haberthür"},{commits:4,contributor:"Daniele Santini"},{commits:4,contributor:"Nadhem"},{commits:4,contributor:"Ward Beyens"},{commits:3,contributor:"Thierry1030"},{commits:3,contributor:"Weblate (bot)"},{commits:3,contributor:"Léo Villeveygoux"},{commits:2,contributor:"eMerzh"},{commits:2,contributor:"bxl-forever"},{commits:2,contributor:"Lu"},{commits:2,contributor:"Paul Brunner"},{commits:2,contributor:"ⵣⵓⵀⵉⵔ ⴰⵎⴰⵣⵉⵖ زهير أمازيغ"},{commits:2,contributor:"Jiří Podhorecký"},{commits:2,contributor:"pdassori"},{commits:2,contributor:"快乐的老鼠宝宝"},{commits:2,contributor:"arrival-spring"},{commits:2,contributor:"Strubbl"},{commits:2,contributor:"RayBB"},{commits:2,contributor:"Charlotte Delvaux"},{commits:2,contributor:"Supaplex"},{commits:2,contributor:"pbarban"},{commits:2,contributor:"graveelius"},{commits:2,contributor:"Stanislas Gueniffey"},{commits:1,contributor:"Roman Zhukov"},{commits:1,contributor:"Ciprian"},{commits:1,contributor:"redfast00"},{commits:1,contributor:"Daniel McDonald"},{commits:1,contributor:"M!dgard"},{commits:1,contributor:"galder158@hotmail.com"},{commits:1,contributor:"Bart Hanssens"},{commits:1,contributor:"brunnerpaul"},{commits:1,contributor:"flaburgan"},{commits:1,contributor:"bgo-eiu"},{commits:1,contributor:"Wouter van der Wal"},{commits:1,contributor:"Reiner Herrmann"},{commits:1,contributor:"Hopperpop"},{commits:1,contributor:"Arya"},{commits:1,contributor:"Robbert Gurdeep Singh"},{commits:1,contributor:"HispanicMojitos"},{commits:1,contributor:"kaipankrath"},{commits:1,contributor:"loviuz"},{commits:1,contributor:"kjonosm"},{commits:1,contributor:"Štefan Baebler"},{commits:1,contributor:"Mark Rogerson"},{commits:1,contributor:"nicole_s"},{commits:1,contributor:"SC"},{commits:1,contributor:"Raphael Das Gupta"},{commits:1,contributor:"Nikolay Korotkiy"},{commits:1,contributor:"Seppe Santens"},{commits:1,contributor:"root"},{commits:1,contributor:"Allan Nordhøy"},{commits:1,contributor:"Sebastian"},{commits:1,contributor:"Hiroshi Miura"},{commits:1,contributor:"riiga"},{commits:1,contributor:"Vinicius"},{commits:1,contributor:"Alexey Shabanov"},{commits:1,contributor:"Polgár Sándor"},{commits:1,contributor:"SiegbjornSitumeang"},{commits:1,contributor:"Marco"},{commits:1,contributor:"mozita"},{commits:1,contributor:"Schouppe Joost"},{commits:1,contributor:"Noémie"},{commits:1,contributor:"Tomas Fiers"},{commits:1,contributor:"tbowdecl97"}],_p={contributors:wp},xp="usersettings",Ap={en:"A special layer which is not meant to be shown on a map, but which is used to set user settings",de:"Eine spezielle Ebene, die nicht für die Darstellung auf einer Karte gedacht ist, sondern für die Festlegung von Benutzereinstellungen verwendet wird",nl:"Een speciale lag die niet getoond wordt op de kaart, maar die de instellingen van de gebruiker weergeeft",pt:"Uma camada especial que não deve ser mostrada em um mapa, mas que é usada para definir as configurações do usuário",ca:"Una capa especial que no està pensada per mostrar-se en un mapa, però que s'utilitza per configurar la configuració de l'usuari",cs:"Speciální vrstva, která není určena k zobrazení na mapě, ale slouží k nastavení uživatelských nastavení"},Sp="special",Ep=["_mastodon_candidate_md=feat.properties._description.match(/\\[[^\\]]*\\]\\((.*(mastodon|en.osm.town).*)\\).*/)?.at(1)","_d=feat.properties._description?.replace(/&lt;/g,'<')?.replace(/&gt;/g,'>') ?? ''",`_mastodon_candidate_a=(feat => {const e = document.createElement('div');e.innerHTML = feat.properties._d;return Array.from(e.getElementsByTagName("a")).filter(a => a.href.match(/mastodon|en.osm.town/) !== null)[0]?.href   }) (feat) `,`_mastodon_link=(feat => {const e = document.createElement('div');e.innerHTML = feat.properties._d;return Array.from(e.getElementsByTagName("a")).filter(a => a.getAttribute("rel")?.indexOf('me') >= 0)[0]?.href})(feat) `,"_mastodon_candidate=feat.properties._mastodon_candidate_md ?? feat.properties._mastodon_candidate_a","__current_background:='initial_value'"],Mp={render:{en:"Settings",nl:"Instellingen",de:"Einstellungen",fr:"Paramètres",da:"Indstillinger",ca:"Configuració",cs:"Nastavení",fi:"Asetukset",zh_Hant:"設定"}},Cp=null,kp=null,Rp=[{id:"profile",render:{"*":"{user_profile()}"}},{id:"language_picker",render:{"*":"{language_picker()}"},mappings:[{if:"__url_parameter_initialized:language=yes",icon:"./assets/layers/usersettings/translate_disabled.svg",then:{en:"The language was set via an URL-parameter and cannot be set by the user.",de:"Die Sprache wurde über einen URL-Parameter gesetzt und kann nicht vom Benutzer eingestellt werden.",ca:"L'idioma es va establir mitjançant un paràmetre d'URL i l'usuari no pot definir-lo.",cs:"Jazyk byl nastaven pomocí parametru URL a uživatel jej nemůže nastavit.²",nl:"De taal werd ingesteld via een URL-parameter en kan niet manueel ingesteld worden."}}]},{id:"inbox",mappings:[{if:"_unreadMessages=0",then:{ca:"{link(Obre la teva safata d'entrada,&LBRACE_backend&RBRACE/messages/inbox,,,)}",cs:"{link(Otevřít schránku,&LBRACE_backend&RBRACE/messages/inbox,,,)}",de:"{link(Deinen Posteingang öffnen,&LBRACE_backend&RBRACE/messages/inbox,,,)}",en:"{link(Open your inbox,&LBRACE_backend&RBRACE/messages/inbox,,,)}",nl:"{link(Ga naar je inbox,&LBRACE_backend&RBRACE/messages/inbox,,,)}"}},{if:"_unreadMessages>0",then:{ca:"{link(<b class='alert'>Tens &LBRACE_unreadMessages&RBRACE missatges </b><br/>Obri la safata d'entrada,&LBRACE_backend&RBRACE/messages/inbox,,,)}",cs:"{link(<b class='alert'>Máte &LBRACE_unreadMessages&RBRACE</b><br/>Otevřít schránku,&LBRACE_backend&RBRACE/messages/inbox,,,)}",de:"{link(<b class='alert'>Sie haben &LBRACE_unreadMessages&RBRACE Nachrichten</b><br/>Posteingang öffnen,&LBRACE_backend&RBRACE/messages/inbox,,,)}",en:"{link(<b class='alert'>You have &LBRACE_unreadMessages&RBRACE messages</b><br/>Open your inbox,&LBRACE_backend&RBRACE/messages/inbox,,,)}",nl:"{link(<b class='alert'>Je hebt &LBRACE_unreadMessages&RBRACE ongelezen berichten</b><br/>Ga naar je inbox,&LBRACE_backend&RBRACE/messages/inbox,,,)}"}}]},{id:"settings-link",render:{ca:"{link(Obriu la vostra configuració a OpenStreetMap.org,&LBRACE_backend&RBRACE/account/edit,,,)}",cs:"{link(Otevřít vaše nastavení na OpenStreetMap.org,&LBRACE_backend&RBRACE/account/edit,,,)}",de:"{link(Öffne Deine Einstellungen auf OpenStreetMap.org,&LBRACE_backend&RBRACE/account/edit,,,)}",en:"{link(Open your settings on OpenStreetMap.org,&LBRACE_backend&RBRACE/account/edit,,,)}",nl:"{link(Open je instellingen op OpenStreetMap.org,&LBRACE_backend&RBRACE/account/edit,,,)}"}},{id:"logout",render:{"*":"{logout()}"}},{id:"a11y-features",question:{en:"What accessibility features should be applied?",nl:"Wanneer moet de toegankelijkheidsmode ingeschakeld worden?",de:"Welche Barrierefrei-Funktionen sollen angewendet werden?"},mappings:[{if:"mapcomplete-a11y=default",alsoShowIf:"mapcomplete-a11y=",then:{en:"Enable accessibility features when arrow keys are used to navigate the map",ca:"Activar les funcions d'accessibilitat quan s'utilitzen les tecles de fletxa per navegar pel mapa",nl:"Schakel toegankelijkheidsmode aan wanneer op de pijltjestoetsen wordt geduwd om de kaart te bewegen",de:"Barrierefrei-Modus aktivieren, wenn Pfeiltasten zum Navigieren in der Karte verwendet werden"}},{if:"mapcomplete-a11y=always",then:{en:"Always enable accessibility features",ca:"Sempre habilita les característiques d'accessibilitat",nl:"Schakel de toegankelijkheidsmode altijd aan",de:"Barrierefrei-Modus immer aktivieren"}},{if:"mapcomplete-a11y=never",then:{en:"Never enable accessibility features",nl:"Gebruik geen toegankelijkheidsmode",de:"Barrierefrei-Modus niemals aktivieren"}}]},{id:"background-layer-readonly",condition:{and:["_theme:backgroundLayer~*","mapcomplete-preferred-background-layer~*","_theme:backgroundLayer!:={mapcomplete-preferred-background-layer}"]},render:{en:"This thematic map has a predefined background layer set. Your default theme setting does not apply",ca:"Aquest mapa temàtic té un conjunt de capes de fons predefinides. La configuració predeterminada del tema no s'aplica",de:"Diese thematische Karte hat einen vordefinierten Hintergrund. Ihr Standardhintergrund wird nicht angewendet",cs:"Tato tematická mapa má předdefinovanou sadu podkladových vrstev. Vaše výchozí nastavení tématu se nepoužije",nl:"Deze kaart heeft een achtegrondlaag instgesteld. Je instellingen worden niet gebruikt"}},{id:"background-layer",question:{en:"What background layer should be shown by default?",ca:"Quina capa de fons s'ha de mostrar per defecte?",de:"Welche Hintergrundebene soll als Standard verwendet werden?",cs:"Jaká vrstva pozadí by se měla zobrazovat ve výchozím nastavení?",nl:"Welke achtergrondlaag moet altijd gebruikt worden?"},condition:"_theme:backgroundLayer=",mappings:[{if:"mapcomplete-preferred-background-layer=default",alsoShowIf:"mapcomplete-preferred-background-layer=",then:{en:"Use the default background layer",ca:"Utilitzeu la capa de fons predeterminada",de:"Standardhintergrund verwenden",cs:"Použití výchozí vrstvu pozadí",nl:"Gebruik de standaard achtergrondlaag"}},{if:"mapcomplete-preferred-background-layer=osm",then:{en:"Use OpenStreetMap-carto as default layer",ca:"Utilitzeu OpenStreetMap-carto com a capa predeterminada",de:"OpenStreetMap-carto als Standardhintergrund verwenden",cs:"Použít OpenStreetMap-carto jako výchozí vrstvu",nl:"Gebruik OpenStreetMap-carto altijd als achtergrondlaag"}},{if:"mapcomplete-preferred-background-layer=photo",then:{en:"Use aerial imagery as default background",ca:"Utilitzeu imatges aèries com a fons predeterminat",de:"Satellitenbilder als Standardhintergrund verwenden",cs:"Použít letecké snímky jako výchozí pozadí",nl:"Gebruik luchtfoto's als standaard achtergrondlaag"}},{if:"mapcomplete-preferred-background-layer=map",then:{en:"Use a non-openstreetmap based map as default background",ca:"Utilitzeu un mapa que no sigui openstreetmap com a fons predeterminat",de:"Eine eigene Karte als Standardhintergrund verwenden",cs:"Použití mapy, která není založena na mapě openstreetmap, jako výchozího pozadí",nl:"Gebruik altijd een kaart di niet op OpenStreetMap gebaseerd is als achtergrond"}},{if:"mapcomplete-preferred-background-layer:={__current_background}",then:{en:"Use the current background layer (<span class='code'>{__current_background}</span>) as default background",ca:"Utilitzeu la capa de fons actual (<span class='code'>{__current_background}</span>) com a fons predeterminat",de:"Aktuelle Hintergrundebene (<span class='code'>{__current_background}</span>) als Standardhintergrund verwenden",cs:"Použít aktuální vrstvu pozadí (<span class='code'>{__current_background}</span>) jako výchozí pozadí",nl:"Gebruik altijd <span class='code'>{__current_background}</span> als achtergrondlaag. Dit is de huidige achtergrond."},hideInAnswer:{or:["__current_background=","__current_background=osm","__current_background=initial_value"]}},{if:"mapcomplete-preferred-background-layer~*",then:{en:"Use background layer <span class='code'>{mapcomplete-preferred-background-layer}</span> as default background",ca:"Utilitza la capa de fons <span class='code'>{mapcomplete-preferred-background-layer}</span> com a fons predeterminat",de:"Hintergrundebene <span class='code'>{mapcomplete-preferred-background-layer}</span> als Standardhintergrund verwenden",cs:"Použít vrstvu pozadí <span class='code'>{mapcomplete-preferred-background-layer}</span> jako výchozí pozadí",nl:"Gebruik <span class='code'>{mapcomplete-preferred-background-layer}</span> altijd als achtergrondlaag"},hideInAnswer:!0}]},{id:"picture-license",description:"This question is not meant to be placed on an OpenStreetMap-element; however it is used in the user information panel to ask which license the user wants",question:{en:"Under what license do you want to publish your pictures?",de:"Unter welcher Lizenz möchten Sie Ihre Bilder veröffentlichen?",nl:"Met welke licentie wil je je afbeeldingen toevoegen?",ca:"Sota quina llicència vols publicar les teves fotos?",pt:"Sob que licença você deseja publicar suas fotos?",cs:"Pod jakou licencí chcete své fotografie zveřejnit?"},mappings:[{if:"mapcomplete-pictures-license=",then:{en:"Pictures you take will be licensed with <b>CC0</b> and added to the public domain. This means that everyone can use your pictures for any purpose. <span class='subtle'>This is the default choice.</span>",de:"Die von Ihnen aufgenommenen Bilder werden mit <b>CC0</b> lizenziert und der Public Domain hinzugefügt. Das bedeutet, dass jeder Ihre Bilder für jeden Zweck verwenden kann. <span class='subtle'>Dies ist die Standardeinstellung.</span>",nl:"Afbeeldingen die je toevoegt zullen gepubliceerd worden met de <b>CC0</b>-licentie en dus aan het publieke domein toegevoegd worden. Dit betekent dat iedereen je afbeeldingen kan gebruiken voor elk mogelijks gebruik. <span class='subtle'>Dit is de standaard-instelling</span>",cs:"Pořízené fotografie budou licencovány pod <b>CC0</b> a přidány do veřejné domény. To znamená, že kdokoli může vaše snímky použít k jakémukoli účelu. <span class='subtle'>Toto je výchozí volba.</span>",ca:"Les imatges que feu tindran llicència <b>CC0</b> i s'afegiran al domini públic. Això vol dir que tothom pot utilitzar les vostres imatges per a qualsevol propòsit. <span class='subtle'>Aquesta és l'opció predeterminada. </span>",pt:"As fotos que você tirar serão licenciadas com <b>CC0</b> e adicionadas ao domínio público. Isso significa que todos podem usar suas fotos para qualquer finalidade. <span class='subtle'>Esta é a escolha padrão.</span>"},hideInAnswer:!0},{if:"mapcomplete-pictures-license=CC0",then:{en:"Pictures you take will be licensed with <b>CC0</b> and added to the public domain. This means that everyone can use your pictures for any purpose.",de:"Ihre aufgenommenen Bilder werden mit <b>CC0</b> lizenziert und der Public Domain hinzugefügt. Das bedeutet, dass jeder Ihre Bilder für jeden Zweck verwenden kann.",nl:"Afbeeldingen die je toevoegt zullen gepubliceerd worden met de <b>CC0</b>-licentie en dus aan het publieke domein toegevoegd worden. Dit betekent dat iedereen je afbeeldingen kan gebruiken voor elk mogelijks gebruik.",ru:"Изображения будут опубликованы под лицензией <b>CC0</b> и перейдут в общественное достояние. Это значит, что кто угодно имеет право использовать их без ограничений.",cs:"Pořízené fotografie budou licencovány pod <b>CC0</b> a přidány do veřejné domény. To znamená, že kdokoli může vaše snímky použít k jakémukoli účelu.",ca:"Les imatges que feu tindran llicència <b>CC0</b> i s'afegiran al domini públic. Això vol dir que tothom pot utilitzar les vostres imatges per a qualsevol propòsit.",es:"Las fotografías que tome tendrán una licencia con <b>CC0</b> y se agregarán al dominio público. Esto significa que todos pueden usar sus imágenes para cualquier propósito.",pt:"As fotos que você tirar serão licenciadas com <b>CC0</b> e adicionadas ao domínio público. Isso significa que todos podem usar suas fotos para qualquer finalidade.",da:"Billeder, som du har taget, vil blive udgivet under <b>CC0</b>-licensen og lagt ud i fælleseje. Det betyder, at alle kan bruge dine billeder til ethvert formål."}},{if:"mapcomplete-pictures-license=CC-BY 4.0",then:{en:"Pictures you take will be licensed with <b>CC-BY 4.0</b> which requires everyone using your picture that they have to attribute you",ca:"Les fotografies que facis es publicaran sota <b>CC-BY 4.0</b> que requereix que qualsevol que utilitzi la vostra imatge us ha de donar crèdits",de:"Die von Ihnen aufgenommenen Bilder werden mit <b>CC-BY 4.0</b> lizenziert, was bedeutet, dass jeder, der Ihr Bild verwendet, Sie als Urheber nennen muss",nl:"Afbeeldingen die je toevoegt zullen gepubliceerd worden met de <b>CC-BY 4.0</b>-licentie. Dit betekent dat iedereen je afbeelding mag gebruiken voor elke toepassing mits het vermelden van je naam",cs:"Pořízené fotografie budou licencovány pod <b>CC-BY 4.0</b>, což vyžaduje, aby vás uvedl každý, kdo použije vaší fotku",pt:"As fotos que você tirar serão licenciadas com <b>CC-BY 4.0</b>, que exige que todos que usam sua foto atribuam a você"}},{if:"mapcomplete-pictures-license=CC-BY-SA 4.0",then:{en:"Pictures you take will be licensed with <b>CC-BY-SA 4.0</b> which means that everyone using your picture must attribute you and that derivatives of your picture must be reshared with the same license.",de:"Die von Ihnen aufgenommenen Bilder werden mit <b>CC-BY-SA 4.0</b> lizenziert, was bedeutet, dass jeder, der Ihr Bild verwendet, Sie als Urheber nennen muss und dass Ableitungen Ihres Bildes mit der gleichen Lizenz weitergegeben werden müssen.",nl:"Afbeeldingen die je toevoegt zullen gepubliceerd worden met de <b>CC-BY-SA 4.0</b>-licentie. Dit betekent dat iedereen je afbeelding mag gebruiken voor elke toepassing mits het vermelden van je naam en dat afgeleide werken van je afbeelding ook ondere deze licentie moeten gepubliceerd worden.",cs:"Pořízené fotografie budou licencovány pod <b>CC-BY-SA 4.0</b>, což vyžaduje, aby vás uvedl každý, kdo použije vaší fotku a že odvozené fotky musí být dále sdíleny se stejnou licencí.",ca:"Les imatges que feu tindran una llicència amb <b>CC-BY-SA 4.0</b> el que significa que tothom que utilitzi la vostra imatge us ha d'atribuir i que els derivats de la vostra imatge s'han de tornar a compartir amb la mateixa llicència.",fr:"Les photos que vous prenez seront sous la licence <b>CC-BY-SA 4.0</b> ce qui signifie que quiconque utilisant votre photo doit vous créditer et que les modifications apportées à votre photo doivent être repartagées avec la même licence.",pt:"As fotos que você tirar serão licenciadas com <b>CC-BY-SA 4.0</b>, o que significa que todos que usarem sua foto devem atribuí-lo e que os derivados de sua foto devem ser compartilhados novamente com a mesma licença."}}]},{id:"show_tags",question:{en:"Show the raw OpenStreetMap-tags?",de:"Rohe OpenStreetMap-Tags anzeigen?",fr:"Afficher les attributs OpenStreetMap bruts ?",ca:"Mostra les etiquetes d'OpenStreetMap en brut?",cs:"Zobrazit nezpracované/raw tagy OpenStreetMap?",nl:"Moeten de data-attributen getoond worden?"},questionHint:{en:"<b>Tags</b> are attributes that every element has. This is the technical data that is stored in the database. You don't need this information to edit with MapComplete, but advanced users might want to use this as reference.",de:"<b>Tags</b> sind die Eigenschaften, die jedes Objekt hat. Das sind die technischen Daten, die in der Datenbank gespeichert werden. Du brauchst diese Informationen nicht, um mit MapComplete Änderungen zu machen, aber fortgeschrittenen Nutzer*innen kann es als Referenz dienen.",ca:"Les <b>etiquetes</b> són atributs que té cada element. Aquestes són les dades tècniques que s'emmagatzemen a la base de dades. No necessiteu aquesta informació per editar amb MapComplete, però és possible que els usuaris avançats la vulguin fer servir com a referència.",cs:"<b>Tagy</b> jsou atributy, které má každý element. Jedná se o technické údaje, které jsou uloženy v databázi. K úpravám pomocí MapComplete tyto informace nepotřebujete, ale pokročilí uživatelé by je mohli chtít použít jako referenci.",nl:"<b>Data-attributen</b> zijn stukjes data die elk element in OpenStreetMap heeft. Dit is technische data die in de databank komt. Je hoeft deze informatie niet te kennen om aanpassingen te maken met MapComplete, maar geavanceerde gebruikers kunnen dit als referentie gebruiken."},mappings:[{if:"mapcomplete-show_tags=no",then:{en:"Never show the tags.",de:"Tags nie anzeigen.",ca:"No mostris mai les etiquetes.",cs:"Nikdy nezobrazovat tagy.",nl:"Verberg data-attributen"}},{if:"mapcomplete-show_tags=",then:{en:"Show the tags that will be applied once I have made {__userjourney_tagsVisibleAt} changesets",de:"Tags anzeigen sobald ich {__userjourney_tagsVisibleAt} Changesets erstellt habe",ca:"Mostra les etiquetes que s'aplicaran un cop hagi fet {__userjourney_tagsVisibleAt} conjunts de canvis",cs:"Zobrazit tagy, které budou použity, jakmile provedu {__userjourney_tagsVisibleAt} sady změn",nl:"Toon data-attributen bij wijzigingen indien je meer dan {__userjourney_tagsVisibleAt} changesets hebt gemaakt"}},{if:"mapcomplete-show_tags=yes",then:{en:"Show the tags that will be applied when making a change",de:"Tags anzeigen, die bei der Änderung hinzugefügt werden",ca:"Mostra les etiquetes que s'aplicaran en fer un canvi",cs:"Zobrazení tagů, které budou použity při provádění změny",nl:"Toon de data-attributen die toegepast zullen worden bij wijzigingen"}},{if:"mapcomplete-show_tags=full",then:{en:"Show the tags that will be applied when making a change and show the tags table on every feature",de:"Tags anzeigen, die bei der Änderung hinzugefügt werden, und Tag-Tabelle bei jedem Objekt anzeigen",ca:"Mostra les etiquetes que s'aplicaran a l'hora de fer un canvi i mostra la taula d'etiquetes a cada element",cs:"Zobrazení tagů, které se použijí při provádění změny, a zobrazení tabulky tagů u každé funkce",nl:"Toon de data-attributen die toegepast zullen worden bij wijzigingen en toon een tabel met alle data-attributen bij elk object."}}]},{id:"all-questions-at-once",question:{en:"Should questions for unknown data fields appear one-by-one or together?",de:"Sollen Fragen für unbekannte Datenfelder einzeln oder zusammen angezeigt werden?",fr:"Est-ce que les questions pour les champs sans donnée doivent apparaître une à une ou toutes ensembles ?",pt:"As perguntas para campos de dados desconhecidos devem aparecer uma a uma ou juntas?",ca:"Les preguntes amb camps de dades desconeguts haurien d'aparèixer una per una o juntes?",nl:"Moeten onbeantwoorde vragen om beurt of allemaal samen getoond worden?",cs:"Mají se otázky pro neznámá datová pole zobrazovat jednotlivě, nebo společně?"},mappings:[{if:"mapcomplete-show-all-questions=true",then:{en:"Show all questions in the infobox together",de:"Alle Fragen in der Infobox zusammen anzeigen",ca:"Mostra totes les preguntes al quadre d'informació",fr:"Afficher toutes les question en même temps dans l'infobox",pt:"Mostrar todas as perguntas na caixa de informações juntas",nl:"Toon alle onbeantwoorde vragen",cs:"Zobrazit všechny otázky v infoboxu dohromady"}},{if:"mapcomplete-show-all-questions=false",then:{en:"Show questions one-by-one",de:"Fragen der Reihe nach anzeigen",ca:"Mostra les preguntes una per una",fr:"Afficher les questions une à une",pt:"Mostrar perguntas uma a uma",nl:"Toon de vragen één per één",cs:"Zobrazit otázky jednu po druhé"}}]},{id:"show_crosshair",question:{en:"Should a crosshair be shown in the center of the display?",cs:"Měl by se uprostřed displeje zobrazovat kříž?",de:"Soll ein Fadenkreuz in der Mitte des Bildschirms angezeigt werden?",nl:"Moet er een kruisje getoond worden in het centrum van je display?"},questionHint:{en:"This can help to accurately position a new element",cs:"To může pomoci přesněji umístit nový prvek",de:"Dies kann dazu beitragen, ein neues Element genau zu positionieren",nl:"Dit kan helpen om nieuwe elementen accuraat te plaatsen",ca:"Això pot ajudar a posicionar amb precisió un nou element"},mappings:[{if:"mapcomplete-show_crosshair=yes",then:"Show a crosshair in the center of the map when zoomed in above level 17"},{if:"mapcomplete-show_crosshair=no",then:"Do not show a crosshair in the center of the map"},{if:"mapcomplete-show_crosshair=",then:"Do not show a crosshair in the center of the map",hideInAnswer:!0},{if:"mapcomplete-show_crosshair=always",then:"Always show a crosshair in the center of the map"}]},{id:"fixate-north",question:{en:"Should north always be up?",de:"Soll Norden immer oben sein?",ca:"El nord hauria d'estar sempre amunt?",cs:"Měl by být sever vždy nahoře?",nl:"Moet het noorden altijd naar boven getoond worden?"},mappings:[{if:"mapcomplete-fixate-north=",then:{en:"Allow to rotate the map",de:"Drehen der Karte zulassen",ca:"Permet girar el mapa",fr:"Autoriser la rotation de la carte",da:"Tillad rotation af kortet",cs:"Umožnit otáčení mapy",nl:"Sta kaartrotatie toe"}},{if:"mapcomplete-fixate-north=yes",then:{en:"Always keep north pointing up",de:"Norden immer nach oben zeigen lassen",fr:"Toujours garder le nord en haut",ca:"Mantingueu sempre el nord apuntant cap amunt",cs:"Sever vždy směřujte nahoru",nl:"Hou het noorden altijd naar boven"}}]},{id:"mangrove-keys",render:{ca:"{link(Baixeu la clau privada del vostre compte de Mangrove,data:application/json&COMMA&LBRACEmangroveidentity&RBRACE,,mangrove_private_key_&LBRACE_name&RBRACE,)}Qualsevol persona que tingui aquest fitxer pot fer ressenyes amb la vostra identitat",cs:"{link(Stáhnout soukromý klíč pro Mangrove účet,data:application/json&COMMA&LBRACEmangroveidentity&RBRACE,,mangrove_private_key_&LBRACE_name&RBRACE,)}Kdokoli, kdo má tento soubor, může provádět recenze s vaší identitou",da:"{link(Hent den private nøgle til din Mangrove-konto,data:application/json&COMMA&LBRACEmangroveidentity&RBRACE,,mangrove_private_key_&LBRACE_name&RBRACE,)}Enhver, der har denne fil, kan lave ændringer med din identitet",de:"{link(Laden Sie den privaten Schlüssel für Ihr Mangrove-Konto herunter,data:application/json&COMMA&LBRACEmangroveidentity&RBRACE,,mangrove_private_key_&LBRACE_name&RBRACE,)}Jeder, der diese Datei besitzt, kann mit Ihrer Identität Rezensionen vornehmen",en:"{link(Download the private key for your Mangrove Account,data:application/json&COMMA&LBRACEmangroveidentity&RBRACE,,mangrove_private_key_&LBRACE_name&RBRACE,)}Anyone possessing this file can make reviews with your identity",nl:"{link(Download de private sleutel van je Mangrove-account,data:application/json&COMMA&LBRACEmangroveidentity&RBRACE,,mangrove_private_key_&LBRACE_name&RBRACE,)}Iedereen die dit bestand bezit, kan met jouw identiteit wijzigingen maken"}},{id:"mangrove-key-import",render:{de:"{import_mangrove_key(Privaten Mangrove-Schlüssel aus Backup importieren)}Wenn du einen privaten Schlüssel hochlädst, wird dein aktueller privater Schlüssel gelöscht. Wenn du damit Rezensionen geschrieben hast, lade zuerst deinen aktuellen privaten Schlüssel hoch",en:"{import_mangrove_key(Import a mangrove private key from backup)}Uploading a private key erases your current private key. If you made reviews with it, download your current private key first",nl:"{import_mangrove_key(Herstel een Mangrove Private sleutel van backup)}Uploading a private key erases your current private key. If you made reviews with it, download your current private key first"}},{id:"translations-title",label:["translations"],render:"<h3>Translating MapComplete</h3>"},{label:["translations"],id:"translation-mode",question:{en:"Do you want to help translating MapComplete?",de:"Möchten Sie bei der Übersetzung von MapComplete helfen?",cs:"Chcete pomoci s překladem MapComplete?",ca:"Vols ajudar a traduir MapComplete?",fr:"Voulez-vous aider à traduire MapComplete ?",pt:"Quer ajudar na tradução do MapComplete?",nl:"Wil je MapComplete helpen vertalen?"},mappings:[{if:"mapcomplete-translation-mode=false",icon:"./assets/layers/usersettings/translate_disabled.svg",then:{en:"Don't show a button to quickly change translations",de:"Keine Schaltfläche zum schnellen Wechseln von Übersetzungen anzeigen",ca:"No mostris cap botó per a canviar ràpidament les traduccions",fr:"Ne pas afficher de bouton pour modifier les traductions rapidement",pt:"Não mostrar um botão para alterar as traduções rapidamente",cs:"Nezobrazovat tlačítko pro rychlou změnu překladů",nl:"Verberg de knoppen om een vertaling in te voeren."}},{if:"mapcomplete-translation-mode=true",icon:"./assets/svg/translate.svg",then:{en:"Show a button to quickly open translations when using MapComplete on a big screen",de:"Schaltfläche anzeigen zum schnellen Öffnen von Übersetzungen beim Verwenden von MapComplete auf einem großen Bildschirm",fr:"Afficher un bouton pour ouvrir rapidement les traductions lorsque vous utilisez MapComplete sur un grand écran",ca:"Mostra un botó per a obrir ràpidament les traduccions quan utilitzes MapComplet en una pantalla gran",pt:"Mostrar um botão para abrir traduções rapidamente ao usar o MapComplete em uma tela grande",da:"Vis en knap for hurtigt at åbne oversættelser, når du bruger MapComplete på en stor skærm",cs:"Zobrazit tlačítko pro rychlé otevření překladů při použití MapComplete na velké obrazovce",nl:"Toon een knopje om snel vertalingen te maken indien MapComplete op een groot scherm is geopend"}},{if:"mapcomplete-translation-mode=mobile",icon:"./assets/layers/usersettings/translate_mobile.svg",then:{en:"Always show the translation buttons, including on mobile",de:"Übersetzungsschaltflächen immer anzeigen, auch auf dem Handy",ca:"Mostra sempre els botons de traducció, fins i tot al mòbil",fr:"Toujours afficher les boutons de traduction, même sur mobile",pt:"Mostrar sempre os botões de tradução, inclusive no celular",cs:"Vždy zobrazovat tlačítka překladu, a to i na mobilu",nl:"Toon een knopje om snel vertalingen te maken op mobiel en op grote schermen"}}]},{label:["translations"],id:"translation-help",mappings:[{if:{or:["mapcomplete-translation-mode=yes","mapcomplete-translation-mode=true","mapcomplete-translation-mode=mobile"]},then:{ca:"Fes clic a la icona 'tradueix' al costat d'una cadena per introduir o actualitzar un fragment de text. Necessites un compte de Weblate per a això. Crea'n un amb el teu nom d'usuari OSM per desbloquejar automàticament el mode de traducció.",da:"Klik på 'oversæt'-ikonet ved siden af en streng for at indtaste eller opdatere et stykke tekst. Du skal have en Weblate-konto for at kunne gøre dette. Opret en med dit OSM-brugernavn for automatisk at låse oversættelsestilstanden op.",de:"Klicken Sie auf das Übersetzungssymbol neben einer Zeichenfolge, um den Übersetzungstext einzugeben oder zu aktualisieren. Dazu benötigen Sie ein Weblate-Konto. Erstellen Sie eines mit Ihrem OSM-Benutzernamen, um den Übersetzungsmodus automatisch freizuschalten.",en:"Click the 'translate'-icon next to a string to enter or update a piece of text. You need a Weblate-account for this. Create one with your OSM-username to automatically unlock translation mode.",es:"Haz clic en el icono 'traducir' al lado de una cadena para introducir o actualizar un texto. Necesitas una cuenta de Weblate para esto. Crea una con tu usuario de OSM para desbloquear el modo de traducción automáticamente.",fr:`Cliquez sur l'icône "traduire" à côté d'une chaîne de caractères pour saisir ou mettre à jour la chaine de texte. Vous aurez besoin d'un compte Weblate pour cela. Créez-en un avec votre nom d'utilisateur OSM pour déverrouiller automatiquement le mode traduction.`,nl:"Klik op het 'vertaal'-icoontje die naast een stukje tekst staat om deze tekst te vertalen of aan te passen. Hiervoor heb je een (gratis) Weblate-account nodig. Indien je jouw account maakt met dezelfde naam als je OSM-gebruikersnaam, dan zullen de vertaalknoppen automatisch verschijnen.",zh_Hant:"點字串旁邊的 'translate'-icon 來輸入或是更新一段文字。你需要 Weblate 帳號。用你 OSM 帳號名稱來創建帳號，並且自動解鎖翻譯模式。",cs:"Chcete-li zadat nebo aktualizovat část textu, klikněte na ikonu „přeložit“ vedle řetězce. K tomu potřebujete účet Weblate. Vytvořte si jej s vaším uživatelským jménem OSM, abyste automaticky odemkli režim překladu."},icon:"./assets/svg/translate.svg"}]},{label:["translations"],id:"translation-completeness",render:{ca:"Les traduccions de {_theme} en {_language} tenen un {_translation_percentage}%: {_translation_translated_count} cadenes de {_translation_total} estan traduïdes",da:"Oversættelser for {_theme} i {_language} er på {_translation_percentage}%: {_translation_translated_count} strenge ud af {_translation_total} er oversat",de:"Die Übersetzung für {_theme} in {_language} ist zu {_translation_percentage}% vollständig: {_translation_translated_count} Zeichenfolgen von {_translation_total} sind übersetzt",en:"Translations for {_theme} in {_language} are at {_translation_percentage}%: {_translation_translated_count} strings out of {_translation_total} are translated",es:"Las traducciones para {_theme} en {_language} están al {_translation_percentage}%: {_translation_translated_count} cadenas de {_translation_total} están traducidas",id:"Terjemahan untuk {_theme} dalam {_language} masih {_translation_percentage}%: {_translation_translated_count} string dari {_translation_total} diterjemahkan",nb_NO:"Oversettelsen for {_theme} i {_language} har {_translation_percentage}% dekning: {_translation_translated_count} strenger av {_translation_total} har blitt oversatt",nl:"Vertalingen voor {_theme} in {_language} zijn momenteel op {_translation_percentage}%: van {_translation_total} teksten zijn er reeds {_translation_translated_count} vertaald",zh_Hant:"{_theme} 的 {_language} 翻譯目前是 {_translation_percentage}%：{_translation_total} 中的 {_translation_translated_count} 已經翻譯了",fr:"Les traductions pour {_theme} en {_language} sont à {_translation_percentage} % : {_translation_translated_count} chaînes traduites sur {_translation_total}",cs:"Překlady pro {_theme} v {_language} jsou na úrovni {_translation_percentage}%: {_translation_translated_count} z {_translation_total} je přeloženo"},condition:{or:["mapcomplete-translation-mode=yes","mapcomplete-translation-mode=true","mapcomplete-translation-mode=mobile"]},mappings:[{if:"_translation_percentage=100",icon:"confirm",then:{en:"Completely translated",nl:"Volledig vertaald",de:"Vollständig übersetzt",ca:"Completament traduït",pt:"Traduzido completamente",cs:"Kompletně přeloženo"}}]},{id:"translation-links",label:["translations"],condition:{and:["_translation_links~*",{or:["mapcomplete-translation-mode=true","mapcomplete-translation-mode=mobile"]}]},render:{"*":"{multi(_translation_links,<a href='&LBRACElink&RBRACE' target='_blank' rel='noopener'>Translate entries of &LBRACEid&RBRACE</a>,)}"}},{id:"verified-mastodon",mappings:[{if:"_mastodon_link~*",then:{en:"A link to your Mastodon-profile has been been found: <a href='{_mastodon_link}' target='_blank' rel='noopener'>{_mastodon_link}</a>",de:"Es wurde ein Link zu deinem Mastodon-Profil gefunden: <a href='{_mastodon_link}' target='_blank' rel='noopener'>{_mastodon_link}</a>",nl:"Een link naar je Mastodon-profiel werd gevonden: <a href='{_mastodon_link}' target='_blank' rel='noopener'>{_mastodon_link}</a>",fr:"Un lien vers votre profil Mastodon a été trouvé : <a href='{_mastodon_link}' target='_blank' rel='noopener'>{_mastodon_link}</a>",ca:"S'ha trobat un enllaç al vostre perfil de Mastodon: <a href='{_mastodon_link}' target='_blank' rel='noopener'>{_mastodon_link}</a>",cs:"Byl nalezen odkaz na váš profil Mastodon: <a href='{_mastodon_link}' target='_blank' rel='noopener'>{_mastodon_link}</a>"},icon:"mastodon"},{if:"_mastodon_candidate~*",then:{en:`We found a link to what looks to be a mastodon account, but it is unverified. <a href='https://www.openstreetmap.org/profile/edit' target='_blank' rel='noopener'>Edit your profile description</a> and place the following there: <span class='code'>&lta href="{_mastodon_candidate}" rel="me"&gtMastodon&lt/a&gt`,de:`Wir haben einen Link gefunden, der aussieht wie ein Mastodon-Konto, aber nicht verifiziert ist. <a href='https://www.openstreetmap.org/profile/edit' target='_blank' rel='noopener'>Bearbeiten Sie Ihre Profilbeschreibung</a> und fügen Sie dort Folgendes ein: <span class='code'>&lta href="{_mastodon_candidate}" rel="me"&gtMastodon&lt/a&gt`,nl:`Je profielbeschrijving bevat een link die vermoedelijk naar je Mastodon gaat, maar deze link is niet verifieerdbaar voor Mastodon.<a href='https://www.openstreetmap.org/profile/edit' target='_blank' rel='noopener'>Pas je profielbeschrijving aan</a> en plaats er de volgende code: <span class='code'>&lta href="{_mastodon_candidate}" rel="me"&gtMastodon&lt/a&gt`,ca:`Hem trobat un enllaç al que sembla ser un compte de mastodon, però no està verificat. <a href='https://www.openstreetmap.org/profile/edit' target='_blank' rel='noopener'>Editeu la descripció del vostre perfil</a> i col·loqueu-hi el següent: <span class='code '>&lta href="{_mastodon_candidate}" rel="me"&gtMastodon&lt/a&gt`,cs:`Našli jsme odkaz na to, co vypadá jako účet mastodon, ale je neověřený. <a href='https://www.openstreetmap.org/profile/edit' target='_blank' rel='noopener'>Upravte popis svého profilu</a> a umístěte tam následující: <span class='code '>&lta href="{_mastodon_candidate}" rel="me"&gtMastodon&lt/a&gt`},icon:"invalid"}]},{id:"cscount-thanks",mappings:[{if:"_csCount>0",then:{en:"You have made changes on {_csCount} different occasions! That is awesome!",de:"Sie haben bei {_csCount} verschiedenen Gelegenheiten Änderungen vorgenommen! Das ist großartig!",ca:"Has fet {_csCount} en diferents ocasions! Això és sorprenent!",fr:"Vous avez fait {_csCount} modifications ! C'est génial !",pt:"Você fez alterações em {_csCount} ocasiões diferentes! Isso é incrível!",nl:"Je hebt {_csCount} verschillende keren bijgedragen! Dat is indrukwekkend!",da:"Du har lavet ændringer ved {_csCount} forskellige begivenheder! Det er fantastisk!",es:"Has hecho cambios en {_csCount} ocasiones diferentes. ¡Es alucinante!",cs:"Změny jste provedli při {_csCount} různých příležitostech! To je úžasné!"},icon:"party"}]},{id:"translation-thanks",mappings:[{if:"_translation_contributions>0",then:{en:"You have contributed to translating MapComplete with {_translation_contributions} commits! That's awesome!",nl:"Je hebt MapComplete helpen vertalen met {_translation_contributions} commits! Dat is fantastisch! Bedankt hiervoor!",de:"Du hast mit {_translation_contributions} Änderungen zur Übersetzung von MapComplete beigetragen! Das ist großartig!"},icon:"party"}]},{id:"contributor-thanks",mappings:[{if:"_code_contributions>0",then:{en:"You have contributed code to MapComplete with {_code_contributions} commits! That's awesome!",de:"Sie haben Code zu MapComplete mit {_code_contributions} Commits beigetragen! Das ist großartig!",nl:"Je hebt mee geprogrammeerd aan MapComplete met {_code_contributions} commits! Das supercool van je! Bedankt hiervoor!",ca:"Heu aportat codi a MapComplete amb {_code_contributions} commits! Això és increïble!",cs:"Přispěli jste do MapComplete kódem s {_code_contributions} revizemi! To je úžasné!"},icon:"party",hideInAnswer:!0}]},{id:"show_debug",question:{en:"Show user settings debug info?",de:"Debug-Informationen zu den Benutzereinstellungen anzeigen?",cs:"Zobrazit informace o ladění v nastavení?",ca:"Vols mostrar la informació de depuració de la configuració de l'usuari?",pt:"Mostrar informações de depuração das configurações do usuário?",nl:"Moet debug-informatie getoond worden?"},mappings:[{if:"mapcomplete-show_debug=yes",icon:"./assets/svg/bug.svg",then:{en:"Show debug info",de:"Debug-Informationen anzeigen",cs:"Zobrazit informace o ladění",ca:"Mostra la informació de depuració",pt:"Mostrar informações de depuração",nl:"Toon debug-informatie"}},{if:"mapcomplete-show_debug=no",then:{en:"Don't show debug info",de:"Keine Debug-Informationen anzeigen",cs:"Nezobrazovat informace o ladění",ca:"No mostris informació de depuració",pt:"Não mostrar informações de depuração",nl:"Verberg debug-informatie"}},{if:"mapcomplete-show_debug=",then:{en:"Don't show debug info",de:"Keine Debug-Informationen anzeigen",cs:"Nezobrazovat informace o ladění",pt:"Não mostrar informações de depuração",da:"Vis ikke debug-informationer",ca:"No mostris informació de depuració",nl:"Verberg debug-informatie"},hideInAnswer:!0}]},{id:"debug-gps",condition:"mapcomplete-show_debug=yes",render:"{gps_all_tags()}"},{id:"debug",condition:"mapcomplete-show_debug=yes",render:"{all_tags()}"}],Bp=[{id:"wikipedialink",labels:["defaults","in_favourite"],render:"<a href='https://wikipedia.org/wiki/{wikipedia}' target='_blank' rel='noopener'><img src='./assets/svg/wikipedia.svg' textmode='📖' alt='Wikipedia'/></a>",condition:{or:["wikipedia~*","wikidata~*"]},mappings:[{"#":"ignore-image-in-then",if:"wikipedia=",then:"<a class='h-8' href='https://www.wikidata.org/wiki/{wikidata}' target='_blank' rel='noopener'><img src='./assets/svg/wikidata.svg' alt='Wikidata'/></a>"}]},{id:"open_until",labels:["defaults","in_favourite"],"#":"Titleicon showing e.g. 'open until 17:00'",icon:{class:"w-20 mx-1 flex items-center"},render:"{opening_hours_state()}",condition:{or:["opening_hours~*",{or:[{and:["seasonal~.*winter.*","_now:date~....-(12|01|02)-.."]},{and:["seasonal~.*spring.*","_now:date~....-(03|04|05)-.."]},{and:["seasonal~.*summer.*","_now:date~....-(06|07|08)-.."]},{and:["seasonal~.*autumn.*","_now:date~....-(09|10|11)-.."]}]}]}},{id:"phonelink",labels:["defaults","in_favourite"],render:{de:"{link(<img textmode='📞' alt='phone' src='./assets/layers/questions/phone.svg'/>,tel:&LBRACEphone&RBRACE,,,Telefon)}",en:"{link(<img textmode='📞' alt='phone' src='./assets/layers/questions/phone.svg'/>,tel:&LBRACEphone&RBRACE,,,phone)}",nl:"{link(<img textmode='📞' alt='phone' src='./assets/layers/questions/phone.svg'/>,tel:&LBRACEphone&RBRACE,,,Telefoneer)}",_context:"layers:icons.tagRenderings.phonelink.render"},mappings:[{"#":"ignore-image-in-then",if:"contact:phone~*",then:{de:"{link(<img textmode='📞' alt='phone' src='./assets/layers/questions/phone.svg'/>,tel:&LBRACEcontact:phone&RBRACE,,,Telefon)}",en:"{link(<img textmode='📞' alt='phone' src='./assets/layers/questions/phone.svg'/>,tel:&LBRACEcontact:phone&RBRACE,,,phone)}",nl:"{link(<img textmode='📞' alt='phone' src='./assets/layers/questions/phone.svg'/>,tel:&LBRACEcontact:phone&RBRACE,,,Telefoneer)}",_context:"layers:icons.tagRenderings.phonelink.mappings.0.then"}}],condition:{or:["phone~*","contact:phone~*"]}},{id:"emaillink",labels:["defaults","in_favourite"],render:"<a href='mailto:{email}'><img textmode='✉️' alt='email' src='./assets/layers/questions/send_email.svg'/></a>",mappings:[{"#":"ignore-image-in-then",if:"contact:email~*",then:"<a href='mailto:{contact:email}'><img textmode='✉️' alt='email' src='./assets/layers/questions/send_email.svg'/></a>"},{"#":"ignore-image-in-then",if:"operator:email~*",then:"<a href='mailto:{operator:email}'><img textmode='✉️' alt='email' src='./assets/layers/questions/send_email.svg'/></a>"}],condition:{or:["email~*","contact:email~*","operator:email~*"]}},{id:"websitelink",labels:["defaults","in_favourite"],mappings:[{"#":"ignore-image-in-then",if:"website~*",then:"<a href='{website}' target='_blank' rel='noopener'><img textmode='🌐' alt='website' src='./assets/layers/icons/website.svg'/></a>"},{"#":"ignore-image-in-then",if:"operator:website~*",then:"<a href='{operator:website}' target='_blank' rel='noopener'><img textmode='🌐' alt='website' src='./assets/layers/icons/website.svg'/></a>"},{"#":"ignore-image-in-then",if:"context:website~*",then:"<a href='{contact:website}' target='_blank' rel='noopener'><img textmode='🌐' alt='website' src='./assets/layers/icons/website.svg'/></a>"}]},{id:"smokingicon",labels:["defaults","in_favourite"],mappings:[{"#":"ignore-image-in-then",if:"smoking=no",then:"<img textmode='🚭️' alt='no smoking' src='./assets/layers/questions/no_smoking.svg'/>"},{"#":"ignore-image-in-then",if:"smoking=yes",then:"<img textmode='🚬️' alt='smoking allowed' src='./assets/layers/questions/smoking.svg'/>"}]},{id:"dogicon",labels:["defaults","in_favourite"],mappings:[{if:"dog=no","#":"ignore-image-in-then",then:"<img textmode='🐕 ⃠' alt='no_dogs' src='./assets/layers/questions/no_dogs.svg'>"},{if:"dog=leashed","#":"ignore-image-in-then",then:"<img textmode='🐕' alt='dogs are allowed but leashed' src='./assets/layers/questions/dogs_leashed.svg'>"},{if:{or:["dog=yes","dog=unleashed"]},"#":"ignore-image-in-then",then:"<img textmode='🐕' alt='dogs are allowed' src='./assets/layers/questions/dogs_allowed.svg'>"}]},{id:"sharelink",labels:["defaults"],render:"{share_link()}",metacondition:"_supports_sharing=yes"},{id:"favourite_title_icon",labels:["defaults"],render:{"*":"{favourite_icon()}"},metacondition:"_loggedIn=true"},{id:"osmlink",labels:["defaults"],render:{de:"{link(<img alt='on osm' textmode='🗺️' src='./assets/svg/osm-logo-us.svg'/>,https://openstreetmap.org/&LBRACEid&RBRACE,,,Auf openstreetmap.org öffnen)}",en:"{link(<img alt='on osm' textmode='🗺️' src='./assets/svg/osm-logo-us.svg'/>,https://openstreetmap.org/&LBRACEid&RBRACE,,,Open on openstreetmap.org)}",nl:"{link(<img alt='on osm' textmode='🗺️' src='./assets/svg/osm-logo-us.svg'/>,https://openstreetmap.org/&LBRACEid&RBRACE,,,Bekijk op openstreetmap.org)}",_context:"layers:icons.tagRenderings.osmlink.render"},mappings:[{if:"id~.*/-.*",then:""},{"#":"ignore-image-in-then",if:"_backend~*",then:{de:"{link(<img alt='on osm' textmode='🗺️' src='./assets/svg/osm-logo-us.svg'/>,&LBRACE_backend&RBRACE/&LBRACEid&RBRACE,,,Auf openstreetmap.org öffnen)}",en:"{link(<img alt='on osm' textmode='🗺️' src='./assets/svg/osm-logo-us.svg'/>,&LBRACE_backend&RBRACE/&LBRACEid&RBRACE,,,Open on openstreetmap.org)}",nl:"{link(<img alt='on osm' textmode='🗺️' src='./assets/svg/osm-logo-us.svg'/>,&LBRACE_backend&RBRACE/&LBRACEid&RBRACE,,,Bekijk op openstreetmap.org)}",_context:"layers:icons.tagRenderings.osmlink.mappings.1.then"}}],condition:"id~(node|way|relation)/[0-9]*"},{id:"direction",labels:["defaults","in_favourite"],render:"{direction_indicator()}"},{id:"rating",icon:{class:"w-20 mx-1 flex items-center"},render:"{rating()}"}],Ip=[],Pp={id:xp,description:Ap,source:Sp,calculatedTags:Ep,title:Mp,pointRendering:Cp,lineRendering:kp,tagRenderings:Rp,titleIcons:Bp,_layerIcon:Ip};class Zc{metaTaggging_for_usersettings(e){$t.AddLazyProperty(e.properties,"_mastodon_candidate_md",()=>{var r;return(r=e.properties._description.match(/\[[^\]]*\]\((.*(mastodon|en.osm.town).*)\).*/))==null?void 0:r.at(1)}),$t.AddLazyProperty(e.properties,"_d",()=>{var r,n;return((n=(r=e.properties._description)==null?void 0:r.replace(/&lt;/g,"<"))==null?void 0:n.replace(/&gt;/g,">"))??""}),$t.AddLazyProperty(e.properties,"_mastodon_candidate_a",()=>(r=>{var i;const n=document.createElement("div");return n.innerHTML=r.properties._d,(i=Array.from(n.getElementsByTagName("a")).filter(a=>a.href.match(/mastodon|en.osm.town/)!==null)[0])==null?void 0:i.href})(e)),$t.AddLazyProperty(e.properties,"_mastodon_link",()=>(r=>{var i;const n=document.createElement("div");return n.innerHTML=r.properties._d,(i=Array.from(n.getElementsByTagName("a")).filter(a=>{var o;return((o=a.getAttribute("rel"))==null?void 0:o.indexOf("me"))>=0})[0])==null?void 0:i.href})(e)),$t.AddLazyProperty(e.properties,"_mastodon_candidate",()=>e.properties._mastodon_candidate_md??e.properties._mastodon_candidate_a),e.properties.__current_backgroun="initial_value"}}G(Zc,"themeName","usersettings");var Wo,$o;const nr=class nr{constructor(e,r,n,i){G(this,"osmConnection");G(this,"mangroveIdentity");G(this,"installedUserThemes");G(this,"showAllQuestionsAtOnce");G(this,"showTags");G(this,"showCrosshair");G(this,"fixateNorth");G(this,"a11y");G(this,"homeLocation");G(this,"language");G(this,"preferredBackgroundLayer");G(this,"imageLicense");G(this,"gpsLocationHistoryRetentionTime",new hr(7*24*60*60,"gps_location_retention"));G(this,"preferencesAsTags");G(this,"_mapProperties");this.osmConnection=e,this._mapProperties=i,this.osmConnection.GetPreference("translation-mode","false").addCallbackAndRunD(o=>{o=o.toLowerCase(),o==="true"||o==="yes"?(Ft.showLinkOnMobile.setData(!1),Ft.showLinkToWeblate.setData(!0)):o==="false"||o==="no"?Ft.showLinkToWeblate.setData(!1):o==="mobile"?(Ft.showLinkOnMobile.setData(!0),Ft.showLinkToWeblate.setData(!0)):(Ft.showLinkOnMobile.setData(!1),Ft.showLinkToWeblate.setData(!1))}),this.showAllQuestionsAtOnce=hr.asBoolean(this.osmConnection.GetPreference("show-all-questions","false",{documentation:"Either 'true' or 'false'. If set, all questions will be shown all at once"})),this.language=this.osmConnection.GetPreference("language"),this.showTags=this.osmConnection.GetPreference("show_tags"),this.showCrosshair=this.osmConnection.GetPreference("show_crosshair"),this.fixateNorth=this.osmConnection.GetPreference("fixate-north"),this.a11y=this.osmConnection.GetPreference("a11y"),this.mangroveIdentity=new gp(this.osmConnection.GetLongPreference("identity","mangrove"),this.osmConnection.GetPreference("identity-creation-date","mangrove")),this.preferredBackgroundLayer=this.osmConnection.GetPreference("preferred-background-layer",void 0,{documentation:"The ID of a layer or layer category that MapComplete uses by default"}),this.imageLicense=this.osmConnection.GetPreference("pictures-license","CC0",{documentation:"The license under which new images are uploaded"}),this.installedUserThemes=this.InitInstalledUserThemes(),this.homeLocation=this.initHomeLocation(),this.preferencesAsTags=this.initAmendedPrefs(r,n),this.syncLanguage()}syncLanguage(){so.wasInitialized("language")||this.language.syncWith(Ft.language)}static initUserSettingsState(){try{return new ff(Pp,"userinformationpanel")}catch{return}}GetUnofficialTheme(e){console.log("GETTING UNOFFICIAL THEME");const r=this.osmConnection.GetLongPreference("unofficial-theme-"+e),n=r.data;if(n===void 0||n==="undefined"||n===""){r.setData(null);return}try{const i=JSON.parse(n);return i.isOfficial=!1,i}catch{console.warn("Removing theme "+e+" as it could not be parsed from the preferences; the content is:",n),r.setData(null);return}}markLayoutAsVisited(e){if(!e){console.error("Trying to mark a layout as visited, but ",e," got passed");return}e.hideFromOverview&&this.osmConnection.isLoggedIn.addCallbackAndRunD(r=>{if(r)return this.osmConnection.GetPreference("hidden-theme-"+(e==null?void 0:e.id)+"-enabled").setData("true"),!0}),e.official||this.osmConnection.GetLongPreference("unofficial-theme-"+e.id).setData(JSON.stringify({id:e.id,icon:e.icon,title:e.title.translations,shortDescription:e.shortDescription.translations,definition:e.definition}))}InitInstalledUserThemes(){const e="mapcomplete-unofficial-theme-",r="-combined-length";return this.osmConnection.preferencesHandler.preferences.map(n=>Object.keys(n).filter(i=>i.startsWith(e)&&i.endsWith(r)).map(i=>i.substring(e.length,i.length-r.length)))}initHomeLocation(){const e=[],r=sf.ListStabilized(this.osmConnection.userDetails.map(n=>{if(n===void 0)return;const i=n.home;if(i!==void 0)return[i.lon,i.lat]})).map(n=>n===void 0?e:[{type:"Feature",properties:{id:"home","user:home":"yes",_lon:n[0],_lat:n[1]},geometry:{type:"Point",coordinates:n}}]);return new Va(r)}initAmendedPrefs(e,r){var s,h;const n=new hr({_theme:e==null?void 0:e.id,"_theme:backgroundLayer":e==null?void 0:e.defaultBackgroundId,_backend:this.osmConnection.Backend(),_applicationOpened:new Date().toISOString(),_supports_sharing:typeof window>"u"?"no":window.navigator.share?"yes":"no"});for(const b in oo.userJourney)n.data["__userjourney_"+b]=oo.userJourney[b];for(const b of so.initializedParameters())n.data["__url_parameter_initialized:"+b]="yes";const i=this.osmConnection;i.preferencesHandler.preferences.addCallback(b=>{for(const l in b){const w=b[l];if(!(w==="undefined"||!w))if(l.endsWith("-combined-length")){const k=Number(w),B=l.substring(0,l.length-6);let C="";for(let I=0;I<k;I++)C+=b[B+I];n.data[B.substring(0,B.length-10)]=C}else n.data[l]=b[l]}n.ping()});const a=i.GetPreference("translation-mode");Ft.language.mapD(b=>{n.data._language=b;const l=a.data;if((l==="true"||l==="mobile")&&e!==void 0){const w=nr.usersettingsConfig,k=e.missingTranslations(w),B=k.total,C=k.untranslated.get(b)??[],I=C.some(F=>F.startsWith("themes:")),U=$t.Dedup(C.filter(F=>F.startsWith("layers:")).map(F=>F.slice(7).split(".")[0])),z=$t.NoNull([I?{id:"theme:"+e.id,link:co.hrefToWeblateZen(b,"themes",e.id)}:void 0,...U.map(F=>({id:"layer:"+F,link:co.hrefToWeblateZen(b,"layers",F)}))]),D=C.length;n.data._translation_total=""+B,n.data._translation_translated_count=""+(B-D),n.data._translation_percentage=""+Math.floor(100*(B-D)/B),n.data._translation_links=JSON.stringify(z)}n.ping()},[a]),this.mangroveIdentity.getKeyId().addCallbackAndRun(b=>{n.data.mangrove_kid=b,n.ping()});const o=new Zc;i.userDetails.addCallback(b=>{for(const B in b)n.data["_"+B]=""+b[B];o.metaTaggging_for_usersettings({properties:n.data});const l=b.name.toLowerCase().replace(/\s+/g,""),w=yp.contributors.find(B=>B.contributor.toLowerCase().replace(/\s+/g,"")===l);w&&(n.data._translation_contributions=""+w.commits);const k=_p.contributors.find(B=>B.contributor.toLowerCase().replace(/\s+/g,"")===l);k&&(n.data._code_contributions=""+k.commits),n.ping()}),n.addCallbackD(b=>{for(const l in b)l.startsWith("_")||l==="mapcomplete-language"||(b[l+"-combined-0"]?this.osmConnection.GetLongPreference(l,"").setData(b[l]):this.osmConnection.GetPreference(l,void 0,{prefix:""}).setData(b[l]))});for(const b in r)r[b].addCallbackAndRun&&r[b].addCallbackAndRun(l=>{n.data["__"+b]!==l&&(n.data["__"+b]=""+l,n.ping())});return(h=(s=this._mapProperties)==null?void 0:s.rasterLayer)==null||h.addCallbackAndRun(b=>{var l;n.data.__current_background=(l=b==null?void 0:b.properties)==null?void 0:l.id,n.ping()}),n}};G(nr,"usersettingsConfig",nr.initUserSettingsState()),G(nr,"availableUserSettingsIds",(($o=(Wo=nr.usersettingsConfig)==null?void 0:Wo.tagRenderings)==null?void 0:$o.map(e=>e.id))??[]),G(nr,"SHOW_TAGS_VALUES",["always","yes","full"]);let No=nr;const Tp=t=>({}),Ko=t=>({}),Op=t=>({}),Lo=t=>({}),Dp=t=>({}),qo=t=>({});function Fo(t){let e,r,n,i;const a=[Np,Up,zp,Hp],o=[];function s(h,b){return!h[0]&&h[2]==="loading"?0:h[2]==="error"?1:h[2]==="logged-in"?2:h[2]==="not-attempted"?3:-1}return~(e=s(t))&&(r=o[e]=a[e](t)),{c(){r&&r.c(),n=Yo()},m(h,b){~e&&o[e].m(h,b),Bn(h,n,b),i=!0},p(h,b){let l=e;e=s(h),e===l?~e&&o[e].p(h,b):(r&&(Xo(),vt(o[l],1,1,()=>{o[l]=null}),Zo()),~e?(r=o[e],r?r.p(h,b):(r=o[e]=a[e](h),r.c()),ct(r,1),r.m(n.parentNode,n)):r=null)},i(h){i||(ct(r),i=!0)},o(h){vt(r),i=!1},d(h){~e&&o[e].d(h),h&&In(n)}}}function Hp(t){let e;const r=t[10]["not-logged-in"],n=Zr(r,t,t[9],Ko);return{c(){n&&n.c()},m(i,a){n&&n.m(i,a),e=!0},p(i,a){n&&n.p&&(!e||a&512)&&Qr(n,r,i,i[9],e?tn(r,i[9],a,Tp):en(i[9]),Ko)},i(i){e||(ct(n,i),e=!0)},o(i){vt(n,i),e=!1},d(i){n&&n.d(i)}}}function zp(t){let e;const r=t[10].default,n=Zr(r,t,t[9],null);return{c(){n&&n.c()},m(i,a){n&&n.m(i,a),e=!0},p(i,a){n&&n.p&&(!e||a&512)&&Qr(n,r,i,i[9],e?tn(r,i[9],a,null):en(i[9]),null)},i(i){e||(ct(n,i),e=!0)},o(i){vt(n,i),e=!1},d(i){n&&n.d(i)}}}function Up(t){let e;const r=t[10].error,n=Zr(r,t,t[9],Lo),i=n||Kp(t);return{c(){i&&i.c()},m(a,o){i&&i.m(a,o),e=!0},p(a,o){n?n.p&&(!e||o&512)&&Qr(n,r,a,a[9],e?tn(r,a[9],o,Op):en(a[9]),Lo):i&&i.p&&(!e||o&8)&&i.p(a,e?o:-1)},i(a){e||(ct(i,a),e=!0)},o(a){vt(i,a),e=!1},d(a){i&&i.d(a)}}}function Np(t){let e;const r=t[10].loading,n=Zr(r,t,t[9],qo),i=n||Lp();return{c(){i&&i.c()},m(a,o){i&&i.m(a,o),e=!0},p(a,o){n&&n.p&&(!e||o&512)&&Qr(n,r,a,a[9],e?tn(r,a[9],o,Dp):en(a[9]),qo)},i(a){e||(ct(i,a),e=!0)},o(a){vt(i,a),e=!1},d(a){i&&i.d(a)}}}function Kp(t){let e,r,n,i,a;return r=new df({props:{class:"m-2 h-8 w-8 shrink-0"}}),i=new lf({props:{t:t[6][t[3]]}}),{c(){e=af("div"),Fi(r.$$.fragment),n=of(),Fi(i.$$.fragment),ln(e,"class","alert max-w-64 flex items-center")},m(o,s){Bn(o,e,s),Wi(r,e,null),Vo(e,n),Wi(i,e,null),a=!0},p(o,s){const h={};s&8&&(h.t=o[6][o[3]]),i.$set(h)},i(o){a||(ct(r.$$.fragment,o),ct(i.$$.fragment,o),a=!0)},o(o){vt(r.$$.fragment,o),vt(i.$$.fragment,o),a=!1},d(o){o&&In(e),$i(r),$i(i)}}}function Lp(t){let e,r;return e=new hf({}),{c(){Fi(e.$$.fragment)},m(n,i){Wi(e,n,i),r=!0},i(n){r||(ct(e.$$.fragment,n),r=!0)},o(n){vt(e.$$.fragment,n),r=!1},d(n){$i(e,n)}}}function qp(t){let e,r,n=t[1]&&Fo(t);return{c(){n&&n.c(),e=Yo()},m(i,a){n&&n.m(i,a),Bn(i,e,a),r=!0},p(i,[a]){i[1]?n?(n.p(i,a),a&2&&ct(n,1)):(n=Fo(i),n.c(),ct(n,1),n.m(e.parentNode,e)):n&&(Xo(),vt(n,1,1,()=>{n=null}),Zo())},i(i){r||(ct(n),r=!0)},o(i){vt(n),r=!1},d(i){n&&n.d(i),i&&In(e)}}}function Fp(t,e,r){var I,U,z;let n,i,a,{$$slots:o={},$$scope:s}=e,{state:h}=e,{ignoreLoading:b=!1}=e,l=((I=h==null?void 0:h.osmConnection)==null?void 0:I.loadingStatus)??new Ar("logged-in");xi(t,l,D=>r(2,i=D));let w=((U=h==null?void 0:h.featureSwitches)==null?void 0:U.featureSwitchEnableLogin)??new Ar(!0);xi(t,w,D=>r(1,n=D));const k=uf.t.general,B={offline:k.loginFailedOfflineMode,unreachable:k.loginFailedUnreachableMode,unknown:k.loginFailedUnreachableMode,readonly:k.loginFailedReadonlyMode},C=((z=h==null?void 0:h.osmConnection)==null?void 0:z.apiIsOnline)??new Ar("online");return xi(t,C,D=>r(3,a=D)),t.$$set=D=>{"state"in D&&r(8,h=D.state),"ignoreLoading"in D&&r(0,b=D.ignoreLoading),"$$scope"in D&&r(9,s=D.$$scope)},[b,n,i,a,l,w,B,C,h,s,o]}class tb extends Jo{constructor(e){super(),jo(this,e,Fp,qp,Go,{state:8,ignoreLoading:0})}}function rb(t,e){let r;return e.current.map(n=>{t.setAttribute("placeholder",n)},[],n=>{r=n}),{destroy:r}}export{Uo as F,tb as L,Va as S,No as U,Qp as a,pa as b,_p as c,pt as d,Ln as h,ba as i,rb as p,hs as s,yp as t};
//# sourceMappingURL=placeholder-1763166e.js.map
