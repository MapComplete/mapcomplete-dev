{"version":3,"file":"MvtSource-78ebfba3.js","sources":["../../node_modules/pbf/index.js","../../src/Logic/FeatureSource/Sources/MvtSource.ts"],"sourcesContent":["'use strict';\n\nmodule.exports = Pbf;\n\nvar ieee754 = require('ieee754');\n\nfunction Pbf(buf) {\n    this.buf = ArrayBuffer.isView && ArrayBuffer.isView(buf) ? buf : new Uint8Array(buf || 0);\n    this.pos = 0;\n    this.type = 0;\n    this.length = this.buf.length;\n}\n\nPbf.Varint  = 0; // varint: int32, int64, uint32, uint64, sint32, sint64, bool, enum\nPbf.Fixed64 = 1; // 64-bit: double, fixed64, sfixed64\nPbf.Bytes   = 2; // length-delimited: string, bytes, embedded messages, packed repeated fields\nPbf.Fixed32 = 5; // 32-bit: float, fixed32, sfixed32\n\nvar SHIFT_LEFT_32 = (1 << 16) * (1 << 16),\n    SHIFT_RIGHT_32 = 1 / SHIFT_LEFT_32;\n\n// Threshold chosen based on both benchmarking and knowledge about browser string\n// data structures (which currently switch structure types at 12 bytes or more)\nvar TEXT_DECODER_MIN_LENGTH = 12;\nvar utf8TextDecoder = typeof TextDecoder === 'undefined' ? null : new TextDecoder('utf8');\n\nPbf.prototype = {\n\n    destroy: function() {\n        this.buf = null;\n    },\n\n    // === READING =================================================================\n\n    readFields: function(readField, result, end) {\n        end = end || this.length;\n\n        while (this.pos < end) {\n            var val = this.readVarint(),\n                tag = val >> 3,\n                startPos = this.pos;\n\n            this.type = val & 0x7;\n            readField(tag, result, this);\n\n            if (this.pos === startPos) this.skip(val);\n        }\n        return result;\n    },\n\n    readMessage: function(readField, result) {\n        return this.readFields(readField, result, this.readVarint() + this.pos);\n    },\n\n    readFixed32: function() {\n        var val = readUInt32(this.buf, this.pos);\n        this.pos += 4;\n        return val;\n    },\n\n    readSFixed32: function() {\n        var val = readInt32(this.buf, this.pos);\n        this.pos += 4;\n        return val;\n    },\n\n    // 64-bit int handling is based on github.com/dpw/node-buffer-more-ints (MIT-licensed)\n\n    readFixed64: function() {\n        var val = readUInt32(this.buf, this.pos) + readUInt32(this.buf, this.pos + 4) * SHIFT_LEFT_32;\n        this.pos += 8;\n        return val;\n    },\n\n    readSFixed64: function() {\n        var val = readUInt32(this.buf, this.pos) + readInt32(this.buf, this.pos + 4) * SHIFT_LEFT_32;\n        this.pos += 8;\n        return val;\n    },\n\n    readFloat: function() {\n        var val = ieee754.read(this.buf, this.pos, true, 23, 4);\n        this.pos += 4;\n        return val;\n    },\n\n    readDouble: function() {\n        var val = ieee754.read(this.buf, this.pos, true, 52, 8);\n        this.pos += 8;\n        return val;\n    },\n\n    readVarint: function(isSigned) {\n        var buf = this.buf,\n            val, b;\n\n        b = buf[this.pos++]; val  =  b & 0x7f;        if (b < 0x80) return val;\n        b = buf[this.pos++]; val |= (b & 0x7f) << 7;  if (b < 0x80) return val;\n        b = buf[this.pos++]; val |= (b & 0x7f) << 14; if (b < 0x80) return val;\n        b = buf[this.pos++]; val |= (b & 0x7f) << 21; if (b < 0x80) return val;\n        b = buf[this.pos];   val |= (b & 0x0f) << 28;\n\n        return readVarintRemainder(val, isSigned, this);\n    },\n\n    readVarint64: function() { // for compatibility with v2.0.1\n        return this.readVarint(true);\n    },\n\n    readSVarint: function() {\n        var num = this.readVarint();\n        return num % 2 === 1 ? (num + 1) / -2 : num / 2; // zigzag encoding\n    },\n\n    readBoolean: function() {\n        return Boolean(this.readVarint());\n    },\n\n    readString: function() {\n        var end = this.readVarint() + this.pos;\n        var pos = this.pos;\n        this.pos = end;\n\n        if (end - pos >= TEXT_DECODER_MIN_LENGTH && utf8TextDecoder) {\n            // longer strings are fast with the built-in browser TextDecoder API\n            return readUtf8TextDecoder(this.buf, pos, end);\n        }\n        // short strings are fast with our custom implementation\n        return readUtf8(this.buf, pos, end);\n    },\n\n    readBytes: function() {\n        var end = this.readVarint() + this.pos,\n            buffer = this.buf.subarray(this.pos, end);\n        this.pos = end;\n        return buffer;\n    },\n\n    // verbose for performance reasons; doesn't affect gzipped size\n\n    readPackedVarint: function(arr, isSigned) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readVarint(isSigned));\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readVarint(isSigned));\n        return arr;\n    },\n    readPackedSVarint: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readSVarint());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readSVarint());\n        return arr;\n    },\n    readPackedBoolean: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readBoolean());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readBoolean());\n        return arr;\n    },\n    readPackedFloat: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readFloat());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readFloat());\n        return arr;\n    },\n    readPackedDouble: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readDouble());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readDouble());\n        return arr;\n    },\n    readPackedFixed32: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readFixed32());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readFixed32());\n        return arr;\n    },\n    readPackedSFixed32: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readSFixed32());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readSFixed32());\n        return arr;\n    },\n    readPackedFixed64: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readFixed64());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readFixed64());\n        return arr;\n    },\n    readPackedSFixed64: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readSFixed64());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readSFixed64());\n        return arr;\n    },\n\n    skip: function(val) {\n        var type = val & 0x7;\n        if (type === Pbf.Varint) while (this.buf[this.pos++] > 0x7f) {}\n        else if (type === Pbf.Bytes) this.pos = this.readVarint() + this.pos;\n        else if (type === Pbf.Fixed32) this.pos += 4;\n        else if (type === Pbf.Fixed64) this.pos += 8;\n        else throw new Error('Unimplemented type: ' + type);\n    },\n\n    // === WRITING =================================================================\n\n    writeTag: function(tag, type) {\n        this.writeVarint((tag << 3) | type);\n    },\n\n    realloc: function(min) {\n        var length = this.length || 16;\n\n        while (length < this.pos + min) length *= 2;\n\n        if (length !== this.length) {\n            var buf = new Uint8Array(length);\n            buf.set(this.buf);\n            this.buf = buf;\n            this.length = length;\n        }\n    },\n\n    finish: function() {\n        this.length = this.pos;\n        this.pos = 0;\n        return this.buf.subarray(0, this.length);\n    },\n\n    writeFixed32: function(val) {\n        this.realloc(4);\n        writeInt32(this.buf, val, this.pos);\n        this.pos += 4;\n    },\n\n    writeSFixed32: function(val) {\n        this.realloc(4);\n        writeInt32(this.buf, val, this.pos);\n        this.pos += 4;\n    },\n\n    writeFixed64: function(val) {\n        this.realloc(8);\n        writeInt32(this.buf, val & -1, this.pos);\n        writeInt32(this.buf, Math.floor(val * SHIFT_RIGHT_32), this.pos + 4);\n        this.pos += 8;\n    },\n\n    writeSFixed64: function(val) {\n        this.realloc(8);\n        writeInt32(this.buf, val & -1, this.pos);\n        writeInt32(this.buf, Math.floor(val * SHIFT_RIGHT_32), this.pos + 4);\n        this.pos += 8;\n    },\n\n    writeVarint: function(val) {\n        val = +val || 0;\n\n        if (val > 0xfffffff || val < 0) {\n            writeBigVarint(val, this);\n            return;\n        }\n\n        this.realloc(4);\n\n        this.buf[this.pos++] =           val & 0x7f  | (val > 0x7f ? 0x80 : 0); if (val <= 0x7f) return;\n        this.buf[this.pos++] = ((val >>>= 7) & 0x7f) | (val > 0x7f ? 0x80 : 0); if (val <= 0x7f) return;\n        this.buf[this.pos++] = ((val >>>= 7) & 0x7f) | (val > 0x7f ? 0x80 : 0); if (val <= 0x7f) return;\n        this.buf[this.pos++] =   (val >>> 7) & 0x7f;\n    },\n\n    writeSVarint: function(val) {\n        this.writeVarint(val < 0 ? -val * 2 - 1 : val * 2);\n    },\n\n    writeBoolean: function(val) {\n        this.writeVarint(Boolean(val));\n    },\n\n    writeString: function(str) {\n        str = String(str);\n        this.realloc(str.length * 4);\n\n        this.pos++; // reserve 1 byte for short string length\n\n        var startPos = this.pos;\n        // write the string directly to the buffer and see how much was written\n        this.pos = writeUtf8(this.buf, str, this.pos);\n        var len = this.pos - startPos;\n\n        if (len >= 0x80) makeRoomForExtraLength(startPos, len, this);\n\n        // finally, write the message length in the reserved place and restore the position\n        this.pos = startPos - 1;\n        this.writeVarint(len);\n        this.pos += len;\n    },\n\n    writeFloat: function(val) {\n        this.realloc(4);\n        ieee754.write(this.buf, val, this.pos, true, 23, 4);\n        this.pos += 4;\n    },\n\n    writeDouble: function(val) {\n        this.realloc(8);\n        ieee754.write(this.buf, val, this.pos, true, 52, 8);\n        this.pos += 8;\n    },\n\n    writeBytes: function(buffer) {\n        var len = buffer.length;\n        this.writeVarint(len);\n        this.realloc(len);\n        for (var i = 0; i < len; i++) this.buf[this.pos++] = buffer[i];\n    },\n\n    writeRawMessage: function(fn, obj) {\n        this.pos++; // reserve 1 byte for short message length\n\n        // write the message directly to the buffer and see how much was written\n        var startPos = this.pos;\n        fn(obj, this);\n        var len = this.pos - startPos;\n\n        if (len >= 0x80) makeRoomForExtraLength(startPos, len, this);\n\n        // finally, write the message length in the reserved place and restore the position\n        this.pos = startPos - 1;\n        this.writeVarint(len);\n        this.pos += len;\n    },\n\n    writeMessage: function(tag, fn, obj) {\n        this.writeTag(tag, Pbf.Bytes);\n        this.writeRawMessage(fn, obj);\n    },\n\n    writePackedVarint:   function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedVarint, arr);   },\n    writePackedSVarint:  function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedSVarint, arr);  },\n    writePackedBoolean:  function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedBoolean, arr);  },\n    writePackedFloat:    function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedFloat, arr);    },\n    writePackedDouble:   function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedDouble, arr);   },\n    writePackedFixed32:  function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedFixed32, arr);  },\n    writePackedSFixed32: function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedSFixed32, arr); },\n    writePackedFixed64:  function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedFixed64, arr);  },\n    writePackedSFixed64: function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedSFixed64, arr); },\n\n    writeBytesField: function(tag, buffer) {\n        this.writeTag(tag, Pbf.Bytes);\n        this.writeBytes(buffer);\n    },\n    writeFixed32Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed32);\n        this.writeFixed32(val);\n    },\n    writeSFixed32Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed32);\n        this.writeSFixed32(val);\n    },\n    writeFixed64Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed64);\n        this.writeFixed64(val);\n    },\n    writeSFixed64Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed64);\n        this.writeSFixed64(val);\n    },\n    writeVarintField: function(tag, val) {\n        this.writeTag(tag, Pbf.Varint);\n        this.writeVarint(val);\n    },\n    writeSVarintField: function(tag, val) {\n        this.writeTag(tag, Pbf.Varint);\n        this.writeSVarint(val);\n    },\n    writeStringField: function(tag, str) {\n        this.writeTag(tag, Pbf.Bytes);\n        this.writeString(str);\n    },\n    writeFloatField: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed32);\n        this.writeFloat(val);\n    },\n    writeDoubleField: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed64);\n        this.writeDouble(val);\n    },\n    writeBooleanField: function(tag, val) {\n        this.writeVarintField(tag, Boolean(val));\n    }\n};\n\nfunction readVarintRemainder(l, s, p) {\n    var buf = p.buf,\n        h, b;\n\n    b = buf[p.pos++]; h  = (b & 0x70) >> 4;  if (b < 0x80) return toNum(l, h, s);\n    b = buf[p.pos++]; h |= (b & 0x7f) << 3;  if (b < 0x80) return toNum(l, h, s);\n    b = buf[p.pos++]; h |= (b & 0x7f) << 10; if (b < 0x80) return toNum(l, h, s);\n    b = buf[p.pos++]; h |= (b & 0x7f) << 17; if (b < 0x80) return toNum(l, h, s);\n    b = buf[p.pos++]; h |= (b & 0x7f) << 24; if (b < 0x80) return toNum(l, h, s);\n    b = buf[p.pos++]; h |= (b & 0x01) << 31; if (b < 0x80) return toNum(l, h, s);\n\n    throw new Error('Expected varint not more than 10 bytes');\n}\n\nfunction readPackedEnd(pbf) {\n    return pbf.type === Pbf.Bytes ?\n        pbf.readVarint() + pbf.pos : pbf.pos + 1;\n}\n\nfunction toNum(low, high, isSigned) {\n    if (isSigned) {\n        return high * 0x100000000 + (low >>> 0);\n    }\n\n    return ((high >>> 0) * 0x100000000) + (low >>> 0);\n}\n\nfunction writeBigVarint(val, pbf) {\n    var low, high;\n\n    if (val >= 0) {\n        low  = (val % 0x100000000) | 0;\n        high = (val / 0x100000000) | 0;\n    } else {\n        low  = ~(-val % 0x100000000);\n        high = ~(-val / 0x100000000);\n\n        if (low ^ 0xffffffff) {\n            low = (low + 1) | 0;\n        } else {\n            low = 0;\n            high = (high + 1) | 0;\n        }\n    }\n\n    if (val >= 0x10000000000000000 || val < -0x10000000000000000) {\n        throw new Error('Given varint doesn\\'t fit into 10 bytes');\n    }\n\n    pbf.realloc(10);\n\n    writeBigVarintLow(low, high, pbf);\n    writeBigVarintHigh(high, pbf);\n}\n\nfunction writeBigVarintLow(low, high, pbf) {\n    pbf.buf[pbf.pos++] = low & 0x7f | 0x80; low >>>= 7;\n    pbf.buf[pbf.pos++] = low & 0x7f | 0x80; low >>>= 7;\n    pbf.buf[pbf.pos++] = low & 0x7f | 0x80; low >>>= 7;\n    pbf.buf[pbf.pos++] = low & 0x7f | 0x80; low >>>= 7;\n    pbf.buf[pbf.pos]   = low & 0x7f;\n}\n\nfunction writeBigVarintHigh(high, pbf) {\n    var lsb = (high & 0x07) << 4;\n\n    pbf.buf[pbf.pos++] |= lsb         | ((high >>>= 3) ? 0x80 : 0); if (!high) return;\n    pbf.buf[pbf.pos++]  = high & 0x7f | ((high >>>= 7) ? 0x80 : 0); if (!high) return;\n    pbf.buf[pbf.pos++]  = high & 0x7f | ((high >>>= 7) ? 0x80 : 0); if (!high) return;\n    pbf.buf[pbf.pos++]  = high & 0x7f | ((high >>>= 7) ? 0x80 : 0); if (!high) return;\n    pbf.buf[pbf.pos++]  = high & 0x7f | ((high >>>= 7) ? 0x80 : 0); if (!high) return;\n    pbf.buf[pbf.pos++]  = high & 0x7f;\n}\n\nfunction makeRoomForExtraLength(startPos, len, pbf) {\n    var extraLen =\n        len <= 0x3fff ? 1 :\n        len <= 0x1fffff ? 2 :\n        len <= 0xfffffff ? 3 : Math.floor(Math.log(len) / (Math.LN2 * 7));\n\n    // if 1 byte isn't enough for encoding message length, shift the data to the right\n    pbf.realloc(extraLen);\n    for (var i = pbf.pos - 1; i >= startPos; i--) pbf.buf[i + extraLen] = pbf.buf[i];\n}\n\nfunction writePackedVarint(arr, pbf)   { for (var i = 0; i < arr.length; i++) pbf.writeVarint(arr[i]);   }\nfunction writePackedSVarint(arr, pbf)  { for (var i = 0; i < arr.length; i++) pbf.writeSVarint(arr[i]);  }\nfunction writePackedFloat(arr, pbf)    { for (var i = 0; i < arr.length; i++) pbf.writeFloat(arr[i]);    }\nfunction writePackedDouble(arr, pbf)   { for (var i = 0; i < arr.length; i++) pbf.writeDouble(arr[i]);   }\nfunction writePackedBoolean(arr, pbf)  { for (var i = 0; i < arr.length; i++) pbf.writeBoolean(arr[i]);  }\nfunction writePackedFixed32(arr, pbf)  { for (var i = 0; i < arr.length; i++) pbf.writeFixed32(arr[i]);  }\nfunction writePackedSFixed32(arr, pbf) { for (var i = 0; i < arr.length; i++) pbf.writeSFixed32(arr[i]); }\nfunction writePackedFixed64(arr, pbf)  { for (var i = 0; i < arr.length; i++) pbf.writeFixed64(arr[i]);  }\nfunction writePackedSFixed64(arr, pbf) { for (var i = 0; i < arr.length; i++) pbf.writeSFixed64(arr[i]); }\n\n// Buffer code below from https://github.com/feross/buffer, MIT-licensed\n\nfunction readUInt32(buf, pos) {\n    return ((buf[pos]) |\n        (buf[pos + 1] << 8) |\n        (buf[pos + 2] << 16)) +\n        (buf[pos + 3] * 0x1000000);\n}\n\nfunction writeInt32(buf, val, pos) {\n    buf[pos] = val;\n    buf[pos + 1] = (val >>> 8);\n    buf[pos + 2] = (val >>> 16);\n    buf[pos + 3] = (val >>> 24);\n}\n\nfunction readInt32(buf, pos) {\n    return ((buf[pos]) |\n        (buf[pos + 1] << 8) |\n        (buf[pos + 2] << 16)) +\n        (buf[pos + 3] << 24);\n}\n\nfunction readUtf8(buf, pos, end) {\n    var str = '';\n    var i = pos;\n\n    while (i < end) {\n        var b0 = buf[i];\n        var c = null; // codepoint\n        var bytesPerSequence =\n            b0 > 0xEF ? 4 :\n            b0 > 0xDF ? 3 :\n            b0 > 0xBF ? 2 : 1;\n\n        if (i + bytesPerSequence > end) break;\n\n        var b1, b2, b3;\n\n        if (bytesPerSequence === 1) {\n            if (b0 < 0x80) {\n                c = b0;\n            }\n        } else if (bytesPerSequence === 2) {\n            b1 = buf[i + 1];\n            if ((b1 & 0xC0) === 0x80) {\n                c = (b0 & 0x1F) << 0x6 | (b1 & 0x3F);\n                if (c <= 0x7F) {\n                    c = null;\n                }\n            }\n        } else if (bytesPerSequence === 3) {\n            b1 = buf[i + 1];\n            b2 = buf[i + 2];\n            if ((b1 & 0xC0) === 0x80 && (b2 & 0xC0) === 0x80) {\n                c = (b0 & 0xF) << 0xC | (b1 & 0x3F) << 0x6 | (b2 & 0x3F);\n                if (c <= 0x7FF || (c >= 0xD800 && c <= 0xDFFF)) {\n                    c = null;\n                }\n            }\n        } else if (bytesPerSequence === 4) {\n            b1 = buf[i + 1];\n            b2 = buf[i + 2];\n            b3 = buf[i + 3];\n            if ((b1 & 0xC0) === 0x80 && (b2 & 0xC0) === 0x80 && (b3 & 0xC0) === 0x80) {\n                c = (b0 & 0xF) << 0x12 | (b1 & 0x3F) << 0xC | (b2 & 0x3F) << 0x6 | (b3 & 0x3F);\n                if (c <= 0xFFFF || c >= 0x110000) {\n                    c = null;\n                }\n            }\n        }\n\n        if (c === null) {\n            c = 0xFFFD;\n            bytesPerSequence = 1;\n\n        } else if (c > 0xFFFF) {\n            c -= 0x10000;\n            str += String.fromCharCode(c >>> 10 & 0x3FF | 0xD800);\n            c = 0xDC00 | c & 0x3FF;\n        }\n\n        str += String.fromCharCode(c);\n        i += bytesPerSequence;\n    }\n\n    return str;\n}\n\nfunction readUtf8TextDecoder(buf, pos, end) {\n    return utf8TextDecoder.decode(buf.subarray(pos, end));\n}\n\nfunction writeUtf8(buf, str, pos) {\n    for (var i = 0, c, lead; i < str.length; i++) {\n        c = str.charCodeAt(i); // code point\n\n        if (c > 0xD7FF && c < 0xE000) {\n            if (lead) {\n                if (c < 0xDC00) {\n                    buf[pos++] = 0xEF;\n                    buf[pos++] = 0xBF;\n                    buf[pos++] = 0xBD;\n                    lead = c;\n                    continue;\n                } else {\n                    c = lead - 0xD800 << 10 | c - 0xDC00 | 0x10000;\n                    lead = null;\n                }\n            } else {\n                if (c > 0xDBFF || (i + 1 === str.length)) {\n                    buf[pos++] = 0xEF;\n                    buf[pos++] = 0xBF;\n                    buf[pos++] = 0xBD;\n                } else {\n                    lead = c;\n                }\n                continue;\n            }\n        } else if (lead) {\n            buf[pos++] = 0xEF;\n            buf[pos++] = 0xBF;\n            buf[pos++] = 0xBD;\n            lead = null;\n        }\n\n        if (c < 0x80) {\n            buf[pos++] = c;\n        } else {\n            if (c < 0x800) {\n                buf[pos++] = c >> 0x6 | 0xC0;\n            } else {\n                if (c < 0x10000) {\n                    buf[pos++] = c >> 0xC | 0xE0;\n                } else {\n                    buf[pos++] = c >> 0x12 | 0xF0;\n                    buf[pos++] = c >> 0xC & 0x3F | 0x80;\n                }\n                buf[pos++] = c >> 0x6 & 0x3F | 0x80;\n            }\n            buf[pos++] = c & 0x3F | 0x80;\n        }\n    }\n    return pos;\n}\n","import { Feature as GeojsonFeature, Geometry } from \"geojson\"\n\nimport { Store, UIEventSource } from \"../../UIEventSource\"\nimport { FeatureSourceForTile, UpdatableFeatureSource } from \"../FeatureSource\"\nimport Pbf from \"pbf\"\n\ntype Coords = [number, number][]\n\nclass MvtFeatureBuilder {\n    private static readonly geom_types = [\"Unknown\", \"Point\", \"LineString\", \"Polygon\"] as const\n    private readonly _size: number\n    private readonly _x0: number\n    private readonly _y0: number\n\n    constructor(extent: number, x: number, y: number, z: number) {\n        this._size = extent * Math.pow(2, z)\n        this._x0 = extent * x\n        this._y0 = extent * y\n    }\n\n    private static signedArea(ring: Coords): number {\n        let sum = 0\n        const len = ring.length\n        // J is basically (i - 1) % len\n        let j = len - 1\n        let p1\n        let p2\n        for (let i = 0; i < len; i++) {\n            p1 = ring[i]\n            p2 = ring[j]\n            sum += (p2.x - p1.x) * (p1.y + p2.y)\n            j = i\n        }\n        return sum\n    }\n\n    /**\n     *\n     * const rings = [   [     [       3.208361864089966,       51.186908820014736     ],     [       3.2084155082702637,       51.18689537073311     ],     [       3.208436965942383,       51.186888646090836     ],     [       3.2084155082702637,       51.18686174751187     ],     [       3.2084155082702637,       51.18685502286465     ],     [       3.2083725929260254,       51.18686847215807     ],     [       3.2083404064178467,       51.18687519680333     ],     [       3.208361864089966,       51.186908820014736     ]   ] ]\n     * MvtFeatureBuilder.classifyRings(rings) // => [rings]\n     */\n    private static classifyRings(rings: Coords[]): Coords[][] {\n        if (rings.length <= 0) {\n            throw \"Now rings in polygon found\"\n        }\n        if (rings.length == 1) {\n            return [rings]\n        }\n\n        const polygons: Coords[][] = []\n        let currentPolygon: Coords[]\n\n        for (let i = 0; i < rings.length; i++) {\n            let ring = rings[i]\n            const area = this.signedArea(ring)\n            if (area === 0) {\n                // Weird, degenerate ring\n                continue\n            }\n            const ccw = area < 0\n\n            if (ccw === area < 0) {\n                if (currentPolygon) {\n                    polygons.push(currentPolygon)\n                }\n                currentPolygon = [ring]\n            } else {\n                currentPolygon.push(ring)\n            }\n        }\n        if (currentPolygon) {\n            polygons.push(currentPolygon)\n        }\n\n        return polygons\n    }\n\n    public toGeoJson(geometry: number[], typeIndex: 1 | 2 | 3, properties: any): GeojsonFeature {\n        let coords: Coords[] = this.encodeGeometry(geometry)\n        let classified = undefined\n        switch (typeIndex) {\n            case 1:\n                const points = []\n                for (let i = 0; i < coords.length; i++) {\n                    points[i] = coords[i][0]\n                }\n                coords = points\n                this.project(<any>coords)\n                break\n\n            case 2:\n                for (let i = 0; i < coords.length; i++) {\n                    this.project(coords[i])\n                }\n                break\n\n            case 3:\n                classified = MvtFeatureBuilder.classifyRings(coords)\n                for (let i = 0; i < classified.length; i++) {\n                    for (let j = 0; j < classified[i].length; j++) {\n                        this.project(classified[i][j])\n                    }\n                }\n                break\n        }\n\n        let type: string = MvtFeatureBuilder.geom_types[typeIndex]\n        let polygonCoords: Coords | Coords[] | Coords[][]\n        if (coords.length === 1) {\n            polygonCoords = (classified ?? coords)[0]\n        } else {\n            polygonCoords = classified ?? coords\n            type = \"Multi\" + type\n        }\n\n        return {\n            type: \"Feature\",\n            geometry: {\n                type: <any>type,\n                coordinates: <any>polygonCoords,\n            },\n            properties,\n        }\n    }\n\n    /**\n     *\n     * const geometry = [9,233,8704,130,438,1455,270,653,248,423,368,493,362,381,330,267,408,301,406,221,402,157,1078,429,1002,449,1036,577,800,545,1586,1165,164,79,40]\n     * const builder = new MvtFeatureBuilder(4096, 66705, 43755, 17)\n     * const expected = [[3.2106759399175644,51.213658395282124],[3.2108227908611298,51.21396418776169],[3.2109133154153824,51.21410154168976],[3.210996463894844,51.214190590500664],[3.211119845509529,51.214294340548975],[3.211241215467453,51.2143745681588],[3.2113518565893173,51.21443085341426],[3.211488649249077,51.21449427925393],[3.2116247713565826,51.214540903490956],[3.211759552359581,51.21457408647774],[3.2121209800243378,51.214664394485254],[3.212456926703453,51.21475890267553],[3.2128042727708817,51.214880292910834],[3.213072493672371,51.214994962285544],[3.2136042416095734,51.21523984134939],[3.2136592268943787,51.21525664260963],[3.213672637939453,51.21525664260963]]\n     * builder.project(builder.encodeGeometry(geometry)[0]) // => expected\n     * @param geometry\n     * @private\n     */\n    private encodeGeometry(geometry: number[]): Coords[] {\n        let cX = 0\n        let cY = 0\n        let coordss: Coords[] = []\n        let currentRing: Coords = []\n        for (let i = 0; i < geometry.length; i++) {\n            let commandInteger = geometry[i]\n            let commandId = commandInteger & 0x7\n            let commandCount = commandInteger >> 3\n            /*\n            Command \tId \tParameters \tParameter Count\n                        MoveTo \t1 \tdX, dY \t2\n                        LineTo \t2 \tdX, dY \t2\n                        ClosePath \t7 \tNo parameters \t0\n            */\n            if (commandId === 1) {\n                // MoveTo means: we start a new ring\n                if (currentRing.length !== 0) {\n                    coordss.push(currentRing)\n                    currentRing = []\n                }\n            }\n            if (commandId === 1 || commandId === 2) {\n                for (let j = 0; j < commandCount; j++) {\n                    const dx = geometry[i + j * 2 + 1]\n                    cX += (dx >> 1) ^ -(dx & 1)\n                    const dy = geometry[i + j * 2 + 2]\n                    cY += (dy >> 1) ^ -(dy & 1)\n                    currentRing.push([cX, cY])\n                }\n                i += commandCount * 2\n            }\n            if (commandId === 7) {\n                currentRing.push([...currentRing[0]])\n                i++\n            }\n        }\n        if (currentRing.length > 0) {\n            coordss.push(currentRing)\n        }\n        return coordss\n    }\n\n    /**\n     * Inline replacement of the location by projecting\n     * @param line the line which will be rewritten inline\n     * @return line\n     */\n    private project(line: Coords) {\n        const y0 = this._y0\n        const x0 = this._x0\n        const size = this._size\n        for (let i = 0; i < line.length; i++) {\n            let p = line[i]\n            let y2 = 180 - ((p[1] + y0) * 360) / size\n            line[i] = [\n                ((p[0] + x0) * 360) / size - 180,\n                (360 / Math.PI) * Math.atan(Math.exp((y2 * Math.PI) / 180)) - 90,\n            ]\n        }\n        return line\n    }\n}\n\nclass Layer {\n    public static read(pbf, end) {\n        return pbf.readFields(\n            Layer._readField,\n            { version: 0, name: \"\", features: [], keys: [], values: [], extent: 0 },\n            end\n        )\n    }\n\n    static _readField(tag, obj, pbf) {\n        if (tag === 15) obj.version = pbf.readVarint()\n        else if (tag === 1) obj.name = pbf.readString()\n        else if (tag === 2) obj.features.push(Feature.read(pbf, pbf.readVarint() + pbf.pos))\n        else if (tag === 3) obj.keys.push(pbf.readString())\n        else if (tag === 4) obj.values.push(Value.read(pbf, pbf.readVarint() + pbf.pos))\n        else if (tag === 5) obj.extent = pbf.readVarint()\n    }\n\n    public static write(obj, pbf) {\n        if (obj.version) pbf.writeVarintField(15, obj.version)\n        if (obj.name) pbf.writeStringField(1, obj.name)\n        if (obj.features)\n            for (var i = 0; i < obj.features.length; i++)\n                pbf.writeMessage(2, Feature.write, obj.features[i])\n        if (obj.keys) for (i = 0; i < obj.keys.length; i++) pbf.writeStringField(3, obj.keys[i])\n        if (obj.values)\n            for (i = 0; i < obj.values.length; i++) pbf.writeMessage(4, Value.write, obj.values[i])\n        if (obj.extent) pbf.writeVarintField(5, obj.extent)\n    }\n}\n\nclass Feature {\n    static read(pbf, end) {\n        return pbf.readFields(Feature._readField, { id: 0, tags: [], type: 0, geometry: [] }, end)\n    }\n\n    static _readField(tag, obj, pbf) {\n        if (tag === 1) obj.id = pbf.readVarint()\n        else if (tag === 2) pbf.readPackedVarint(obj.tags)\n        else if (tag === 3) obj.type = pbf.readVarint()\n        else if (tag === 4) pbf.readPackedVarint(obj.geometry)\n    }\n\n    public static write(obj, pbf) {\n        if (obj.id) pbf.writeVarintField(1, obj.id)\n        if (obj.tags) pbf.writePackedVarint(2, obj.tags)\n        if (obj.type) pbf.writeVarintField(3, obj.type)\n        if (obj.geometry) pbf.writePackedVarint(4, obj.geometry)\n    }\n}\n\nclass Value {\n    public static read(pbf, end) {\n        return pbf.readFields(\n            Value._readField,\n            {\n                string_value: \"\",\n                float_value: 0,\n                double_value: 0,\n                int_value: 0,\n                uint_value: 0,\n                sint_value: 0,\n                bool_value: false,\n            },\n            end\n        )\n    }\n\n    static _readField = function (tag, obj, pbf) {\n        if (tag === 1) obj.string_value = pbf.readString()\n        else if (tag === 2) obj.float_value = pbf.readFloat()\n        else if (tag === 3) obj.double_value = pbf.readDouble()\n        else if (tag === 4) obj.int_value = pbf.readVarint(true)\n        else if (tag === 5) obj.uint_value = pbf.readVarint()\n        else if (tag === 6) obj.sint_value = pbf.readSVarint()\n        else if (tag === 7) obj.bool_value = pbf.readBoolean()\n    }\n\n    public static write(obj, pbf) {\n        if (obj.string_value) pbf.writeStringField(1, obj.string_value)\n        if (obj.float_value) pbf.writeFloatField(2, obj.float_value)\n        if (obj.double_value) pbf.writeDoubleField(3, obj.double_value)\n        if (obj.int_value) pbf.writeVarintField(4, obj.int_value)\n        if (obj.uint_value) pbf.writeVarintField(5, obj.uint_value)\n        if (obj.sint_value) pbf.writeSVarintField(6, obj.sint_value)\n        if (obj.bool_value) pbf.writeBooleanField(7, obj.bool_value)\n    }\n}\n\nclass Tile {\n    // code generated by pbf v3.2.1\n\n    static GeomType = {\n        UNKNOWN: {\n            value: 0,\n            options: {},\n        },\n        POINT: {\n            value: 1,\n            options: {},\n        },\n        LINESTRING: {\n            value: 2,\n            options: {},\n        },\n        POLYGON: {\n            value: 3,\n            options: {},\n        },\n    }\n\n    public static read(pbf, end) {\n        return pbf.readFields(Tile._readField, { layers: [] }, end)\n    }\n\n    static _readField(tag, obj, pbf) {\n        if (tag === 3) obj.layers.push(Layer.read(pbf, pbf.readVarint() + pbf.pos))\n    }\n\n    static write(obj, pbf) {\n        if (obj.layers)\n            for (var i = 0; i < obj.layers.length; i++)\n                pbf.writeMessage(3, Layer.write, obj.layers[i])\n    }\n}\n\nexport default class MvtSource implements FeatureSourceForTile, UpdatableFeatureSource {\n    public readonly features: Store<GeojsonFeature<Geometry, { [name: string]: any }>[]>\n    public readonly x: number\n    public readonly y: number\n    public readonly z: number\n    private readonly _url: string\n    private readonly _layerName: string\n    private readonly _features: UIEventSource<\n        GeojsonFeature<\n            Geometry,\n            {\n                [name: string]: any\n            }\n        >[]\n    > = new UIEventSource<GeojsonFeature<Geometry, { [p: string]: any }>[]>([])\n    private currentlyRunning: Promise<any>\n\n    constructor(\n        url: string,\n        x: number,\n        y: number,\n        z: number,\n        layerName?: string,\n        isActive?: Store<boolean>\n    ) {\n        this._url = url\n        this._layerName = layerName\n        this.x = x\n        this.y = y\n        this.z = z\n        this.updateAsync()\n        this.features = this._features.map(\n            (fs) => {\n                if (fs === undefined || isActive?.data === false) {\n                    return []\n                }\n                return fs\n            },\n            [isActive]\n        )\n    }\n\n    async updateAsync() {\n        if (!this.currentlyRunning) {\n            this.currentlyRunning = this.download()\n        }\n        await this.currentlyRunning\n    }\n\n    private getValue(v: {\n        // Exactly one of these values must be present in a valid message\n        string_value?: string\n        float_value?: number\n        double_value?: number\n        int_value?: number\n        uint_value?: number\n        sint_value?: number\n        bool_value?: boolean\n    }): string | number | undefined | boolean {\n        if (v.string_value !== \"\") {\n            return v.string_value\n        }\n        if (v.double_value !== 0) {\n            return v.double_value\n        }\n        if (v.float_value !== 0) {\n            return v.float_value\n        }\n        if (v.int_value !== 0) {\n            return v.int_value\n        }\n        if (v.uint_value !== 0) {\n            return v.uint_value\n        }\n        if (v.sint_value !== 0) {\n            return v.sint_value\n        }\n        if (v.bool_value !== false) {\n            return v.bool_value\n        }\n        return undefined\n    }\n\n    private async download(): Promise<void> {\n        try {\n            const result = await fetch(this._url)\n            if (result.status !== 200) {\n                console.error(\"Could not download tile \" + this._url)\n                return\n            }\n            const buffer = await result.arrayBuffer()\n            const data = Tile.read(new Pbf(buffer), undefined)\n            const layers = data.layers\n            let layer = data.layers[0]\n            if (layers.length > 1) {\n                if (!this._layerName) {\n                    throw \"Multiple layers in the downloaded tile, but no layername is given to choose from\"\n                }\n                layer = layers.find((l) => l.name === this._layerName)\n            }\n            if (!layer) {\n                return\n            }\n            const builder = new MvtFeatureBuilder(layer.extent, this.x, this.y, this.z)\n            const features: GeojsonFeature[] = []\n\n            for (const feature of layer.features) {\n                const properties = this.inflateProperties(feature.tags, layer.keys, layer.values)\n                features.push(builder.toGeoJson(feature.geometry, feature.type, properties))\n            }\n            this._features.setData(features)\n        } catch (e) {\n            console.error(\"Could not download MVT tile due to\", e)\n        }\n    }\n\n    private inflateProperties(tags: number[], keys: string[], values: { string_value: string }[]) {\n        const properties = {}\n        for (let i = 0; i < tags.length; i += 2) {\n            properties[keys[tags[i]]] = this.getValue(values[tags[i + 1]])\n        }\n        let type: string\n        switch (properties[\"osm_type\"]) {\n            case \"N\":\n                type = \"node\"\n                break\n            case \"W\":\n                type = \"way\"\n                break\n            case \"R\":\n                type = \"relation\"\n                break\n        }\n        properties[\"id\"] = type + \"/\" + properties[\"osm_id\"]\n        delete properties[\"osm_id\"]\n        delete properties[\"osm_type\"]\n\n        return properties\n    }\n}\n"],"names":["pbf","Pbf","ieee754","require$$0","buf","SHIFT_LEFT_32","SHIFT_RIGHT_32","TEXT_DECODER_MIN_LENGTH","utf8TextDecoder","readField","result","end","val","tag","startPos","readUInt32","readInt32","isSigned","b","readVarintRemainder","num","pos","readUtf8TextDecoder","readUtf8","buffer","arr","readPackedEnd","type","min","length","writeInt32","writeBigVarint","str","writeUtf8","len","makeRoomForExtraLength","fn","obj","writePackedVarint","writePackedSVarint","writePackedBoolean","writePackedFloat","writePackedDouble","writePackedFixed32","writePackedSFixed32","writePackedFixed64","writePackedSFixed64","l","s","p","h","toNum","low","high","writeBigVarintLow","writeBigVarintHigh","lsb","extraLen","i","b0","c","bytesPerSequence","b1","b2","b3","lead","_MvtFeatureBuilder","extent","x","y","z","__publicField","ring","sum","j","p1","p2","rings","polygons","currentPolygon","area","geometry","typeIndex","properties","coords","classified","points","polygonCoords","cX","cY","coordss","currentRing","commandInteger","commandId","commandCount","dx","dy","line","y0","x0","size","y2","MvtFeatureBuilder","Layer","Feature","Value","_Value","_Tile","Tile","MvtSource","url","layerName","isActive","UIEventSource","fs","v","data","layers","layer","builder","features","feature","e","tags","keys","values"],"mappings":"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","x_google_ignoreList":[0]}