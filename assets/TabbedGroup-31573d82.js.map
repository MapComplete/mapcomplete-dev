{"version":3,"file":"TabbedGroup-31573d82.js","sources":["../../src/UI/Base/FloatOver.svelte","../../src/UI/Base/TabbedGroup.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import { createEventDispatcher } from \"svelte\"\n  import { ariaLabel } from \"../../Utils/ariaLabel\"\n  import Translations from \"../i18n/Translations\"\n  import { XCircleIcon } from \"@babeard/svelte-heroicons/solid\"\n\n  /**\n   * The slotted element will be shown on top, with a lower-opacity border\n   */\n  const dispatch = createEventDispatcher<{ close }>()\n</script>\n\n<!-- Draw the background over the total screen -->\n<div\n  class=\"absolute top-0 left-0 h-screen w-screen\"\n  on:click={() => {\n    console.log(\"OnClose\")\n    dispatch(\"close\")\n  }}\n  style=\"background-color: #00000088; z-index: 20\"\n/>\n<!-- draw a _second_ absolute div, placed using 'bottom' which will be above the navigation bar on mobile browsers -->\n<div\n  class=\"pointer-events-none absolute bottom-0 right-0 h-full w-screen p-4 md:p-6\"\n  style=\"z-index: 21\"\n  on:click={() => {\n    console.log(\"Closing...\")\n    dispatch(\"close\")\n  }}\n>\n  <div\n    class=\"content normal-background pointer-events-auto h-full\"\n    on:click|stopPropagation={() => {}}\n  >\n    <div class=\"h-full rounded-xl\">\n      <slot />\n    </div>\n    <slot name=\"close-button\">\n      <!-- The close button is placed _after_ the default slot in order to always paint it on top -->\n      <div\n        class=\"absolute right-10 top-10 m-0 cursor-pointer rounded-full border-0 border-none bg-white p-0\"\n        style=\"margin: -0.25rem\"\n        on:click={() => dispatch(\"close\")}\n        use:ariaLabel={Translations.t.general.backToMap}\n      >\n        <XCircleIcon class=\"h-8 w-8\" />\n      </div>\n    </slot>\n  </div>\n</div>\n\n<style>\n  .content {\n    border-radius: 0.5rem;\n    overflow-x: hidden;\n    box-shadow: 0 0 1rem #00000088;\n  }\n</style>\n","<script lang=\"ts\">\n  /**\n   * Thin wrapper around 'TabGroup' which binds the state\n   */\n\n  import { Tab, TabGroup, TabList, TabPanel, TabPanels } from \"@rgossiaux/svelte-headlessui\"\n  import { ImmutableStore, Store, UIEventSource } from \"../../Logic/UIEventSource\"\n  import { twJoin } from \"tailwind-merge\"\n\n  /**\n   * If a condition is given for a certain tab, it will only be shown if this condition is true.\n   * E.g.\n   * condition3 = new ImmutableStore(false) will always hide tab3 (the fourth tab)\n   */\n  const tr = new ImmutableStore(true)\n  export let condition0: Store<boolean> = tr\n  export let condition1: Store<boolean> = tr\n  export let condition2: Store<boolean> = tr\n  export let condition3: Store<boolean> = tr\n  export let condition4: Store<boolean> = tr\n  export let condition5: Store<boolean> = tr\n  export let condition6: Store<boolean> = tr\n  export let tab: UIEventSource<number> = new UIEventSource<number>(0)\n  let tabElements: HTMLElement[] = []\n  $: tabElements[$tab]?.click()\n  $: {\n    if (tabElements[tab.data]) {\n      window.setTimeout(() => tabElements[tab.data].click(), 50)\n    }\n  }\n  export function getTab() {\n    return tab\n  }\n</script>\n\n<div class=\"tabbedgroup flex h-full w-full\">\n  <TabGroup\n    class=\"flex h-full w-full flex-col\"\n    defaultIndex={1}\n    on:change={(e) => {\n      if (e.detail >= 0) {\n        tab.setData(e.detail)\n      }\n    }}\n  >\n    <div class=\"interactive sticky top-0 flex items-center justify-between\">\n      <TabList class=\"flex flex-wrap\">\n        {#if $$slots.title0}\n          <Tab\n            class={({ selected }) => twJoin(\"tab\", selected && \"primary\", !$condition0 && \"hidden\")}\n          >\n            <div bind:this={tabElements[0]} class=\"flex\">\n              <slot name=\"title0\">Tab 0</slot>\n            </div>\n          </Tab>\n        {/if}\n        {#if $$slots.title1}\n          <Tab\n            class={({ selected }) => twJoin(\"tab\", selected && \"primary\", !$condition1 && \"hidden\")}\n          >\n            <div bind:this={tabElements[1]} class=\"flex\">\n              <slot name=\"title1\" />\n            </div>\n          </Tab>\n        {/if}\n        {#if $$slots.title2}\n          <Tab\n            class={({ selected }) => twJoin(\"tab\", selected && \"primary\", !$condition2 && \"hidden\")}\n          >\n            <div bind:this={tabElements[2]} class=\"flex\">\n              <slot name=\"title2\" />\n            </div>\n          </Tab>\n        {/if}\n        {#if $$slots.title3}\n          <Tab\n            class={({ selected }) => twJoin(\"tab\", selected && \"primary\", !$condition3 && \"hidden\")}\n          >\n            <div bind:this={tabElements[3]} class=\"flex\">\n              <slot name=\"title3\" />\n            </div>\n          </Tab>\n        {/if}\n        {#if $$slots.title4}\n          <Tab\n            class={({ selected }) => twJoin(\"tab\", selected && \"primary\", !$condition4 && \"hidden\")}\n          >\n            <div bind:this={tabElements[4]} class=\"flex\">\n              <slot name=\"title4\" />\n            </div>\n          </Tab>\n        {/if}\n        {#if $$slots.title5}\n          <Tab\n            class={({ selected }) => twJoin(\"tab\", selected && \"primary\", !$condition5 && \"hidden\")}\n          >\n            <div bind:this={tabElements[5]} class=\"flex\">\n              <slot name=\"title5\" />\n            </div>\n          </Tab>\n        {/if}\n        {#if $$slots.title6}\n          <Tab\n            class={({ selected }) => twJoin(\"tab\", selected && \"primary\", !$condition6 && \"hidden\")}\n          >\n            <div bind:this={tabElements[6]} class=\"flex\">\n              <slot name=\"title6\" />\n            </div>\n          </Tab>\n        {/if}\n      </TabList>\n      <slot name=\"post-tablist\" />\n    </div>\n    <div class=\"normal-background h-full overflow-y-auto\">\n      <TabPanels class=\"tabpanels\" defaultIndex={$tab}>\n        <TabPanel class=\"tabpanel\">\n          <slot name=\"content0\">\n            <div>Empty</div>\n          </slot>\n        </TabPanel>\n        <TabPanel class=\"tabpanel\">\n          <slot name=\"content1\">\n            <div />\n          </slot>\n        </TabPanel>\n        <TabPanel class=\"tabpanel\">\n          <slot name=\"content2\">\n            <div />\n          </slot>\n        </TabPanel>\n        <TabPanel class=\"tabpanel\">\n          <slot name=\"content3\">\n            <div />\n          </slot>\n        </TabPanel>\n        <TabPanel class=\"tabpanel\">\n          <slot name=\"content4\">\n            <div />\n          </slot>\n        </TabPanel>\n        <TabPanel class=\"tabpanel\">\n          <slot name=\"content5\">\n            <div />\n          </slot>\n        </TabPanel>\n        <TabPanel class=\"tabpanel\">\n          <slot name=\"content6\">\n            <div />\n          </slot>\n        </TabPanel>\n      </TabPanels>\n    </div>\n  </TabGroup>\n</div>\n\n<style>\n  .tabbedgroup {\n    max-height: 100vh;\n    height: 100%;\n  }\n\n  :global(.tabpanel) {\n    height: 100%;\n  }\n\n  :global(.tabpanels) {\n    height: calc(100% - 2rem);\n  }\n\n  :global(.tab) {\n    margin: 0.25rem;\n    padding: 0.25rem;\n    padding-left: 0.75rem;\n    padding-right: 0.75rem;\n    border-radius: 1rem;\n  }\n\n  :global(.tab .flex) {\n    align-items: center;\n    gap: 0.25rem;\n  }\n\n  :global(.tab span|div) {\n    align-items: center;\n    gap: 0.25rem;\n    display: flex;\n  }\n\n  :global(.tab-selected svg) {\n    fill: var(--catch-detail-color-contrast);\n  }\n\n  :global(.tab-unselected) {\n    background-color: var(--background-color) !important;\n    color: var(--foreground-color) !important;\n  }\n</style>\n"],"names":["insert","target","div","anchor","action_destroyer","ariaLabel","Translations","div0","div3","append","div2","div1","dispatch","createEventDispatcher","click_handler_1","if_block0","ctx","create_if_block_6","if_block1","create_if_block_5","if_block2","create_if_block_4","if_block3","create_if_block_3","if_block4","create_if_block_2","if_block5","create_if_block_1","if_block6","create_if_block","tr","ImmutableStore","condition0","$$props","condition1","condition2","condition3","condition4","condition5","condition6","tab","UIEventSource","tabElements","getTab","$$value","selected","twJoin","$condition0","$condition1","$condition2","$condition3","$condition4","$condition5","$condition6","e","_a","$tab"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4izgCAuCMA,EAOKC,EAAAC,EAAAC,CAAA,6CAHYC,GAAAC,GAAA,KAAA,KAAAH,EAAAI,GAAa,EAAE,QAAQ,SAAS,CAAA,4pBA9BvDN,EAOCC,EAAAM,EAAAJ,CAAA,WAEDH,EA2BKC,EAAAO,EAAAL,CAAA,EAnBHM,GAkBKD,EAAAE,CAAA,EAdHD,GAEKC,EAAAC,CAAA,qbA3BD,MAAAC,EAAWC,YAOf,QAAQ,IAAI,SAAS,EACrBD,EAAS,OAAO,GAyBIE,EAAA,IAAAF,EAAS,OAAO,SAhBpC,QAAQ,IAAI,YAAY,EACxBA,EAAS,OAAO,m0BCyBc,OAAK,sKAD3BZ,EAEKC,EAAAC,EAAAC,CAAA,ynBAOLH,EAEKC,EAAAC,EAAAC,CAAA,ynBAOLH,EAEKC,EAAAC,EAAAC,CAAA,ynBAOLH,EAEKC,EAAAC,EAAAC,CAAA,0nBAOLH,EAEKC,EAAAC,EAAAC,CAAA,0nBAOLH,EAEKC,EAAAC,EAAAC,CAAA,0nBAOLH,EAEKC,EAAAC,EAAAC,CAAA,6NA5DJY,EAAAC,MAAQ,QAAMC,GAAAD,CAAA,EASdE,EAAAF,MAAQ,QAAMG,GAAAH,CAAA,EASdI,EAAAJ,MAAQ,QAAMK,GAAAL,CAAA,EASdM,EAAAN,MAAQ,QAAMO,GAAAP,CAAA,EASdQ,EAAAR,MAAQ,QAAMS,GAAAT,CAAA,EASdU,EAAAV,MAAQ,QAAMW,GAAAX,CAAA,EASdY,EAAAZ,MAAQ,QAAMa,GAAAb,CAAA,+RAtDdA,MAAQ,sHASRA,MAAQ,sHASRA,MAAQ,sHASRA,MAAQ,sHASRA,MAAQ,sHASRA,MAAQ,sHASRA,MAAQ,saAgBThB,EAAeC,EAAAC,EAAAC,CAAA,qUAKfH,EAAMC,EAAAC,EAAAC,CAAA,qUAKNH,EAAMC,EAAAC,EAAAC,CAAA,qUAKNH,EAAMC,EAAAC,EAAAC,CAAA,qUAKNH,EAAMC,EAAAC,EAAAC,CAAA,qUAKNH,EAAMC,EAAAC,EAAAC,CAAA,qUAKNH,EAAMC,EAAAC,EAAAC,CAAA,6nEAjC+Ba,EAAI,CAAA,wQArEjDhB,EAmEKC,EAAAM,EAAAJ,CAAA,8CACLH,EAsCKC,EAAAU,EAAAR,CAAA,0MArCwCa,EAAI,CAAA,6TA5EnC,wKAHlBhB,EAsHKC,EAAAC,EAAAC,CAAA,0zBA3IG2B,EAAA,IAASC,GAAe,EAAI,EACvB,GAAA,CAAA,WAAAC,EAA6BF,CAAA,EAAAG,MAC7B,GAAA,CAAA,WAAAC,EAA6BJ,CAAA,EAAAG,MAC7B,GAAA,CAAA,WAAAE,EAA6BL,CAAA,EAAAG,MAC7B,GAAA,CAAA,WAAAG,EAA6BN,CAAA,EAAAG,MAC7B,GAAA,CAAA,WAAAI,GAA6BP,CAAA,EAAAG,MAC7B,GAAA,CAAA,WAAAK,GAA6BR,CAAA,EAAAG,MAC7B,GAAA,CAAA,WAAAM,GAA6BT,CAAA,EAAAG,WAC7B,IAAAO,EAAA,IAAiCC,GAAsB,CAAC,CAAA,EAAAR,UAC/DS,EAAA,CAAA,WAOYC,IAAA,QACPH,4CAoBiBE,EAAY,CAAC,EAAAE,sBAFnB,SAAAC,CAAQ,IAAOC,EAAO,MAAOD,GAAY,UAAS,CAAGE,GAAe,QAAQ,4CAWtEL,EAAY,CAAC,EAAAE,sBAFnB,SAAAC,CAAQ,IAAOC,EAAO,MAAOD,GAAY,UAAS,CAAGG,GAAe,QAAQ,4CAWtEN,EAAY,CAAC,EAAAE,sBAFnB,SAAAC,CAAQ,IAAOC,EAAO,MAAOD,GAAY,UAAS,CAAGI,GAAe,QAAQ,4CAWtEP,EAAY,CAAC,EAAAE,sBAFnB,SAAAC,CAAQ,IAAOC,EAAO,MAAOD,GAAY,UAAS,CAAGK,GAAe,QAAQ,4CAWtER,EAAY,CAAC,EAAAE,sBAFnB,SAAAC,CAAQ,IAAOC,EAAO,MAAOD,GAAY,UAAS,CAAGM,GAAe,QAAQ,4CAWtET,EAAY,CAAC,EAAAE,sBAFnB,SAAAC,CAAQ,IAAOC,EAAO,MAAOD,GAAY,UAAS,CAAGO,GAAe,QAAQ,4CAWtEV,EAAY,CAAC,EAAAE,sBAFnB,SAAAC,CAAQ,IAAOC,EAAO,MAAOD,GAAY,UAAS,CAAGQ,IAAe,QAAQ,KAhElFC,GAAC,CACPA,EAAE,QAAU,GACdd,EAAI,QAAQc,EAAE,MAAM,maAjBvBC,EAAAb,EAAYc,CAAI,IAAhB,MAAAD,EAAmB,4BAEhBb,EAAYF,EAAI,IAAI,GACtB,OAAO,WAAA,IAAiBE,EAAYF,EAAI,IAAI,EAAE,QAAS,EAAE"}