import{S as x,i as $,s as ee,G as re,o as L,p as F,b as m,r as K,d as q,f as v,u as E,H as ne,I as oe,J as ie,v as ue,t as M,g as I,h as z,w as fe,x as Q,y as ce,z as A,A as de,C as te,D as se,E as me,e as y,a as N,c as O,q as W,m as V,j as G,n as P,N as X,R as _e,T as pe}from"./Svg-ee7c8bb0.js";import{U as C}from"./LocalStorageSource-046df3bc.js";import{T as ae,a as le}from"./Tr-82be137b.js";function ve(a){let e,s,t,r,o;const d=a[2].default,u=re(d,a,a[1],null);let g=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 20 20"},{fill:"currentColor"},{"aria-hidden":"true"},a[0]],w={};for(let n=0;n<g.length;n+=1)w=L(w,g[n]);return{c(){e=F("svg"),u&&u.c(),s=F("path"),m(s,"fill-rule","evenodd"),m(s,"d","M10 17a.75.75 0 01-.75-.75V5.612L5.29 9.77a.75.75 0 01-1.08-1.04l5.25-5.5a.75.75 0 011.08 0l5.25 5.5a.75.75 0 11-1.08 1.04l-3.96-4.158V16.25A.75.75 0 0110 17z"),m(s,"clip-rule","evenodd"),K(e,w)},m(n,_){q(n,e,_),u&&u.m(e,null),v(e,s),t=!0,r||(o=[E(e,"click",a[3]),E(e,"mouseover",a[4]),E(e,"mouseenter",a[5]),E(e,"mouseleave",a[6]),E(e,"keydown",a[7])],r=!0)},p(n,[_]){u&&u.p&&(!t||_&2)&&ne(u,d,n,n[1],t?ie(d,n[1],_,null):oe(n[1]),null),K(e,w=ue(g,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 20 20"},{fill:"currentColor"},{"aria-hidden":"true"},_&1&&n[0]]))},i(n){t||(M(u,n),t=!0)},o(n){I(u,n),t=!1},d(n){n&&z(e),u&&u.d(n),r=!1,fe(o)}}}function ge(a,e,s){const t=[];let r=Q(e,t),{$$slots:o={},$$scope:d}=e;function u(i){A.call(this,a,i)}function g(i){A.call(this,a,i)}function w(i){A.call(this,a,i)}function n(i){A.call(this,a,i)}function _(i){A.call(this,a,i)}return a.$$set=i=>{e=L(L({},e),ce(i)),s(0,r=Q(e,t)),"$$scope"in i&&s(1,d=i.$$scope)},[r,d,o,u,g,w,n,_]}class we extends x{constructor(e){super(),$(this,e,ge,ve,ee,{})}}function Y(a){let e,s,t,r,o,d,u,g,w,n,_,i,h,k,T,c,p,U,B,b,D;h=new we({props:{class:"",style:`transform: rotate( ${a[4]}deg )`}});const j=[be,he],l=[];function H(f,S){return f[6]?0:1}return c=H(a),p=l[c]=j[c](a),b=new ae({props:{t:le.t.validation.slope.inputExplanation}}),{c(){e=y("div"),s=y("div"),t=y("div"),r=y("div"),d=N(),u=y("div"),w=N(),n=y("div"),_=N(),i=y("div"),O(h.$$.fragment),k=N(),T=y("div"),p.c(),U=N(),B=y("div"),O(b.$$.fragment),m(r,"class","absolute top-0 left-0 w-16 h-16 interactive"),m(r,"style",o=`transform: rotate( ${-a[2]}deg ); transform-origin: 100% 100%`),m(u,"class","absolute top-0 left-0 w-16 h-16 interactive"),m(u,"style",g=`transform: rotate( ${90+a[2]}deg ); transform-origin: 100% 100%`),m(n,"class","absolute top-0 mt-8 left-0 w-32 h-32 interactive"),m(i,"class","absolute w-30 h-30 top-0 left-0 rounded-full"),m(t,"class","shrink-0 relative w-32 h-32 p-0 m-0 overflow-hidden"),W(t,"border-radius","9999px"),W(t,"background","greenyellow"),m(T,"class","font-bold w-full flex justify-center items-center"),m(s,"class","flex w-full"),m(e,"class","flex flex-col m-2")},m(f,S){q(f,e,S),v(e,s),v(s,t),v(t,r),v(t,d),v(t,u),v(t,w),v(t,n),v(t,_),v(t,i),V(h,i,null),v(s,k),v(s,T),l[c].m(T,null),v(e,U),v(e,B),V(b,B,null),D=!0},p(f,S){(!D||S&4&&o!==(o=`transform: rotate( ${-f[2]}deg ); transform-origin: 100% 100%`))&&m(r,"style",o),(!D||S&4&&g!==(g=`transform: rotate( ${90+f[2]}deg ); transform-origin: 100% 100%`))&&m(u,"style",g);const R={};S&16&&(R.style=`transform: rotate( ${f[4]}deg )`),h.$set(R);let J=c;c=H(f),c===J?l[c].p(f,S):(te(),I(l[J],1,1,()=>{l[J]=null}),se(),p=l[c],p?p.p(f,S):(p=l[c]=j[c](f),p.c()),M(p,1),p.m(T,null))},i(f){D||(M(h.$$.fragment,f),M(p),M(b.$$.fragment,f),D=!0)},o(f){I(h.$$.fragment,f),I(p),I(b.$$.fragment,f),D=!1},d(f){f&&z(e),G(h),l[c].d(),G(b)}}}function he(a){let e,s;return e=new ae({props:{cls:"alert",t:le.t.validation.slope.inputIncorrect}}),{c(){O(e.$$.fragment)},m(t,r){V(e,t,r),s=!0},p:P,i(t){s||(M(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){G(e,t)}}}function be(a){let e,s,t,r;return{c(){e=y("div"),s=_e(a[7]),m(e,"class","text-5xl")},m(o,d){q(o,e,d),v(e,s),t||(r=E(e,"click",a[10]),t=!0)},p(o,d){d&128&&pe(s,o[7])},i:P,o:P,d(o){o&&z(e),t=!1,r()}}}function ye(a){let e,s,t=a[5]&&Y(a);return{c(){t&&t.c(),e=de()},m(r,o){t&&t.m(r,o),q(r,e,o),s=!0},p(r,[o]){r[5]?t?(t.p(r,o),o&32&&M(t,1)):(t=Y(r),t.c(),M(t,1),t.m(e.parentNode,e)):t&&(te(),I(t,1,1,()=>{t=null}),se())},i(r){s||(M(t),s=!0)},o(r){I(t),s=!1},d(r){t&&t.d(r),r&&z(e)}}}function ke(a){return a==="degrees"?"percentage":"degrees"}function Z(a){const e=Math.tan(a*Math.PI/180)*100;return Math.round(e/5)*5+"%"}function Me(a,e,s){let t,r,o=P,d=()=>(o(),o=X(n,l=>s(6,r=l)),n),u,g=P,w=()=>(g(),g=X(i,l=>s(7,u=l)),i);a.$$.on_destroy.push(()=>o()),a.$$.on_destroy.push(()=>g());let{value:n}=e;d();let{mode:_="percentage"}=e,{preview:i=new C(void 0)}=e;w();let h=_,{safetyMargin:k=10}=e;if(k<5)throw"Safetymargin should be at least 5, it is "+JSON.stringify(k);let T=new C(void 0),c=new C(void 0),p=new C(45),U=new C(void 0),B=new C(!1);me(a,B,l=>s(5,t=l));let b;function D(l){B.setData(!0),T.setData(Math.floor(l.alpha)),c.setData(Math.floor(l.beta)),p.setData(Math.floor(l.gamma)),U.setData(l.absolute),c.data<0?s(4,b=p.data+180):s(4,b=-p.data)}window.addEventListener("deviceorientation",D),c.map(l=>{-k<b&&b<k?(_==="degrees"?n.setData(""+l+"°"):n.setData(Z(l)),h==="degrees"?i.setData(""+l+"°"):i.setData(Z(l))):n.setData(void 0)},[c]);const j=()=>{s(3,h=ke(h))};return a.$$set=l=>{"value"in l&&d(s(0,n=l.value)),"mode"in l&&s(9,_=l.mode),"preview"in l&&w(s(1,i=l.preview)),"safetyMargin"in l&&s(2,k=l.safetyMargin)},[n,i,k,h,b,t,r,u,B,_,j]}class Te extends x{constructor(e){super(),$(this,e,Me,ye,ee,{value:0,mode:9,preview:1,safetyMargin:2})}}export{Te as S};
