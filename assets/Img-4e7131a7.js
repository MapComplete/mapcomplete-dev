var i=Object.defineProperty;var c=(n,s,t)=>s in n?i(n,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[s]=t;var o=(n,s,t)=>(c(n,typeof s!="symbol"?s+"":s,t),t);import{U as l}from"./Utils-2916eb3d.js";import{B as m}from"./index-303d939b.js";class a extends m{constructor(t,e=!1,r){super();o(this,"_src");o(this,"_rawSvg");o(this,"_options");if(t===void 0||t==="undefined")throw"Undefined src for image";this._src=t,this._rawSvg=e,this._options=r}static AsData(t){if(l.runningFromConsole)return t;try{return`data:image/svg+xml;base64,${btoa(t)}`}catch(e){return console.error("Cannot create an image for",t.slice(0,100)),console.trace("Cannot create an image for the given source string due to ",e),""}}static AsImageElement(t,e="",r=""){return`<img class="${e}" style="${r}" alt="" src="${a.AsData(t)}">`}AsMarkdown(){if(this._rawSvg===!0){console.warn("Converting raw svgs to markdown is not supported");return}let t=this._src;return this._src.startsWith("./")&&(t="https://mapcomplete.org/"+t),"![]("+t+")"}InnerConstructElement(){const t=this;if(this._rawSvg){const r=document.createElement("div");return r.innerHTML=this._src,r}const e=document.createElement("img");return e.src=this._src,e.onload=()=>{e.style.opacity="1"},e.onerror=()=>{var r;if((r=t._options)!=null&&r.fallbackImage){if(e.src===t._options.fallbackImage)return;e.src=t._options.fallbackImage}},e}}export{a as I};
//# sourceMappingURL=Img-4e7131a7.js.map
