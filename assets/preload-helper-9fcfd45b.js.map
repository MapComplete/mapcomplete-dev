{"version":3,"file":"preload-helper-9fcfd45b.js","sources":["../../node_modules/@rgossiaux/svelte-heroicons/solid/XCircle/XCircle.svelte","../../node_modules/trap-focus-svelte/dist/trap-focus-svelte.svelte.js","../../src/UI/Base/FloatOver.svelte","../../src/UI/Base/TabbedGroup.svelte"],"sourcesContent":["<!-- svelte-ignore a11y-mouse-events-have-key-events --><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" aria-hidden=\"true\" {...$$restProps} on:click on:mouseover on:mouseenter on:mouseleave on:keydown><slot />\n  <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clip-rule=\"evenodd\"/>\n</svg>","let t=[];function e(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}function n(n,o=1){let c=0;const u=e(document,\"keydown\",(t=>c=t.shiftKey&&\"Tab\"==t.key));function r(){const t=[...n.querySelectorAll(\"*\")].filter((t=>t.tabIndex>=0));return[t.at(0)??n,t.at(-1)??n]}let s;function f(){t.push(n),s=document.activeElement,r().at(0).focus()}function i(){t=t.filter((t=>t!=n)),s.focus()}o&&f();const a=e=>t.at(-1)?.contains(e),d=e(n,\"focusout\",(t=>{if(a(n)){const[e,n]=r();t.target==e&&c?n.focus():t.target!=n||c||e.focus()}})),l=e(document,\"focusin\",(t=>{if(a(n)&&!a(t.target)){const[t,e]=r();(c?e:t).focus()}}));return{update(t){t?f():i()},destroy(){u(),l(),d(),i()}}}export{n as trapFocus};\n","<script lang=\"ts\">\n  import { createEventDispatcher } from \"svelte\"\n  import { XCircleIcon } from \"@rgossiaux/svelte-heroicons/solid\"\n  import { twMerge } from \"tailwind-merge\"\n  import { trapFocus } from \"trap-focus-svelte\"\n  import { ariaLabel } from \"../../Utils/ariaLabel\"\n  import Translations from \"../i18n/Translations\"\n\n  /**\n   * The slotted element will be shown on top, with a lower-opacity border\n   */\n  const dispatch = createEventDispatcher<{ close }>()\n\n</script>\n\n<!-- Draw the background over the total screen -->\n<div\n  class=\"absolute top-0 left-0 h-screen w-screen\"\n  on:click={() => {\n    dispatch(\"close\")\n  }}\n  style=\"background-color: #00000088; z-index: 20\"\n/>\n<!-- draw a _second_ absolute div, placed using 'bottom' which will be above the navigation bar on mobile browsers -->\n<div\n  class={\"absolute bottom-0 right-0 h-full w-screen p-4 md:p-6\"}\n  style=\"z-index: 21\"\n  use:trapFocus\n>\n  <div class=\"content normal-background h-full\" on:click|stopPropagation={() => {}}>\n    <div class=\"h-full rounded-xl\">\n      <slot />\n    </div>\n    <slot name=\"close-button\">\n      <!-- The close button is placed _after_ the default slot in order to always paint it on top -->\n      <button\n        class=\"absolute right-10 top-10 h-8 w-8 cursor-pointer rounded-full border-none bg-white p-0\"\n        on:click={() => dispatch(\"close\")}\n        use:ariaLabel={Translations.t.general.backToMap}\n      >\n        <XCircleIcon />\n      </button>\n    </slot>\n  </div>\n</div>\n\n<style>\n  .content {\n    border-radius: 0.5rem;\n    overflow-x: hidden;\n    box-shadow: 0 0 1rem #00000088;\n  }\n</style>\n","<script lang=\"ts\">\n  /**\n   * Thin wrapper around 'TabGroup' which binds the state\n   */\n\n  import { Tab, TabGroup, TabList, TabPanel, TabPanels } from \"@rgossiaux/svelte-headlessui\"\n  import { ImmutableStore, Store, UIEventSource } from \"../../Logic/UIEventSource\"\n  import { twJoin } from \"tailwind-merge\"\n\n  /**\n   * If a condition is given for a certain tab, it will only be shown if this condition is true.\n   * E.g.\n   * condition3 = new ImmutableStore(false) will always hide tab3 (the fourth tab)\n   */\n  const tr = new ImmutableStore(true)\n  export let condition0: Store<boolean> = tr\n  export let condition1: Store<boolean> = tr\n  export let condition2: Store<boolean> = tr\n  export let condition3: Store<boolean> = tr\n  export let condition4: Store<boolean> = tr\n  export let condition5: Store<boolean> = tr\n  export let condition6: Store<boolean> = tr\n  export let tab: UIEventSource<number> = new UIEventSource<number>(0)\n  let tabElements: HTMLElement[] = []\n  $: tabElements[$tab]?.click()\n  $: {\n    if (tabElements[tab.data]) {\n      window.setTimeout(() => tabElements[tab.data].click(), 50)\n    }\n  }\n  export function getTab() {\n    return tab\n  }\n</script>\n\n<div class=\"tabbedgroup flex h-full w-full\">\n  <TabGroup\n    class=\"flex h-full w-full flex-col\"\n    defaultIndex={1}\n    on:change={(e) => {\n      if (e.detail >= 0) {\n        tab.setData(e.detail)\n      }\n    }}\n  >\n    <div class=\"interactive sticky top-0 flex items-center justify-between\">\n      <TabList class=\"flex flex-wrap\">\n        {#if $$slots.title0}\n          <Tab\n            class={({ selected }) => twJoin(\"tab\", selected && \"primary\", !$condition0 && \"hidden\")}\n          >\n            <div bind:this={tabElements[0]} class=\"flex\">\n              <slot name=\"title0\">Tab 0</slot>\n            </div>\n          </Tab>\n        {/if}\n        {#if $$slots.title1}\n          <Tab\n            class={({ selected }) => twJoin(\"tab\", selected && \"primary\", !$condition1 && \"hidden\")}\n          >\n            <div bind:this={tabElements[1]} class=\"flex\">\n              <slot name=\"title1\" />\n            </div>\n          </Tab>\n        {/if}\n        {#if $$slots.title2}\n          <Tab\n            class={({ selected }) => twJoin(\"tab\", selected && \"primary\", !$condition2 && \"hidden\")}\n          >\n            <div bind:this={tabElements[2]} class=\"flex\">\n              <slot name=\"title2\" />\n            </div>\n          </Tab>\n        {/if}\n        {#if $$slots.title3}\n          <Tab\n            class={({ selected }) => twJoin(\"tab\", selected && \"primary\", !$condition3 && \"hidden\")}\n          >\n            <div bind:this={tabElements[3]} class=\"flex\">\n              <slot name=\"title3\" />\n            </div>\n          </Tab>\n        {/if}\n        {#if $$slots.title4}\n          <Tab\n            class={({ selected }) => twJoin(\"tab\", selected && \"primary\", !$condition4 && \"hidden\")}\n          >\n            <div bind:this={tabElements[4]} class=\"flex\">\n              <slot name=\"title4\" />\n            </div>\n          </Tab>\n        {/if}\n        {#if $$slots.title5}\n          <Tab\n            class={({ selected }) => twJoin(\"tab\", selected && \"primary\", !$condition5 && \"hidden\")}\n          >\n            <div bind:this={tabElements[5]} class=\"flex\">\n              <slot name=\"title5\" />\n            </div>\n          </Tab>\n        {/if}\n        {#if $$slots.title6}\n          <Tab\n            class={({ selected }) => twJoin(\"tab\", selected && \"primary\", !$condition6 && \"hidden\")}\n          >\n            <div bind:this={tabElements[6]} class=\"flex\">\n              <slot name=\"title6\" />\n            </div>\n          </Tab>\n        {/if}\n      </TabList>\n      <slot name=\"post-tablist\" />\n    </div>\n    <div class=\"normal-background h-full overflow-y-auto\">\n      <TabPanels class=\"tabpanels\" defaultIndex={$tab}>\n        <TabPanel class=\"tabpanel\">\n          <slot name=\"content0\">\n            <div>Empty</div>\n          </slot>\n        </TabPanel>\n        <TabPanel class=\"tabpanel\">\n          <slot name=\"content1\">\n            <div />\n          </slot>\n        </TabPanel>\n        <TabPanel class=\"tabpanel\">\n          <slot name=\"content2\">\n            <div />\n          </slot>\n        </TabPanel>\n        <TabPanel class=\"tabpanel\">\n          <slot name=\"content3\">\n            <div />\n          </slot>\n        </TabPanel>\n        <TabPanel class=\"tabpanel\">\n          <slot name=\"content4\">\n            <div />\n          </slot>\n        </TabPanel>\n        <TabPanel class=\"tabpanel\">\n          <slot name=\"content5\">\n            <div />\n          </slot>\n        </TabPanel>\n        <TabPanel class=\"tabpanel\">\n          <slot name=\"content6\">\n            <div />\n          </slot>\n        </TabPanel>\n      </TabPanels>\n    </div>\n  </TabGroup>\n</div>\n\n<style>\n  .tabbedgroup {\n    max-height: 100vh;\n    height: 100%;\n  }\n\n  :global(.tabpanel) {\n    height: 100%;\n  }\n\n  :global(.tabpanels) {\n    height: calc(100% - 2rem);\n  }\n\n  :global(.tab) {\n    margin: 0.25rem;\n    padding: 0.25rem;\n    padding-left: 0.75rem;\n    padding-right: 0.75rem;\n    border-radius: 1rem;\n  }\n\n  :global(.tab .flex) {\n    align-items: center;\n    gap: 0.25rem;\n  }\n\n  :global(.tab span|div) {\n    align-items: center;\n    gap: 0.25rem;\n    display: flex;\n  }\n\n  :global(.tab-selected svg) {\n    fill: var(--catch-detail-color-contrast);\n  }\n\n  :global(.tab-unselected) {\n    background-color: var(--background-color) !important;\n    color: var(--foreground-color) !important;\n  }\n</style>\n"],"names":["ctx","insert","target","svg","anchor","append","path","t","e","n","o","c","u","r","s","f","i","a","_a","d","l","button","action_destroyer","ariaLabel","Translations","div0","div3","div2","div1","dispatch","createEventDispatcher","click_handler_1","div","if_block0","create_if_block_6","if_block1","create_if_block_5","if_block2","create_if_block_4","if_block3","create_if_block_3","if_block4","create_if_block_2","if_block5","create_if_block_1","if_block6","create_if_block","tr","ImmutableStore","condition0","$$props","condition1","condition2","condition3","condition4","condition5","condition6","tab","UIEventSource","tabElements","getTab","$$value","selected","twJoin","$condition0","$condition1","$condition2","$condition3","$condition4","$condition5","$condition6","$tab"],"mappings":"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","x_google_ignoreList":[0,1]}