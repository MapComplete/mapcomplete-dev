{"version":3,"file":"Tr-31f3fb3c.js","sources":["../../src/UI/Base/FromHtml.svelte","../../src/UI/Base/WeblateLink.svelte","../../src/UI/Base/Tr.svelte"],"sourcesContent":["<script lang=\"ts\">\n  /**\n   * Given an HTML string, properly shows this\n   */\n  import { Utils } from \"../../Utils\"\n\n  export let src: string\n\n  let htmlElem: HTMLElement\n  $: {\n    if (htmlElem) {\n      htmlElem.innerHTML = Utils.purify(src)\n    }\n  }\n\n  export let clss: string | undefined = undefined\n</script>\n\n{#if src !== undefined}\n  <span bind:this={htmlElem} class={clss} />\n{/if}\n","<script lang=\"ts\">\n  import Locale from \"../i18n/Locale\"\n  import LinkToWeblate from \"./LinkToWeblate\"\n\n  /**\n   * Shows a small icon which will open up weblate; a contributor can translate the item for 'context' there\n   */\n  export let context: string\n\n  let linkToWeblate = Locale.showLinkToWeblate\n  let linkOnMobile = Locale.showLinkOnMobile\n  let language = Locale.language\n</script>\n\n{#if !!context && context.indexOf(\":\") > 0}\n  {#if $linkOnMobile}\n    <a\n      href={LinkToWeblate.hrefToWeblate($language, context)}\n      target=\"_blank\"\n      class=\"weblate-link mx-1\"\n    >\n      <img src=\"./assets/svg/translate.svg\" class=\"font-gray\" />\n    </a>\n  {:else if $linkToWeblate}\n    <a\n      href={LinkToWeblate.hrefToWeblate($language, context)}\n      class=\"weblate-link hidden-on-mobile mx-1\"\n      target=\"_blank\"\n    >\n      <img src=\"./assets/svg/translate.svg\" class=\"font-gray inline-block\" />\n    </a>\n  {/if}\n{/if}\n","<script lang=\"ts\">\n  /**\n   * Properly renders a translation\n   */\n  import { Translation } from \"../i18n/Translation\"\n  import { onDestroy } from \"svelte\"\n  import Locale from \"../i18n/Locale\"\n  import { Utils } from \"../../Utils\"\n  import FromHtml from \"./FromHtml.svelte\"\n  import WeblateLink from \"./WeblateLink.svelte\"\n\n  export let t: Translation\n  export let cls: string = \"\"\n  export let tags: Record<string, string> | undefined = undefined\n  // Text for the current language\n  let txt: string | undefined\n\n  $: onDestroy(\n    Locale.language.addCallbackAndRunD((l) => {\n      const translation = t?.textFor(l)\n      if (translation === undefined) {\n        return\n      }\n      if (tags) {\n        txt = Utils.SubstituteKeys(txt, tags)\n      } else {\n        txt = translation\n      }\n    })\n  )\n</script>\n\n{#if t}\n  <span class={cls}>\n    <FromHtml src={txt} />\n    <WeblateLink context={t.context} />\n  </span>\n{/if}\n"],"names":["ctx","insert","target","span","anchor","if_block","create_if_block","src","$$props","htmlElem","clss","$$value","$$invalidate","Utils","create_if_block_1","create_if_block_2","attr","a","a_href_value","LinkToWeblate","append","img","dirty","show_if","context","linkToWeblate","Locale","linkOnMobile","language","weblatelink","WeblateLink","weblatelink_changes","t","cls","tags","txt","onDestroy","l","translation"],"mappings":"6UAmBoCA,EAAI,CAAA,CAAA,UAAtCC,EAAyCC,EAAAC,EAAAC,CAAA,mCAAPJ,EAAI,CAAA,CAAA,iDADnCK,EAAAL,OAAQ,QAASM,EAAAN,CAAA,mEAAjBA,OAAQ,gIAZA,IAAAO,CAAA,EAAAC,EAEPC,EAOO,CAAA,KAAAC,QAA2B,EAAAF,2CAIrBC,EAAQE,uHATnBF,GACFG,EAAA,EAAAH,EAAS,UAAYI,EAAM,OAAON,CAAG,EAAAE,CAAA,6HCIpCT,EAAa,CAAA,EAAA,OAAAc,KAQRd,EAAc,CAAA,EAAA,OAAAe,mVAEdC,EAAAC,EAAA,OAAAC,EAAAC,EAAc,cAAcnB,KAAWA,EAAO,CAAA,CAAA,CAAA,mFADtDC,EAMGC,EAAAe,EAAAb,CAAA,EADDgB,EAAsEH,EAAAI,CAAA,UAJhEC,EAAA,GAAAJ,KAAAA,EAAAC,EAAc,cAAcnB,KAAWA,EAAO,CAAA,CAAA,0KAR9CgB,EAAAC,EAAA,OAAAC,EAAAC,EAAc,cAAcnB,KAAWA,EAAO,CAAA,CAAA,CAAA,kEADtDC,EAMGC,EAAAe,EAAAb,CAAA,EADDgB,EAAyDH,EAAAI,CAAA,UAJnDC,EAAA,GAAAJ,KAAAA,EAAAC,EAAc,cAAcnB,KAAWA,EAAO,CAAA,CAAA,gDAHnD,IAAAuB,EAAA,CAAA,CAAAvB,MAAWA,EAAO,CAAA,EAAC,QAAQ,GAAG,EAAI,+EAAlCsB,EAAA,IAAAC,EAAA,CAAA,CAAAvB,MAAWA,EAAO,CAAA,EAAC,QAAQ,GAAG,EAAI,qIAP5B,QAAAwB,CAAA,EAAAhB,EAEPiB,EAAgBC,EAAO,yCACvBC,EAAeD,EAAO,wCACtBE,EAAWF,EAAO,6NCuBL1B,EAAG,CAAA,CAAA,CAAA,CAAA,EACI6B,EAAA,IAAAC,EAAA,CAAA,MAAA,CAAA,QAAA9B,KAAE,OAAO,CAAA,CAAA,uEAFpBA,EAAG,CAAA,CAAA,UAAhBC,EAGMC,EAAAC,EAAAC,CAAA,qEAFWJ,EAAG,CAAA,wBACIsB,EAAA,IAAAS,EAAA,QAAA/B,KAAE,0CAFbA,EAAG,CAAA,CAAA,2JADbA,EAAC,CAAA,GAAAM,EAAAN,CAAA,wEAADA,EAAC,CAAA,6LArBO,EAAAgC,CAAA,EAAAxB,EACA,CAAA,IAAAyB,EAAc,EAAA,EAAAzB,EACd,CAAA,KAAA0B,QAA2C,EAAA1B,EAElD2B,4HAEDC,EACDV,EAAO,SAAS,mBAAoBW,GAAA,CAC5B,MAAAC,EAAcN,GAAA,YAAAA,EAAG,QAAQK,GAC3BC,aAGAJ,EACFtB,EAAA,EAAAuB,EAAMtB,EAAM,eAAesB,EAAKD,CAAI,CAAA,EAEpCtB,EAAA,EAAAuB,EAAMG,CAAA"}