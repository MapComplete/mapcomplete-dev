{"version":3,"file":"index-385a3fd1.js","sources":["../../node_modules/@babeard/svelte-heroicons/mini/Eye/Eye.svelte","../../src/assets/svg/Logo.svelte","../../src/UI/BigComponents/MoreScreen.ts","../../src/assets/svg/Pencil.svelte","../../src/UI/BigComponents/NoThemeResultButton.svelte","../../src/UI/BigComponents/ThemeButton.svelte","../../src/UI/BigComponents/ThemesList.svelte","../../src/UI/BigComponents/UnofficialThemeList.svelte","../../src/UI/AllThemesGui.svelte","../../src/all_themes_index.ts"],"sourcesContent":["<!-- svelte-ignore a11y-mouse-events-have-key-events --><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" aria-hidden=\"true\" {...$$restProps} on:click on:mouseover on:mouseenter on:mouseleave on:keydown><slot />\n  <path d=\"M10 12.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z\"/>\n  <path fill-rule=\"evenodd\" d=\"M.664 10.59a1.651 1.651 0 010-1.186A10.004 10.004 0 0110 3c4.257 0 7.893 2.66 9.336 6.41.147.381.146.804 0 1.186A10.004 10.004 0 0110 17c-4.257 0-7.893-2.66-9.336-6.41zM14 10a4 4 0 11-8 0 4 4 0 018 0z\" clip-rule=\"evenodd\"/>\n</svg>","<script>\nexport let color = \"#000000\"\n</script>\n <svg {...$$restProps} on:click on:mouseover on:mouseenter on:mouseleave on:keydown xmlns=\"http://www.w3.org/2000/svg\" width=\"375px\" height=\"375px\" viewBox=\"0 0 375 375\" version=\"1.1\">   <g id=\"surface1\">     <path style=\" stroke:none;fill-rule:nonzero;fill:rgb(43.921569%,77.254903%,28.627452%);fill-opacity:1;\" d=\"M 201.085938 355.023438 C 195.375 366.917969 178.441406 366.917969 172.734375 355.023438 L 76.523438 154.683594 C 71.507812 144.242188 79.117188 132.148438 90.699219 132.148438 L 283.117188 132.148438 C 294.699219 132.148438 302.308594 144.242188 297.296875 154.683594 Z M 201.085938 355.023438 \"/>     <path style=\" stroke:none;fill-rule:nonzero;fill:rgb(43.921569%,77.254903%,28.627452%);fill-opacity:1;\" d=\"M 342.59375 158.097656 C 342.59375 243.210938 273.59375 312.207031 188.480469 312.207031 C 103.367188 312.207031 34.371094 243.210938 34.371094 158.097656 C 34.371094 72.984375 103.367188 3.984375 188.480469 3.984375 C 273.59375 3.984375 342.59375 72.984375 342.59375 158.097656 Z M 342.59375 158.097656 \"/>     <path style=\"fill: none !important;stroke-width:7.514114;stroke-linecap:round;stroke-linejoin:miter;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:4;\" d=\"M 22.101062 291.358818 L 5.785685 275.043441 \" transform=\"matrix(4.921187,-4.921187,4.921187,4.921187,-1274.875828,-1169.962203)\"/>     <path style=\"fill: none !important;stroke-width:7.514114;stroke-linecap:round;stroke-linejoin:miter;stroke:rgb(100%,100%,100%);stroke-opacity:1;stroke-miterlimit:4;\" d=\"M 22.125669 274.965256 L 5.810292 291.280633 \" transform=\"matrix(4.921187,-4.921187,4.921187,4.921187,-1274.875828,-1169.962203)\"/>   </g> </svg>","import { LayoutInformation } from \"../../Models/ThemeConfig/LayoutConfig\"\nimport { ImmutableStore, Store } from \"../../Logic/UIEventSource\"\nimport { Utils } from \"../../Utils\"\nimport themeOverview from \"../../assets/generated/theme_overview.json\"\nimport Locale from \"../i18n/Locale\"\n\nexport default class MoreScreen {\n    public static readonly officialThemes: LayoutInformation[] = themeOverview\n\n    public static applySearch(searchTerm: string) {\n        searchTerm = searchTerm.toLowerCase()\n        if (!searchTerm) {\n            return\n        }\n        if (searchTerm === \"personal\") {\n            window.location.href = MoreScreen.createUrlFor({ id: \"personal\" }, false).data\n        }\n        if (searchTerm === \"bugs\" || searchTerm === \"issues\") {\n            window.location.href = \"https://github.com/pietervdvn/MapComplete/issues\"\n        }\n        if (searchTerm === \"source\") {\n            window.location.href = \"https://github.com/pietervdvn/MapComplete\"\n        }\n        if (searchTerm === \"docs\") {\n            window.location.href = \"https://github.com/pietervdvn/MapComplete/tree/develop/Docs\"\n        }\n        if (searchTerm === \"osmcha\" || searchTerm === \"stats\") {\n            window.location.href = Utils.OsmChaLinkFor(7)\n        }\n        // Enter pressed -> search the first _official_ matchin theme and open it\n        const publicTheme = MoreScreen.officialThemes.find(\n            (th) =>\n                th.hideFromOverview == false &&\n                th.id !== \"personal\" &&\n                MoreScreen.MatchesLayout(th, searchTerm)\n        )\n        if (publicTheme !== undefined) {\n            window.location.href = MoreScreen.createUrlFor(publicTheme, false).data\n        }\n        const hiddenTheme = MoreScreen.officialThemes.find(\n            (th) => th.id !== \"personal\" && MoreScreen.MatchesLayout(th, searchTerm)\n        )\n        if (hiddenTheme !== undefined) {\n            window.location.href = MoreScreen.createUrlFor(hiddenTheme, false).data\n        }\n    }\n\n    public static MatchesLayout(\n        layout: {\n            id: string\n            title: any\n            shortDescription: any\n            keywords?: any[]\n        },\n        search: string\n    ): boolean {\n        if (search === undefined) {\n            return true\n        }\n        search = Utils.RemoveDiacritics(search.toLocaleLowerCase())\n        if (search.length > 3 && layout.id.toLowerCase().indexOf(search) >= 0) {\n            return true\n        }\n        if (layout.id === \"personal\") {\n            return false\n        }\n        const entitiesToSearch = [layout.shortDescription, layout.title, ...(layout.keywords ?? [])]\n        for (const entity of entitiesToSearch) {\n            if (entity === undefined) {\n                continue\n            }\n            const term = entity[\"*\"] ?? entity[Locale.language.data]\n            if (Utils.RemoveDiacritics(term?.toLowerCase())?.indexOf(search) >= 0) {\n                return true\n            }\n        }\n\n        return false\n    }\n\n    public static createUrlFor(\n        layout: { id: string; definition?: string },\n        isCustom: boolean,\n        state?: { layoutToUse?: { id } }\n    ): Store<string> {\n        if (layout === undefined) {\n            return undefined\n        }\n        if (layout.id === undefined) {\n            console.error(\"ID is undefined for layout\", layout)\n            return undefined\n        }\n\n        if (layout.id === state?.layoutToUse?.id) {\n            return undefined\n        }\n\n        let path = window.location.pathname\n        // Path starts with a '/' and contains everything, e.g. '/dir/dir/page.html'\n        path = path.substr(0, path.lastIndexOf(\"/\"))\n        // Path will now contain '/dir/dir', or empty string in case of nothing\n        if (path === \"\") {\n            path = \".\"\n        }\n\n        let linkPrefix = `${path}/${layout.id.toLowerCase()}.html?`\n        if (location.hostname === \"localhost\" || location.hostname === \"127.0.0.1\") {\n            linkPrefix = `${path}/theme.html?layout=${layout.id}&`\n        }\n\n        if (isCustom) {\n            linkPrefix = `${path}/theme.html?userlayout=${layout.id}&`\n        }\n\n        let hash = \"\"\n        if (layout.definition !== undefined) {\n            hash = \"#\" + btoa(JSON.stringify(layout.definition))\n        }\n\n        return new ImmutableStore<string>(`${linkPrefix}${hash}`)\n    }\n}\n","<script>\nexport let color = \"#000000\"\n</script>\n <svg {...$$restProps} on:click on:mouseover on:mouseenter on:mouseleave on:keydown xmlns=\"http://www.w3.org/2000/svg\" width=\"328px\" height=\"374px\" viewBox=\"0 0 328 374\" version=\"1.1\">   <g id=\"surface1\">     <path style=\" stroke:none;fill-rule:nonzero;fill:{color};fill-opacity:1;\" d=\"M 257.714844 23.375 L 210.855469 70.125 L 281.144531 140.25 L 328 93.5 Z M 0 280.5 L 0.25 350.832031 L 70.285156 350.625 L 257.714844 163.625 L 187.429688 93.5 Z M 70.285156 327.25 L 23.429688 327.25 L 23.429688 280.5 L 46.855469 280.5 L 46.855469 303.875 L 70.285156 303.875 Z M 70.285156 327.25 \"/>   </g> </svg>","<script context=\"module\" lang=\"ts\">\n  export interface Theme {\n    id: string\n    icon: string\n    title: any\n    shortDescription: any\n    definition?: any\n    mustHaveLanguage?: boolean\n    hideFromOverview: boolean\n    keywords?: any[]\n  }\n</script>\n\n<script lang=\"ts\">\n  import { UIEventSource } from \"../../Logic/UIEventSource\"\n  import Svg from \"../../Svg\"\n  import ToSvelte from \"../Base/ToSvelte.svelte\"\n  import Translations from \"../i18n/Translations\"\n  import Tr from \"../Base/Tr.svelte\"\n\n  export let search: UIEventSource<string>\n\n  const t = Translations.t.general.morescreen\n</script>\n\n<div class=\"w-full\">\n  <h5>{t.noMatchingThemes.toString()}</h5>\n  <div class=\"flex justify-center\">\n    <button on:click={() => search.setData(\"\")}>\n      <ToSvelte construct={Svg.search_disable_svg().SetClass(\"w-6 mr-2\")} />\n      <Tr slot=\"message\" t={t.noSearch} />\n    </button>\n  </div>\n</div>\n","<script lang=\"ts\">\n  import { Translation } from \"../i18n/Translation\"\n  import * as personal from \"../../../assets/themes/personal/personal.json\"\n  import { ImmutableStore, Store, UIEventSource } from \"../../Logic/UIEventSource\"\n  import UserDetails, { OsmConnection } from \"../../Logic/Osm/OsmConnection\"\n  import Constants from \"../../Models/Constants\"\n  import type { LayoutInformation } from \"../../Models/ThemeConfig/LayoutConfig\"\n  import Tr from \"../Base/Tr.svelte\"\n  import SubtleLink from \"../Base/SubtleLink.svelte\"\n  import Translations from \"../i18n/Translations\"\n  import { LocalStorageSource } from \"../../Logic/Web/LocalStorageSource\"\n\n  export let theme: LayoutInformation\n  export let isCustom: boolean = false\n  export let userDetails: UIEventSource<UserDetails>\n  export let state: { layoutToUse?: { id: string }; osmConnection: OsmConnection }\n  export let selected: boolean = false\n\n  let unlockedPersonal = LocalStorageSource.GetParsed(\"unlocked_personal_theme\", false)\n\n  userDetails.addCallbackAndRunD((userDetails) => {\n    if (!userDetails.loggedIn) {\n      return\n    }\n    if (userDetails.csCount > Constants.userJourney.personalLayoutUnlock) {\n      unlockedPersonal.setData(true)\n    }\n    return true\n  })\n\n  $: title = new Translation(\n    theme.title,\n    !isCustom && !theme.mustHaveLanguage ? \"themes:\" + theme.id + \".title\" : undefined\n  )\n  $: description = new Translation(theme.shortDescription)\n\n  // TODO: Improve this function\n  function createUrl(\n    layout: { id: string; definition?: string },\n    isCustom: boolean,\n    state?: { layoutToUse?: { id } }\n  ): Store<string> {\n    if (layout === undefined) {\n      return undefined\n    }\n    if (layout.id === undefined) {\n      console.error(\"ID is undefined for layout\", layout)\n      return undefined\n    }\n\n    if (layout.id === state?.layoutToUse?.id) {\n      return undefined\n    }\n\n    let path = window.location.pathname\n    // Path starts with a '/' and contains everything, e.g. '/dir/dir/page.html'\n    path = path.substr(0, path.lastIndexOf(\"/\"))\n    // Path will now contain '/dir/dir', or empty string in case of nothing\n    if (path === \"\") {\n      path = \".\"\n    }\n\n    let linkPrefix = `${path}/${layout.id.toLowerCase()}.html?`\n    if (\n      location.hostname === \"localhost\" ||\n      location.hostname === \"127.0.0.1\" ||\n      location.port === \"1234\"\n    ) {\n      // Redirect to 'theme.html?layout=* instead of 'layout.html'. This is probably a debug run, where the routing does not work\n      linkPrefix = `${path}/theme.html?layout=${layout.id}&`\n    }\n\n    if (isCustom) {\n      linkPrefix = `${path}/theme.html?userlayout=${layout.id}&`\n    }\n\n    let hash = \"\"\n    if (layout.definition !== undefined) {\n      hash = \"#\" + btoa(JSON.stringify(layout.definition))\n    }\n\n    return new ImmutableStore<string>(`${linkPrefix}${hash}`)\n  }\n\n  let href = createUrl(theme, isCustom, state)\n</script>\n\n{#if theme.id !== personal.id || $unlockedPersonal}\n  <SubtleLink href={$href} options={{ extraClasses: \"w-full\" }}>\n    <img slot=\"image\" src={theme.icon} class=\"m-1 mr-2 block h-11 w-11 sm:m-2 sm:mr-4\" alt=\"\" />\n    <span class=\"flex flex-col overflow-hidden text-ellipsis\">\n      <Tr t={title} />\n\n      {#if selected}\n        <span class=\"alert\" aria-hidden=\"true\">\n          <Tr t={Translations.t.general.morescreen.enterToOpen} />\n        </span>\n      {/if}\n    </span>\n  </SubtleLink>\n{/if}\n","<script lang=\"ts\">\n  import NoThemeResultButton from \"./NoThemeResultButton.svelte\"\n\n  import { OsmConnection } from \"../../Logic/Osm/OsmConnection\"\n  import { UIEventSource } from \"../../Logic/UIEventSource\"\n  import ThemeButton from \"./ThemeButton.svelte\"\n  import { LayoutInformation } from \"../../Models/ThemeConfig/LayoutConfig\"\n  import MoreScreen from \"./MoreScreen\"\n  import themeOverview from \"../../assets/generated/theme_overview.json\"\n\n  export let search: UIEventSource<string>\n  export let themes: LayoutInformation[]\n  export let state: { osmConnection: OsmConnection }\n  export let isCustom: boolean = false\n  export let hideThemes: boolean = true\n\n  // Filter theme based on search value\n  $: filteredThemes = themes.filter((theme) => MoreScreen.MatchesLayout(theme, $search))\n\n  // Determine which is the first theme, after the search, using all themes\n  $: allFilteredThemes = themeOverview.filter((theme) => MoreScreen.MatchesLayout(theme, $search))\n  $: firstTheme = allFilteredThemes[0]\n</script>\n\n<section class=\"w-full\">\n  <slot name=\"title\" />\n  <div class=\"gap-4 md:grid md:grid-flow-row md:grid-cols-2 lg:grid-cols-3\">\n    {#each filteredThemes as theme (theme.id)}\n      {#if theme !== undefined && !(hideThemes && theme?.hideFromOverview)}\n        <!-- TODO: doesn't work if first theme is hidden -->\n        {#if theme === firstTheme && !isCustom && $search !== \"\" && $search !== undefined}\n          <ThemeButton\n            {theme}\n            {isCustom}\n            userDetails={state.osmConnection.userDetails}\n            {state}\n            selected={true}\n          />\n        {:else}\n          <ThemeButton {theme} {isCustom} userDetails={state.osmConnection.userDetails} {state} />\n        {/if}\n      {/if}\n    {/each}\n  </div>\n\n  {#if filteredThemes.length === 0}\n    <NoThemeResultButton {search} />\n  {/if}\n</section>\n","<script lang=\"ts\">\n  import { OsmConnection } from \"../../Logic/Osm/OsmConnection\"\n  import { Store, Stores, UIEventSource } from \"../../Logic/UIEventSource\"\n  import { Utils } from \"../../Utils\"\n  import ThemesList from \"./ThemesList.svelte\"\n  import Translations from \"../i18n/Translations\"\n  import UserRelatedState from \"../../Logic/State/UserRelatedState\"\n  import Tr from \"../Base/Tr.svelte\"\n\n  export let search: UIEventSource<string>\n  export let state: UserRelatedState & {\n    osmConnection: OsmConnection\n  }\n\n  const t = Translations.t.general\n  const currentIds: Store<string[]> = state.installedUserThemes\n  const stableIds = Stores.ListStabilized<string>(currentIds)\n  let customThemes\n  $: customThemes = Utils.NoNull($stableIds.map((id) => state.GetUnofficialTheme(id)))\n  $: console.log(\"Custom themes are\", customThemes)\n</script>\n\n{#if customThemes.length > 0}\n  <ThemesList {search} {state} themes={customThemes} isCustom={true} hideThemes={false}>\n    <svelte:fragment slot=\"title\">\n      <h3>\n        <Tr t={t.customThemeTitle} />\n      </h3>\n      <Tr t={t.customThemeIntro} />\n    </svelte:fragment>\n  </ThemesList>\n{/if}\n","<script lang=\"ts\">\n  import { OsmConnectionFeatureSwitches } from \"../Logic/State/FeatureSwitchState\"\n  import { OsmConnection } from \"../Logic/Osm/OsmConnection\"\n  import { QueryParameters } from \"../Logic/Web/QueryParameters\"\n  import UserRelatedState from \"../Logic/State/UserRelatedState\"\n  import LanguagePicker from \"./InputElement/LanguagePicker.svelte\"\n  import Translations from \"./i18n/Translations\"\n  import Logo from \"../assets/svg/Logo.svelte\"\n  import Tr from \"./Base/Tr.svelte\"\n  import MoreScreen from \"./BigComponents/MoreScreen\"\n  import LoginToggle from \"./Base/LoginToggle.svelte\"\n  import Pencil from \"../assets/svg/Pencil.svelte\"\n  import Login from \"../assets/svg/Login.svelte\"\n  import Constants from \"../Models/Constants\"\n  import { Store, UIEventSource } from \"../Logic/UIEventSource\"\n  import { placeholder } from \"../Utils/placeholder\"\n  import { SearchIcon } from \"@rgossiaux/svelte-heroicons/solid\"\n  import ThemesList from \"./BigComponents/ThemesList.svelte\"\n  import { LayoutInformation } from \"../Models/ThemeConfig/LayoutConfig\"\n  import * as themeOverview from \"../assets/generated/theme_overview.json\"\n  import UnofficialThemeList from \"./BigComponents/UnofficialThemeList.svelte\"\n  import Eye from \"@babeard/svelte-heroicons/mini/Eye\"\n\n  const featureSwitches = new OsmConnectionFeatureSwitches()\n  const osmConnection = new OsmConnection({\n    fakeUser: featureSwitches.featureSwitchFakeUser.data,\n    oauth_token: QueryParameters.GetQueryParameter(\n      \"oauth_token\",\n      undefined,\n      \"Used to complete the login\"\n    ),\n  })\n  const state = new UserRelatedState(osmConnection)\n  const t = Translations.t.index\n  const tr = Translations.t.general.morescreen\n\n  let userLanguages = osmConnection.userDetails.map((ud) => ud.languages)\n  let themeSearchText: UIEventSource<string | undefined> = new UIEventSource<string>(undefined)\n\n  document.addEventListener(\"keydown\", function (event) {\n    if (event.ctrlKey && event.code === \"KeyF\") {\n      document.getElementById(\"theme-search\")?.focus()\n      event.preventDefault()\n    }\n  })\n\n  let visitedHiddenThemes: Store<LayoutInformation[]>\n  const hiddenThemes: LayoutInformation[] =\n    (themeOverview[\"default\"] ?? themeOverview)?.filter((layout) => layout.hideFromOverview) ?? []\n  {\n    const prefix = \"mapcomplete-hidden-theme-\"\n    const userPreferences = state.osmConnection.preferencesHandler.preferences\n    visitedHiddenThemes = userPreferences.map((preferences) => {\n      const knownIds = new Set<string>(\n        Object.keys(preferences)\n          .filter((key) => key.startsWith(prefix))\n          .map((key) => key.substring(prefix.length, key.length - \"-enabled\".length))\n      )\n      return hiddenThemes.filter((theme) => knownIds.has(theme.id))\n    })\n  }\n</script>\n\n<div class=\"m-4 flex flex-col\">\n  <LanguagePicker\n    clss=\"self-end max-w-full\"\n    assignTo={state.language}\n    availableLanguages={t.title.SupportedLanguages()}\n    preferredLanguages={userLanguages}\n  />\n\n  <div class=\"mt-4 flex\">\n    <div class=\"m-3 flex-none\">\n      <Logo alt=\"MapComplete Logo\" class=\"h-12 w-12 sm:h-24 sm:w-24\" />\n    </div>\n\n    <div class=\"flex flex-col\">\n      <h1 class=\"m-0 font-extrabold tracking-tight md:text-6xl\">\n        <Tr t={t.title} />\n      </h1>\n      <Tr\n        cls=\"my-4 mr-4 text-base font-semibold sm:text-lg md:mt-5 md:text-xl lg:mx-0\"\n        t={Translations.t.index.intro}\n      />\n    </div>\n  </div>\n\n  <form\n    class=\"flex justify-center\"\n    on:submit|preventDefault={(_) => MoreScreen.applySearch(themeSearchText.data)}\n  >\n    <label\n      class=\"neutral-label my-2 flex w-full items-center rounded-full border-2 border-black sm:w-1/2\"\n    >\n      <SearchIcon aria-hidden=\"true\" class=\"h-8 w-8\" />\n      <input\n        autofocus\n        bind:value={$themeSearchText}\n        class=\"mr-4 w-full\"\n        id=\"theme-search\"\n        type=\"search\"\n        use:placeholder={tr.searchForATheme}\n      />\n    </label>\n  </form>\n\n  <ThemesList search={themeSearchText} {state} themes={MoreScreen.officialThemes} />\n\n  <LoginToggle {state}>\n    <ThemesList\n      hideThemes={false}\n      isCustom={false}\n      search={themeSearchText}\n      {state}\n      themes={$visitedHiddenThemes}\n    >\n      <svelte:fragment slot=\"title\">\n        <h3>\n          <Tr t={tr.previouslyHiddenTitle} />\n        </h3>\n        <p>\n          <Tr\n            t={tr.hiddenExplanation.Subs({\n              hidden_discovered: $visitedHiddenThemes.length.toString(),\n              total_hidden: hiddenThemes.length.toString(),\n            })}\n          />\n        </p>\n      </svelte:fragment>\n    </ThemesList>\n\n    <UnofficialThemeList search={themeSearchText} {state} />\n\n    <div slot=\"not-logged-in\">\n      <button class=\"w-full\" on:click={() => osmConnection.AttemptLogin()}>\n        <Login class=\"mr-2 h-6 w-6 \" />\n        <Tr t={Translations.t.index.logIn} />\n      </button>\n    </div>\n    <a\n      class=\"button h-fit w-full\"\n      href={window.location.protocol + \"//\" + window.location.host + \"/studio.html\"}\n    >\n      <Pencil class=\"mr-2 h-6 w-6\" />\n      <Tr t={Translations.t.general.morescreen.createYourOwnTheme} />\n    </a>\n\n    <a\n      class=\"button h-fit w-full\"\n      href={window.location.protocol + \"//\" + window.location.host + \"/privacy.html\"}\n    >\n      <Eye class=\"mr-2 h-6 w-6\" />\n      <Tr t={Translations.t.privacy.title} />\n    </a>\n  </LoginToggle>\n\n  <Tr cls=\"link-underline\" t={Translations.t.general.aboutMapComplete.intro} />\n  <Tr t={tr.streetcomplete} />\n\n  <div class=\"subtle mb-16 self-end\">\n    v{Constants.vNumber}\n  </div>\n</div>\n","import { QueryParameters } from \"./Logic/Web/QueryParameters\"\nimport SvelteUIElement from \"./UI/Base/SvelteUIElement\"\nimport AllThemesGui from \"./UI/AllThemesGui.svelte\"\n\nconst layout = QueryParameters.GetQueryParameter(\"layout\", undefined).data ?? \"\"\nconst customLayout = QueryParameters.GetQueryParameter(\"userlayout\", undefined).data ?? \"\"\nconst l = window.location\nif (layout !== \"\") {\n    if (window.location.host.startsWith(\"127.0.0.1\")) {\n        window.location.replace(\n            l.protocol +\n                \"//\" +\n                window.location.host +\n                \"/theme.html\" +\n                l.search +\n                \"&layout=\" +\n                layout +\n                l.hash\n        )\n    } else {\n        window.location.replace(\n            l.protocol + \"//\" + window.location.host + \"/\" + layout + \".html\" + l.search + l.hash\n        )\n    }\n} else if (customLayout !== \"\") {\n    window.location.replace(\n        l.protocol + \"//\" + window.location.host + \"/theme.html\" + l.search + l.hash\n    )\n}\n\nnew SvelteUIElement(AllThemesGui, {}).AttachTo(\"main\")\n"],"names":["ctx","insert","target","svg","anchor","append","path0","path1","g","path2","path3","color","$$props","_MoreScreen","searchTerm","Utils","publicTheme","th","hiddenTheme","layout","search","entitiesToSearch","entity","term","Locale","_a","isCustom","state","path","linkPrefix","hash","ImmutableStore","__publicField","themeOverview","MoreScreen","Svg","div1","h5","div0","button","t","Translations","span","create_if_block_1","src_url_equal","img","img_src_value","attr","dirty","if_block","personal.id","create_if_block","theme","userDetails","selected","unlockedPersonal","LocalStorageSource","Constants","createUrl","href","title","Translation","get_key","i","section","div","themes","hideThemes","$$invalidate","filteredThemes","$search","allFilteredThemes","firstTheme","h3","currentIds","stableIds","Stores","customThemes","$stableIds","id","p","a0","a1","tr_1","Tr","tr0","div3","div4","div2","h1","form","label","input","action_destroyer","placeholder","featureSwitches","OsmConnectionFeatureSwitches","osmConnection","OsmConnection","QueryParameters","UserRelatedState","tr","userLanguages","ud","themeSearchText","UIEventSource","event","visitedHiddenThemes","hiddenThemes","themeOverview[\"default\"]","prefix","userPreferences","$$subscribe_visitedHiddenThemes","preferences","knownIds","key","$themeSearchText","_","customLayout","l","SvelteUIElement","AllThemesGui"],"mappings":"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","x_google_ignoreList":[0]}